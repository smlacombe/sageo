{%- macro bulletlink(text, target, frame='self') -%}
  <li> {{ link(text, target, frame) }}</li>
{%- endmacro %}

{%- macro link(text, target, frame='self') -%}
  {% if not ":" in target[:10] and target[0] != '/' %}
      target = "index/" + target
  {% endif %}
  <a target="{{ frame }}" href="{{ target }}">{{ text }}</a>
{%- endmacro %}

{% macro with_errors(field) -%}
  <div class="control-group{% if field.errors %} error{% endif %}">
    {{ field.label(class_='control-label') }}
    <div class=controls>
      {{ field(**kwargs) }}
      {% if field.errors %}
      {% for error in field.errors %}
      <span class=text-error>{{ error }}</span>
      {% endfor %}
      {% endif %}
    </div>
  </div>
{%- endmacro %}
