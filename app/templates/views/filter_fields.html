{% import 'lib/lib.html' as lib %}

{% set fieldargs={'class': 'hide'} %}

{%- macro text_filter(field, option_field, show_label, show_option) -%}
    {% if show_option %} {{ lib.control_group() }} {% endif %} 
        {% if show_label %} <span class="control-label">{{ option_field.label }}</span> {% endif %}
        {{ lib.controls(inline=True, otherclass='filter') }}
            {% if show_option %}
                {{ lib.print_field(option_field) }}
            {% else %}
                {{ lib.print_field(option_field, fieldargs=fieldargs) }}
            {% endif %}

            {{ lib.edit_panel() }}
                {{ lib.panel_heading(option_field.label) }}
                {{ lib.print_field(field, fieldargs={'placeholder': field.placeholder}) }}
                {{ lib.field_error(field) }}
            </div>
        </div>
    {% if show_option %} </div> {% endif %}
{%- endmacro %}

{%- macro checkbox_filter(fields, option_field, show_label, show_option) -%}
    {% if show_option %} {{ lib.control_group() }} {% endif %} 
       {% if show_option %}<span class="control-label">{{ option_field.label }}</span>{% endif %}
        {{ lib.controls(inline=True, otherclass='filter') }}
            {% if show_option %}
                {{ lib.print_field(option_field) }}
            {% else %}
                {{ lib.print_field(option_field, fieldargs=fieldargs) }}
            {% endif %}

            {{ lib.edit_panel() }}
                {{ lib.panel_heading(option_field.label) }}
                {% for field in fields %} 
                    <label class=checkbox>
                        {{ lib.print_field(field) }} {{ field.label }}
                    </label>
                {% endfor %}
            </div>
        </div>
    {% if show_option %} </div> {% endif %}
{%- endmacro %}

{%- macro radio_filter(field, option_field, show_label, show_option) -%}
    {% if show_option %} {{ lib.control_group() }} {% endif %} 
        {% if show_label %} <span class="control-label">{{ option_field.label }}</span> {% endif %}
        {{ lib.controls(inline=True, otherclass='filter') }}
            {% if show_option %}
                {{ lib.print_field(option_field) }}
            {% else %}
                {{ lib.print_field(option_field, fieldargs=fieldargs) }}
            {% endif %}

            {{ lib.edit_panel() }}
                {{ lib.panel_heading(option_field.label) }}
                {{ lib.print_radiofield(field) }}
            </div>
        </div>
    {% if show_option %} </div> {% endif %}
{%- endmacro %}
