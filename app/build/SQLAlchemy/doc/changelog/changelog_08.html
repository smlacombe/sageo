<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
                0.8 Changelog
             &mdash; 
    SQLAlchemy 0.8 Documentation

        </title>
        
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/docs.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '0.8.1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 0.8 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="0.7 Changelog" href="changelog_07.html" />
        <link rel="prev" title="What&#8217;s New in SQLAlchemy 0.8?" href="migration_08.html" />

    </head>
    <body>
        










<div id="docs-container">



<div id="docs-header">
    <h1>SQLAlchemy 0.8 Documentation</h1>

    <div id="docs-search">
    Search:
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>

    <div id="docs-version-header">
        Release: <span class="version-num">0.8.1</span> | Release Date: April 27, 2013


    </div>

</div>

<div id="docs-top-navigation">
    <div id="docs-top-page-control" class="docs-navigation-links">
        <ul>
            <li>Prev:
            <a href="migration_08.html" title="previous chapter">What&#8217;s New in SQLAlchemy 0.8?</a>
            </li>
            <li>Next:
            <a href="changelog_07.html" title="next chapter">0.7 Changelog</a>
            </li>

        <li>
            <a href="../contents.html">Table of Contents</a> |
            <a href="../genindex.html">Index</a>
            | <a href="../_sources/changelog/changelog_08.txt">view source
        </li>
        </ul>
    </div>

    <div id="docs-navigation-banner">
        <a href="../index.html">SQLAlchemy 0.8 Documentation</a>
                » <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        » 
                0.8 Changelog
             

        <h2>
            
                0.8 Changelog
            
        </h2>
    </div>

</div>

<div id="docs-body-container">

    <div id="docs-sidebar">
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">0.8 Changelog</a><ul>
<li><a class="reference internal" href="#change-0.8.1">0.8.1</a><ul>
<li><a class="reference internal" href="#change-0.8.1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.8.1-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.8.1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.8.1-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.8.1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.8.1-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.8.1-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.8.0">0.8.0</a><ul>
<li><a class="reference internal" href="#change-0.8.0-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.8.0-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.8.0-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.8.0-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.8.0-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.8.0-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.8.0-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.8.0-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.8.0b2">0.8.0b2</a><ul>
<li><a class="reference internal" href="#change-0.8.0b2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-firebird">firebird</a></li>
<li><a class="reference internal" href="#change-0.8.0b2-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.8.0b1">0.8.0b1</a><ul>
<li><a class="reference internal" href="#change-0.8.0b1-general">general</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-firebird">firebird</a></li>
<li><a class="reference internal" href="#change-0.8.0b1-misc">misc</a></li>
</ul>
</li>
</ul>
</li>
</ul>


    <h4>Previous Topic</h4>
    <p>
    <a href="migration_08.html" title="previous chapter">What&#8217;s New in SQLAlchemy 0.8?</a>
    </p>
    <h4>Next Topic</h4>
    <p>
    <a href="changelog_07.html" title="next chapter">0.7 Changelog</a>
    </p>


    <h4>Quick Search</h4>
    <p>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </p>

    </div>

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>0.8 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-0.8.1">
<h2>0.8.1<a class="headerlink" href="#change-0.8.1" title="Permalink to this headline">¶</a></h2>
Released: April 27, 2013<div class="section" id="change-0.8.1-orm">
<h3>orm<a class="headerlink" href="#change-0.8.1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-0"><span class="target" id="change-538cfca74b737d41cffcf811beddd163"><strong>[orm] [feature] </strong></span>Added a convenience method to Query that turns a query into an
EXISTS subquery of the form
<tt class="docutils literal"><span class="pre">EXISTS</span> <span class="pre">(SELECT</span> <span class="pre">1</span> <span class="pre">FROM</span> <span class="pre">...</span> <span class="pre">WHERE</span> <span class="pre">...)</span></tt>.<a class="changeset-link reference internal" href="#change-538cfca74b737d41cffcf811beddd163">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2673">#2673</a></p>
</p>
</li>
<li><p id="change-0.8.1-1"><span class="target" id="change-6b5abc76b93639e02dbac6061c8b93ff"><strong>[orm] [bug] </strong></span>Fixes to the <tt class="docutils literal"><span class="pre">sqlalchemy.ext.serializer</span></tt> extension, including
that the &#8220;id&#8221; passed from the pickler is turned into a string
to prevent against bytes being parsed on Py3K, as well as that
<tt class="docutils literal"><span class="pre">relationship()</span></tt> and <tt class="docutils literal"><span class="pre">orm.join()</span></tt> constructs are now properly
serialized.<a class="changeset-link reference internal" href="#change-6b5abc76b93639e02dbac6061c8b93ff">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2698">#2698</a></p>
</p>
</li>
<li><p id="change-0.8.1-2"><span class="target" id="change-b8cd50e1714b608fa9a53cb51fb4c8ef"><strong>[orm] [bug] </strong></span>A significant improvement to the inner workings of query.join(),
such that the decisionmaking involved on how to join has been
dramatically simplified.  New test cases now pass such as
multiple joins extending from the middle of an already complex
series of joins involving inheritance and such.   Joining from
deeply nested subquery structures is still complicated and
not without caveats, but with these improvements the edge
cases are hopefully pushed even farther out to the edges.<a class="changeset-link reference internal" href="#change-b8cd50e1714b608fa9a53cb51fb4c8ef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2714">#2714</a></p>
</p>
</li>
<li><p id="change-0.8.1-3"><span class="target" id="change-c9e76122e927bce00034de429959dcbc"><strong>[orm] [bug] </strong></span>Added a conditional to the unpickling process for ORM
mapped objects, such that if the reference to the object
were lost when the object was pickled, we don&#8217;t
erroneously try to set up _sa_instance_state - fixes
a NoneType error.<a class="changeset-link reference internal" href="#change-c9e76122e927bce00034de429959dcbc">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-4"><span class="target" id="change-693cd23b4e1f3a578dceac48c89c5508"><strong>[orm] [bug] </strong></span>Fixed bug where many-to-many relationship with uselist=False
would fail to delete the association row and raise an error
if the scalar attribute were set to None.  This was a
regression introduced by the changes for <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a>.<a class="changeset-link reference internal" href="#change-693cd23b4e1f3a578dceac48c89c5508">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2710">#2710</a></p>
</p>
</li>
<li><p id="change-0.8.1-5"><span class="target" id="change-7addcdb8589d1b8db248e399c8eff53b"><strong>[orm] [bug] </strong></span>Improved the behavior of instance management regarding
the creation of strong references within the Session;
an object will no longer have an internal reference cycle
created if it&#8217;s in the transient state or moves into the
detached state - the strong ref is created only when the
object is attached to a Session and is removed when the
object is detached.  This makes it somewhat safer for an
object to have a <cite>__del__()</cite> method, even though this is
not recommended, as relationships with backrefs produce
cycles too.  A warning has been added when a class with
a <cite>__del__()</cite> method is mapped.<a class="changeset-link reference internal" href="#change-7addcdb8589d1b8db248e399c8eff53b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2708">#2708</a></p>
</p>
</li>
<li><p id="change-0.8.1-6"><span class="target" id="change-f241aa4abf00fdb62f17b6161f0f1dc6"><strong>[orm] [bug] </strong></span>Fixed bug whereby ORM would run the wrong kind of
query when refreshing an inheritance-mapped class
where the superclass was mapped to a non-Table
object, like a custom join() or a select(),
running a query that assumed a hierarchy that&#8217;s
mapped to individual Table-per-class.<a class="changeset-link reference internal" href="#change-f241aa4abf00fdb62f17b6161f0f1dc6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2697">#2697</a></p>
</p>
</li>
<li><p id="change-0.8.1-7"><span class="target" id="change-cd903a647a5922f6bbc9db890e9f4304"><strong>[orm] [bug] </strong></span>Fixed <cite>__repr__()</cite> on mapper property constructs
to work before the object is initialized, so
that Sphinx builds with recent Sphinx versions
can read them.<a class="changeset-link reference internal" href="#change-cd903a647a5922f6bbc9db890e9f4304">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-8"><span class="target" id="change-a85f346f7c5a45a6ec0bda0e5e3c792e"><strong>[orm] [bug] </strong></span>Fixed bug when a query of the form:
<tt class="docutils literal"><span class="pre">query(SubClass).options(subqueryload(Baseclass.attrname))</span></tt>,
where <tt class="docutils literal"><span class="pre">SubClass</span></tt> is a joined inh of <tt class="docutils literal"><span class="pre">BaseClass</span></tt>,
would fail to apply the <tt class="docutils literal"><span class="pre">JOIN</span></tt> inside the subquery
on the attribute load, producing a cartesian product.
The populated results still tended to be correct as additional
rows are just ignored, so this issue may be present as a
performance degradation in applications that are
otherwise working correctly.  Also in 0.7.11.<a class="changeset-link reference internal" href="#change-a85f346f7c5a45a6ec0bda0e5e3c792e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2699">#2699</a></p>
</p>
</li>
<li><p id="change-0.8.1-9"><span class="target" id="change-33f72d18d004e2a614dd358f917e6949"><strong>[orm] [bug] </strong></span>Fixed bug in unit of work whereby a joined-inheritance
subclass could insert the row for the &#8220;sub&#8221; table
before the parent table, if the two tables had no
ForeignKey constraints set up between them.
Also in 0.7.11.<a class="changeset-link reference internal" href="#change-33f72d18d004e2a614dd358f917e6949">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2689">#2689</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.8.1-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-10"><span class="target" id="change-2b9d746e218c78a250148a29ad1fef34"><strong>[bug] [orm] [declarative] </strong></span>Fixed indirect regression regarding <a class="reference internal" href="../orm/extensions/declarative.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><tt class="xref py py-func docutils literal"><span class="pre">has_inherited_table()</span></tt></a>,
where since it considers the current class&#8217; <tt class="docutils literal"><span class="pre">__table__</span></tt>, was
sensitive to when it was called.  This is 0.7&#8217;s behavior also,
but in 0.7 things tended to &#8220;work out&#8221; within events like
<tt class="docutils literal"><span class="pre">__mapper_args__()</span></tt>.  <a class="reference internal" href="../orm/extensions/declarative.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><tt class="xref py py-func docutils literal"><span class="pre">has_inherited_table()</span></tt></a> now only
considers superclasses, so should return the same answer
regarding the current class no matter when it&#8217;s called
(obviously assuming the state of the superclass).<a class="changeset-link reference internal" href="#change-2b9d746e218c78a250148a29ad1fef34">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2656">#2656</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-sql">
<h3>sql<a class="headerlink" href="#change-0.8.1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-11"><span class="target" id="change-3686aff789b10fca55c71c0fe69557df"><strong>[sql] [feature] </strong></span>Loosened the check on dialect-specific argument names
passed to Table(); since we want to support external dialects
and also want to support args without a certain dialect
being installed, it only checks the format of the arg now,
rather than looking for that dialect in sqlalchemy.dialects.<a class="changeset-link reference internal" href="#change-3686aff789b10fca55c71c0fe69557df">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-12"><span class="target" id="change-a4d2a849342bd0b32b1a6f4a4c088ad6"><strong>[sql] [bug] [mysql] </strong></span>Fully implemented the IS and IS NOT operators with
regards to the True/False constants.  An expression like
<tt class="docutils literal"><span class="pre">col.is_(True)</span></tt> will now render <tt class="docutils literal"><span class="pre">col</span> <span class="pre">IS</span> <span class="pre">true</span></tt>
on the target platform, rather than converting the True/
False constant to an integer bound parameter.
This allows the <tt class="docutils literal"><span class="pre">is_()</span></tt> operator to work on MySQL when
given True/False constants.<a class="changeset-link reference internal" href="#change-a4d2a849342bd0b32b1a6f4a4c088ad6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">#2682</a></p>
</p>
</li>
<li><p id="change-0.8.1-13"><span class="target" id="change-e317ad63213b3197754a3d94f7507a58"><strong>[sql] [bug] </strong></span>A major fix to the way in which a select() object produces
labeled columns when apply_labels() is used; this mode
produces a SELECT where each column is labeled as in
&lt;tablename&gt;_&lt;columnname&gt;, to remove column name collisions
for a multiple table select.   The fix is that if two labels
collide when combined with the table name, i.e.
&#8220;foo.bar_id&#8221; and &#8220;foo_bar.id&#8221;, anonymous aliasing will be
applied to one of the dupes.  This allows the ORM to handle
both columns independently; previously, 0.7
would in some cases silently emit a second SELECT for the
column that was &#8220;duped&#8221;, and in 0.8 an ambiguous column error
would be emitted.   The &#8220;keys&#8221; applied to the .c. collection
of the select() will also be deduped, so that the &#8220;column
being replaced&#8221; warning will no longer emit for any select()
that specifies use_labels, though the dupe key will be given
an anonymous label which isn&#8217;t generally user-friendly.<a class="changeset-link reference internal" href="#change-e317ad63213b3197754a3d94f7507a58">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2702">#2702</a></p>
</p>
</li>
<li><p id="change-0.8.1-14"><span class="target" id="change-1f28811ac556b12ce7c452b4a3408f2a"><strong>[sql] [bug] </strong></span>Fixed bug where disconnect detect on error would
raise an attribute error if the error were being
raised after the Connection object had already
been closed.<a class="changeset-link reference internal" href="#change-1f28811ac556b12ce7c452b4a3408f2a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2691">#2691</a></p>
</p>
</li>
<li><p id="change-0.8.1-15"><span class="target" id="change-18be80dfecdf0ef6fc3df9f795f45ad4"><strong>[sql] [bug] </strong></span>Reworked internal exception raises that emit
a rollback() before re-raising, so that the stack
trace is preserved from sys.exc_info() before entering
the rollback.  This so that the traceback is preserved
when using coroutine frameworks which may have switched
contexts before the rollback function returns.<a class="changeset-link reference internal" href="#change-18be80dfecdf0ef6fc3df9f795f45ad4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2703">#2703</a></p>
</p>
</li>
<li><p id="change-0.8.1-16"><span class="target" id="change-36fe44c142145d30fafc44b26a0b2de3"><strong>[sql] [bug] [postgresql] </strong></span>The _Binary base type now converts values through
the bytes() callable when run on Python 3; in particular
psycopg2 2.5 with Python 3.3 seems to now be returning
the &#8220;memoryview&#8221; type, so this is converted to bytes
before return.<a class="changeset-link reference internal" href="#change-36fe44c142145d30fafc44b26a0b2de3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.1-17"><span class="target" id="change-8f9807690202ed982e5ae96fe1e87a63"><strong>[sql] [bug] </strong></span>Improvements to Connection auto-invalidation
handling.  If a non-disconnect error occurs,
but leads to a delayed disconnect error within error
handling (happens with MySQL), the disconnect condition
is detected.  The Connection can now also be closed
when in an invalid state, meaning it will raise &#8220;closed&#8221;
on next usage, and additionally the &#8220;close with result&#8221;
feature will work even if the autorollback in an error
handling routine fails and regardless of whether the
condition is a disconnect or not.<a class="changeset-link reference internal" href="#change-8f9807690202ed982e5ae96fe1e87a63">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2695">#2695</a></p>
</p>
</li>
<li><p id="change-0.8.1-18"><span class="target" id="change-b320bbb422d328f3f84b0ac64d30eb7d"><strong>[sql] [bug] </strong></span>Fixed bug whereby a DBAPI that can return &#8220;0&#8221;
for cursor.lastrowid would not function correctly
in conjunction with <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><tt class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></tt></a>.<a class="changeset-link reference internal" href="#change-b320bbb422d328f3f84b0ac64d30eb7d">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-19"><span class="target" id="change-f67787db3b9ef9d1cb3ccc779ae2d229"><strong>[postgresql] [bug] </strong></span>Opened up the checking for &#8220;disconnect&#8221; with psycopg2/libpq
to check for all the various &#8220;disconnect&#8221; messages within
the full exception hierarchy.  Specifically the
&#8220;closed the connection unexpectedly&#8221; message has now been
seen in at least three different exception types.
Courtesy Eli Collins.<a class="changeset-link reference internal" href="#change-f67787db3b9ef9d1cb3ccc779ae2d229">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2712">#2712</a></p>
</p>
</li>
<li><p id="change-0.8.1-20"><span class="target" id="change-365654f1763bc018c6fea3d1adfe7f6d"><strong>[postgresql] [bug] </strong></span>The operators for the Postgresql ARRAY type supports
input types of sets, generators, etc. even when
a dimension is not specified, by turning the given
iterable into a collection unconditionally.<a class="changeset-link reference internal" href="#change-365654f1763bc018c6fea3d1adfe7f6d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2681">#2681</a></p>
</p>
</li>
<li><p id="change-0.8.1-21"><span class="target" id="change-78ea5cd647f43b14fbd184b6c51042bd"><strong>[postgresql] [bug] </strong></span>Added missing HSTORE type to postgresql type names
so that the type can be reflected.<a class="changeset-link reference internal" href="#change-78ea5cd647f43b14fbd184b6c51042bd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2680">#2680</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-22"><span class="target" id="change-4793f92820e9c93f772dd33adee75002"><strong>[mysql] [bug] </strong></span>Fixes to support the latest cymysql DBAPI, courtesy
Hajime Nakagami.<a class="changeset-link reference internal" href="#change-4793f92820e9c93f772dd33adee75002">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/55">pull request 55</a></p>
</p>
</li>
<li><p id="change-0.8.1-23"><span class="target" id="change-32eca569275c8c9405df1ae6e52e28a7"><strong>[mysql] [bug] </strong></span>Improvements to the operation of the pymysql dialect on
Python 3, including some important decode/bytes steps.
Issues remain with BLOB types due to driver issues.
Courtesy Ben Trofatter.<a class="changeset-link reference internal" href="#change-32eca569275c8c9405df1ae6e52e28a7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2663">#2663</a></p>
</p>
</li>
<li><p id="change-0.8.1-24"><span class="target" id="change-ad0d195d23c8846439e6fa6093c16c37"><strong>[mysql] [bug] </strong></span>Updated a regexp to correctly extract error code on
google app engine v1.7.5 and newer.  Courtesy
Dan Ring.<a class="changeset-link reference internal" href="#change-ad0d195d23c8846439e6fa6093c16c37">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/54">pull request 54</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-25"><span class="target" id="change-577130fc7c7f3c64856c9b296fb83a6d"><strong>[mssql] [bug] </strong></span>Part of a longer series of fixes needed for pyodbc+
mssql, a CAST to NVARCHAR(max) has been added to the bound
parameter for the table name and schema name in all information schema
queries to avoid the issue of comparing NVARCHAR to NTEXT,
which seems to be rejected by the ODBC driver in some cases,
such as FreeTDS (0.91 only?) plus unicode bound parameters being passed.
The issue seems to be specific to the SQL Server information
schema tables and the workaround is harmless for those cases
where the problem doesn&#8217;t exist in the first place.<a class="changeset-link reference internal" href="#change-577130fc7c7f3c64856c9b296fb83a6d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2355">#2355</a></p>
</p>
</li>
<li><p id="change-0.8.1-26"><span class="target" id="change-7f3aa37006984fd02c41a09398143685"><strong>[mssql] [bug] </strong></span>Added support for additional &#8220;disconnect&#8221; messages
to the pymssql dialect.  Courtesy John Anderson.<a class="changeset-link reference internal" href="#change-7f3aa37006984fd02c41a09398143685">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/47">pull request 47</a></p>
</p>
</li>
<li><p id="change-0.8.1-27"><span class="target" id="change-b830f432c4ee6d47eefab9bd9b667c3f"><strong>[mssql] [bug] </strong></span>Fixed Py3K bug regarding &#8220;binary&#8221; types and
pymssql.  Courtesy Marc Abramowitz.<a class="changeset-link reference internal" href="#change-b830f432c4ee6d47eefab9bd9b667c3f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2683">#2683</a>, <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/46">pull request 46</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.1-misc">
<h3>misc<a class="headerlink" href="#change-0.8.1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.1-28"><span class="target" id="change-b873d75029d2d99647c05b161cb0c2c6"><strong>[bug] [examples] </strong></span>Fixed a long-standing bug in the caching example, where
the limit/offset parameter values wouldn&#8217;t be taken into
account when computing the cache key.  The
_key_from_query() function has been simplified to work
directly from the final compiled statement in order to get
at both the full statement as well as the fully processed
parameter list.<a class="changeset-link reference internal" href="#change-b873d75029d2d99647c05b161cb0c2c6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0">
<h2>0.8.0<a class="headerlink" href="#change-0.8.0" title="Permalink to this headline">¶</a></h2>
Released: March 9, 2013<p><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>There are some new behavioral changes as of 0.8.0
not present in 0.8.0b2.  They are present in the
migration document as follows:</p>
<ul class="last simple">
<li><a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><em>The consideration of a &#8220;pending&#8221; object as an &#8220;orphan&#8221; has been made more aggressive</em></a></li>
<li><a class="reference internal" href="migration_08.html#metadata-create-drop-tables"><em>create_all() and drop_all() will now honor an empty list as such</em></a></li>
<li><a class="reference internal" href="migration_08.html#correlation-context-specific"><em>Correlation is now always context-specific</em></a></li>
</ul>
</div>
</p>
<div class="section" id="change-0.8.0-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-0"><span class="target" id="change-0e7766217e564a69e3b6e7d65324ee7e"><strong>[orm] [feature] </strong></span>A meaningful <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.attributes.QueryableAttribute.info" title="sqlalchemy.orm.attributes.QueryableAttribute.info"><tt class="xref py py-attr docutils literal"><span class="pre">QueryableAttribute.info</span></tt></a> attribute is
added, which proxies down to the <tt class="docutils literal"><span class="pre">.info</span></tt> attribute on either
the <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><tt class="xref py py-class docutils literal"><span class="pre">schema.Column</span></tt></a> object if directly present, or
the <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.interfaces.MapperProperty" title="sqlalchemy.orm.interfaces.MapperProperty"><tt class="xref py py-class docutils literal"><span class="pre">MapperProperty</span></tt></a> otherwise.  The full behavior
is documented and ensured by tests to remain stable.<a class="changeset-link reference internal" href="#change-0e7766217e564a69e3b6e7d65324ee7e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2675">#2675</a></p>
</p>
</li>
<li><p id="change-0.8.0-1"><span class="target" id="change-eff531fde0b0d3b8012f08ac5f1465c8"><strong>[orm] [feature] </strong></span>Can set/change the &#8220;cascade&#8221; attribute on a <a class="reference internal" href="../orm/relationships.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
construct after it&#8217;s been constructed already.  This is not
a pattern for normal use but we like to change the setting
for demonstration purposes in tutorials.<a class="changeset-link reference internal" href="#change-eff531fde0b0d3b8012f08ac5f1465c8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-2"><span class="target" id="change-87e254a9ea3dc3d97f95489d3aaaec97"><strong>[orm] [feature] </strong></span>Added new helper function <tt class="xref py py-func docutils literal"><span class="pre">was_deleted()</span></tt>, returns True
if the given object was the subject of a <a class="reference internal" href="../orm/session.html#sqlalchemy.orm.session.Session.delete" title="sqlalchemy.orm.session.Session.delete"><tt class="xref py py-meth docutils literal"><span class="pre">Session.delete()</span></tt></a>
operation.<a class="changeset-link reference internal" href="#change-87e254a9ea3dc3d97f95489d3aaaec97">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">#2658</a></p>
</p>
</li>
<li><p id="change-0.8.0-3"><span class="target" id="change-6dc63e609423ac03130a8b69d1f641ad"><strong>[orm] [feature] </strong></span>Extended the <a class="reference internal" href="../core/inspection.html"><em>Runtime Inspection API</em></a> system so that all Python descriptors
associated with the ORM or its extensions can be retrieved.
This fulfills the common request of being able to inspect
all <a class="reference internal" href="../orm/internals.html#sqlalchemy.orm.attributes.QueryableAttribute" title="sqlalchemy.orm.attributes.QueryableAttribute"><tt class="xref py py-class docutils literal"><span class="pre">QueryableAttribute</span></tt></a> descriptors in addition to
extension types such as <a class="reference internal" href="../orm/extensions/hybrid.html#sqlalchemy.ext.hybrid.hybrid_property" title="sqlalchemy.ext.hybrid.hybrid_property"><tt class="xref py py-class docutils literal"><span class="pre">hybrid_property</span></tt></a> and
<a class="reference internal" href="../orm/extensions/associationproxy.html#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><tt class="xref py py-class docutils literal"><span class="pre">AssociationProxy</span></tt></a>.  See <a class="reference internal" href="../orm/mapper_config.html#sqlalchemy.orm.mapper.Mapper.all_orm_descriptors" title="sqlalchemy.orm.mapper.Mapper.all_orm_descriptors"><tt class="xref py py-attr docutils literal"><span class="pre">Mapper.all_orm_descriptors</span></tt></a>.<a class="changeset-link reference internal" href="#change-6dc63e609423ac03130a8b69d1f641ad">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0-4"><span class="target" id="change-70a1eb7113723617f2545f787b42926f"><strong>[orm] [bug] </strong></span>Improved checking for an existing backref name conflict during
mapper configuration; will now test for name conflicts on
superclasses and subclasses, in addition to the current mapper,
as these conflicts break things just as much.  This is new for
0.8, but see below for a warning that will also be triggered
in 0.7.11.<a class="changeset-link reference internal" href="#change-70a1eb7113723617f2545f787b42926f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-5"><span class="target" id="change-3300e27b920eae11534316a004610e0b"><strong>[orm] [bug] </strong></span>Improved the error message emitted when a &#8220;backref loop&#8221; is detected,
that is when an attribute event triggers a bidirectional
assignment between two other attributes with no end.
This condition can occur not just when an object of the wrong
type is assigned, but also when an attribute is mis-configured
to backref into an existing backref pair.  Also in 0.7.11.<a class="changeset-link reference internal" href="#change-3300e27b920eae11534316a004610e0b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-6"><span class="target" id="change-451e4047465f0e6c6f21abba4b12df50"><strong>[orm] [bug] </strong></span>A warning is emitted when a MapperProperty is assigned to a mapper
that replaces an existing property, if the properties in question
aren&#8217;t plain column-based properties.   Replacement of relationship
properties is rarely (ever?) what is intended and usually refers to a
mapper mis-configuration.   Also in 0.7.11.<a class="changeset-link reference internal" href="#change-451e4047465f0e6c6f21abba4b12df50">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.8.0-7"><span class="target" id="change-d2bf87eacf9c1add55e6572d7d34ee88"><strong>[orm] [bug] </strong></span>A clear error message is emitted if an event handler
attempts to emit SQL on a Session within the after_commit()
handler, where there is not a viable transaction in progress.<a class="changeset-link reference internal" href="#change-d2bf87eacf9c1add55e6572d7d34ee88">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2662">#2662</a></p>
</p>
</li>
<li><p id="change-0.8.0-8"><span class="target" id="change-cc99daa35226bc12290009d2ecd52ada"><strong>[orm] [bug] </strong></span>Detection of a primary key change within the process
of cascading a natural primary key update will succeed
even if the key is composite and only some of the
attributes have changed.<a class="changeset-link reference internal" href="#change-cc99daa35226bc12290009d2ecd52ada">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2665">#2665</a></p>
</p>
</li>
<li><p id="change-0.8.0-9"><span class="target" id="change-0a139e7ac1f999ad55e5825206c80ac6"><strong>[orm] [bug] </strong></span>An object that&#8217;s deleted from a session will be de-associated with
that session fully after the transaction is committed, that is
the <a class="reference internal" href="../orm/session.html#sqlalchemy.orm.session.object_session" title="sqlalchemy.orm.session.object_session"><tt class="xref py py-func docutils literal"><span class="pre">object_session()</span></tt></a> function will return None.<a class="changeset-link reference internal" href="#change-0a139e7ac1f999ad55e5825206c80ac6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">#2658</a></p>
</p>
</li>
<li><p id="change-0.8.0-10"><span class="target" id="change-1d26b29a64556c35cdb8d59224b641f9"><strong>[orm] [bug] </strong></span>Fixed bug whereby <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><tt class="xref py py-meth docutils literal"><span class="pre">Query.yield_per()</span></tt></a> would set the execution
options incorrectly, thereby breaking subsequent usage of the
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><tt class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></tt></a> method.  Courtesy Ryan Kelly.<a class="changeset-link reference internal" href="#change-1d26b29a64556c35cdb8d59224b641f9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2661">#2661</a></p>
</p>
</li>
<li><p id="change-0.8.0-11"><span class="target" id="change-f0fdbb71e66a3cb345017c0e32a9dfcc"><strong>[orm] [bug] </strong></span>Fixed the consideration of the <tt class="docutils literal"><span class="pre">between()</span></tt> operator
so that it works correctly with the new relationship local/remote
system.<a class="changeset-link reference internal" href="#change-f0fdbb71e66a3cb345017c0e32a9dfcc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">#1768</a></p>
</p>
</li>
<li><p id="change-0.8.0-12"><span class="target" id="change-e10fe28bb6aac9740cefe7a351f6bc84"><strong>[orm] [bug] </strong></span>the consideration of a pending object as
an &#8220;orphan&#8221; has been modified to more closely match the
behavior as that of persistent objects, which is that the object
is expunged from the <a class="reference internal" href="../orm/session.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><tt class="xref py py-class docutils literal"><span class="pre">Session</span></tt></a> as soon as it is
de-associated from any of its orphan-enabled parents.  Previously,
the pending object would be expunged only if de-associated
from all of its orphan-enabled parents.  The new flag <tt class="docutils literal"><span class="pre">legacy_is_orphan</span></tt>
is added to <a class="reference internal" href="../orm/mapper_config.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><tt class="xref py py-func docutils literal"><span class="pre">orm.mapper()</span></tt></a> which re-establishes the
legacy behavior.<p>See the change note and example case at <a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><em>The consideration of a &#8220;pending&#8221; object as an &#8220;orphan&#8221; has been made more aggressive</em></a>
for a detailed discussion of this change.</p>
<a class="changeset-link reference internal" href="#change-e10fe28bb6aac9740cefe7a351f6bc84">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2655">#2655</a></p>
</p>
</li>
<li><p id="change-0.8.0-13"><span class="target" id="change-7d72bd6c360c99b27ef15047489fcd85"><strong>[orm] [bug] </strong></span>Fixed the (most likely never used) &#8220;&#64;collection.link&#8221; collection
method, which fires off each time the collection is associated
or de-associated with a mapped object - the decorator
was not tested or functional.  The decorator method
is now named <a class="reference internal" href="../orm/collections.html#sqlalchemy.orm.collections.collection.linker" title="sqlalchemy.orm.collections.collection.linker"><tt class="xref py py-meth docutils literal"><span class="pre">collection.linker()</span></tt></a> though the name &#8220;link&#8221;
remains for backwards compatibility.  Courtesy Luca Wehrstedt.<a class="changeset-link reference internal" href="#change-7d72bd6c360c99b27ef15047489fcd85">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2653">#2653</a></p>
</p>
</li>
<li><p id="change-0.8.0-14"><span class="target" id="change-bd06b03d181458a8e51b61251f490b82"><strong>[orm] [bug] </strong></span>Made some fixes to the system of producing custom instrumented
collections, mainly that the usage of the &#64;collection decorators
will now honor the __mro__ of the given class, applying the
logic of the sub-most classes&#8217; version of a particular collection
method.   Previously, it wasn&#8217;t predictable when subclassing
an existing instrumented class such as <a class="reference internal" href="../orm/collections.html#sqlalchemy.orm.collections.MappedCollection" title="sqlalchemy.orm.collections.MappedCollection"><tt class="xref py py-class docutils literal"><span class="pre">MappedCollection</span></tt></a>
whether or not custom methods would resolve correctly.<a class="changeset-link reference internal" href="#change-bd06b03d181458a8e51b61251f490b82">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2654">#2654</a></p>
</p>
</li>
<li><p id="change-0.8.0-15"><span class="target" id="change-5bc655fd335b2e5ce6043db01e7e0070"><strong>[orm] [bug] </strong></span>Fixed potential memory leak which could occur if an
arbitrary number of <a class="reference internal" href="../orm/session.html#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><tt class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></tt></a> objects
were created.   The anonymous subclass created by
the sessionmaker, when dereferenced, would not be garbage
collected due to remaining class-level references from the
event package.  This issue also applies to any custom system
that made use of ad-hoc subclasses in conjunction with
an event dispatcher.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-5bc655fd335b2e5ce6043db01e7e0070">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2650">#2650</a></p>
</p>
</li>
<li><p id="change-0.8.0-16"><span class="target" id="change-89cccd82c603a3ec57c6fd0dd77dce2f"><strong>[orm] [bug] </strong></span><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><tt class="xref py py-meth docutils literal"><span class="pre">Query.merge_result()</span></tt></a> can now load rows from an outer join
where an entity may be <tt class="docutils literal"><span class="pre">None</span></tt> without throwing an error.
Also in 0.7.10.<a class="changeset-link reference internal" href="#change-89cccd82c603a3ec57c6fd0dd77dce2f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2640">#2640</a></p>
</p>
</li>
<li><p id="change-0.8.0-17"><span class="target" id="change-30c07492fc86836cb428a07cb6a8c472"><strong>[orm] [bug] </strong></span>Fixes to the &#8220;dynamic&#8221; loader on <a class="reference internal" href="../orm/relationships.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>, includes
that backrefs will work properly even when autoflush is disabled,
history events are more accurate in scenarios where multiple add/remove
of the same object occurs.<a class="changeset-link reference internal" href="#change-30c07492fc86836cb428a07cb6a8c472">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2637">#2637</a></p>
</p>
</li>
<li><p id="change-0.8.0-18"><span class="target" id="change-29886b5ee0c5aaede3ccba82d95b9db9"><strong>[orm] [removed] </strong></span>The undocumented (and hopefully unused) system of producing
custom collections using an <tt class="docutils literal"><span class="pre">__instrumentation__</span></tt> datastructure
associated with the collection has been removed, as this was a complex
and untested feature which was also essentially redundant versus the
decorator approach.   Other internal simplifcations to the
orm.collections module have been made as well.<a class="changeset-link reference internal" href="#change-29886b5ee0c5aaede3ccba82d95b9db9">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-19"><span class="target" id="change-aacb4e3939dfad091a7dc16bfbafa28d"><strong>[sql] [feature] </strong></span>Added a new argument to <a class="reference internal" href="../core/types.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><tt class="xref py py-class docutils literal"><span class="pre">Enum</span></tt></a> and its base
<a class="reference internal" href="../core/types.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><tt class="xref py py-class docutils literal"><span class="pre">SchemaType</span></tt></a> <tt class="docutils literal"><span class="pre">inherit_schema</span></tt>.  When set to <tt class="docutils literal"><span class="pre">True</span></tt>,
the type will set its <tt class="docutils literal"><span class="pre">schema</span></tt> attribute of that of the
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> to which it is associated.  This also occurs
during a <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><tt class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></tt></a> operation; the <a class="reference internal" href="../core/types.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><tt class="xref py py-class docutils literal"><span class="pre">SchemaType</span></tt></a>
is now copied in all cases when <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><tt class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></tt></a> happens,
and if <tt class="docutils literal"><span class="pre">inherit_schema=True</span></tt>, the type will take on the new
schema name passed to the method.   The <tt class="docutils literal"><span class="pre">schema</span></tt> is important
when used with the Postgresql backend, as the type results in
a <tt class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TYPE</span></tt> statement.<a class="changeset-link reference internal" href="#change-aacb4e3939dfad091a7dc16bfbafa28d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2657">#2657</a></p>
</p>
</li>
<li><p id="change-0.8.0-20"><span class="target" id="change-4a5b1d5566fb9e0e9cea5fc5b37a9779"><strong>[sql] [feature] </strong></span><a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><tt class="xref py py-class docutils literal"><span class="pre">Index</span></tt></a> now supports arbitrary SQL expressions and/or
functions, in addition to straight columns.   Common modifiers
include using <tt class="docutils literal"><span class="pre">somecolumn.desc()</span></tt> for a descending index and
<tt class="docutils literal"><span class="pre">func.lower(somecolumn)</span></tt> for a case-insensitive index, depending on the
capabilities of the target backend.<a class="changeset-link reference internal" href="#change-4a5b1d5566fb9e0e9cea5fc5b37a9779">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/695">#695</a></p>
</p>
</li>
<li><p id="change-0.8.0-21"><span class="target" id="change-6a4406900f98dc286816c64340267f5e"><strong>[sql] [bug] </strong></span>The behavior of SELECT correlation has been improved such that
the <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><tt class="xref py py-meth docutils literal"><span class="pre">Select.correlate()</span></tt></a> and <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><tt class="xref py py-meth docutils literal"><span class="pre">Select.correlate_except()</span></tt></a>
methods, as well as their ORM analogues, will still retain
&#8220;auto-correlation&#8221; behavior in that the FROM clause is modified
only if the output would be legal SQL; that is, the FROM clause
is left intact if the correlated SELECT is not used in the context
of an enclosing SELECT inside of the WHERE, columns, or HAVING clause.
The two methods now only specify conditions to the default
&#8220;auto correlation&#8221;, rather than absolute FROM lists.<a class="changeset-link reference internal" href="#change-6a4406900f98dc286816c64340267f5e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2668">#2668</a></p>
</p>
</li>
<li><p id="change-0.8.0-22"><span class="target" id="change-f4a089a10d8ca4d92ed313869806e9c1"><strong>[sql] [bug] </strong></span>Fixed a bug regarding column annotations which in particular
could impact some usages of the new <a class="reference internal" href="../orm/relationships.html#sqlalchemy.orm.remote" title="sqlalchemy.orm.remote"><tt class="xref py py-func docutils literal"><span class="pre">orm.remote()</span></tt></a> and
<tt class="xref py py-func docutils literal"><span class="pre">orm.local()</span></tt> annotation functions, where annotations
could be lost when the column were used in a subsequent
expression.<a class="changeset-link reference internal" href="#change-f4a089a10d8ca4d92ed313869806e9c1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">#1768</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2660">#2660</a></p>
</p>
</li>
<li><p id="change-0.8.0-23"><span class="target" id="change-737388761f92767bc0e26a80c98df139"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.in_()</span></tt></a> operator will now coerce
values of <tt class="docutils literal"><span class="pre">None</span></tt> to <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.null" title="sqlalchemy.sql.expression.null"><tt class="xref py py-func docutils literal"><span class="pre">null()</span></tt></a>.<a class="changeset-link reference internal" href="#change-737388761f92767bc0e26a80c98df139">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2496">#2496</a></p>
</p>
</li>
<li><p id="change-0.8.0-24"><span class="target" id="change-88b4c4ede70d2e60146fa8c717f87544"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><tt class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></tt></a> would fail if a
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> had both a foreign key as well as an
alternate &#8221;.key&#8221; name for the column.   Also in 0.7.10.<a class="changeset-link reference internal" href="#change-88b4c4ede70d2e60146fa8c717f87544">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2643">#2643</a></p>
</p>
</li>
<li><p id="change-0.8.0-25"><span class="target" id="change-0ed8c15f1a7de2b4ffd2e65c7538bdf4"><strong>[sql] [bug] </strong></span>insert().returning() raises an informative CompileError if attempted
to compile on a dialect that doesn&#8217;t support RETURNING.<a class="changeset-link reference internal" href="#change-0ed8c15f1a7de2b4ffd2e65c7538bdf4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2629">#2629</a></p>
</p>
</li>
<li><p id="change-0.8.0-26"><span class="target" id="change-4e171b865fa50628413956ff3159317b"><strong>[sql] [bug] </strong></span>Tweaked the &#8220;REQUIRED&#8221; symbol used by the compiler to identify
INSERT/UPDATE bound parameters that need to be passed, so that
it&#8217;s more easily identifiable when writing custom bind-handling
code.<a class="changeset-link reference internal" href="#change-4e171b865fa50628413956ff3159317b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2648">#2648</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-schema">
<h3>schema<a class="headerlink" href="#change-0.8.0-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-27"><span class="target" id="change-ae2a49c7e02214659343b36e72c31470"><strong>[schema] [bug] </strong></span><a class="reference internal" href="../core/schema.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><tt class="xref py py-meth docutils literal"><span class="pre">MetaData.create_all()</span></tt></a> and <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.MetaData.drop_all" title="sqlalchemy.schema.MetaData.drop_all"><tt class="xref py py-meth docutils literal"><span class="pre">MetaData.drop_all()</span></tt></a> will
now accommodate an empty list as an instruction to not create/drop
any items, rather than ignoring the collection.<a class="changeset-link reference internal" href="#change-ae2a49c7e02214659343b36e72c31470">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2664">#2664</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-28"><span class="target" id="change-32b040acc96cd80d58b6b4f3180b753b"><strong>[postgresql] [feature] </strong></span>Added support for Postgresql&#8217;s traditional SUBSTRING
function syntax, renders as &#8220;SUBSTRING(x FROM y FOR z)&#8221;
when regular <tt class="docutils literal"><span class="pre">func.substring()</span></tt> is used.
Also in 0.7.11.  Courtesy Gunnlaugur Þór Briem.<a class="changeset-link reference internal" href="#change-32b040acc96cd80d58b6b4f3180b753b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2676">#2676</a></p>
</p>
</li>
<li><p id="change-0.8.0-29"><span class="target" id="change-225a80e716cad9649123dc76e809d59b"><strong>[postgresql] [feature] </strong></span>Added <a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY.Comparator.any" title="sqlalchemy.dialects.postgresql.ARRAY.Comparator.any"><tt class="xref py py-meth docutils literal"><span class="pre">postgresql.ARRAY.Comparator.any()</span></tt></a> and
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY.Comparator.all" title="sqlalchemy.dialects.postgresql.ARRAY.Comparator.all"><tt class="xref py py-meth docutils literal"><span class="pre">postgresql.ARRAY.Comparator.all()</span></tt></a>
methods, as well as standalone expression constructs.   Big thanks
to Audrius Kažukauskas for the terrific work here.<a class="changeset-link reference internal" href="#change-225a80e716cad9649123dc76e809d59b">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/40">pull request 40</a></p>
</p>
</li>
<li><p id="change-0.8.0-30"><span class="target" id="change-3adae518c55ff0255fefd5d431ef4a80"><strong>[postgresql] [bug] </strong></span>Fixed bug in <tt class="xref py py-func docutils literal"><span class="pre">postgresql.array()</span></tt> construct whereby using it
inside of an <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><tt class="xref py py-func docutils literal"><span class="pre">expression.insert()</span></tt></a> construct would produce an
error regarding a parameter issue in the <tt class="docutils literal"><span class="pre">self_group()</span></tt> method.<a class="changeset-link reference internal" href="#change-3adae518c55ff0255fefd5d431ef4a80">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.0-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-31"><span class="target" id="change-40fad96aac576545c0bcd7b6aaae7df4"><strong>[mysql] [feature] </strong></span>New dialect for CyMySQL added, courtesy Hajime Nakagami.<a class="changeset-link reference internal" href="#change-40fad96aac576545c0bcd7b6aaae7df4">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/42">pull request 42</a></p>
</p>
</li>
<li><p id="change-0.8.0-32"><span class="target" id="change-48dd3fb7a18df48d86387567167547c6"><strong>[mysql] [feature] </strong></span>GAE dialect now accepts username/password arguments in the URL,
courtesy Owen Nelson.<a class="changeset-link reference internal" href="#change-48dd3fb7a18df48d86387567167547c6">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/33">pull request 33</a></p>
</p>
</li>
<li><p id="change-0.8.0-33"><span class="target" id="change-53062d4818f1d30f474a193f24789f87"><strong>[mysql] [bug] [gae] </strong></span>Added a conditional import to the <tt class="docutils literal"><span class="pre">gaerdbms</span></tt> dialect which attempts
to import rdbms_apiproxy vs. rdbms_googleapi to work
on both dev and production platforms.  Also now honors the
<tt class="docutils literal"><span class="pre">instance</span></tt> attribute.  Courtesy Sean Lynch.
Also in 0.7.10.<a class="changeset-link reference internal" href="#change-53062d4818f1d30f474a193f24789f87">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2649">#2649</a></p>
</p>
</li>
<li><p id="change-0.8.0-34"><span class="target" id="change-99ff63b4d0d6fe8559114e5d7176cfb1"><strong>[mysql] [bug] </strong></span>GAE dialect won&#8217;t fail on None match if the error code can&#8217;t be extracted
from the exception throw; courtesy Owen Nelson.<a class="changeset-link reference internal" href="#change-99ff63b4d0d6fe8559114e5d7176cfb1">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/33">pull request 33</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-35"><span class="target" id="change-1569da9a13f31f585e340e65a8754534"><strong>[mssql] [feature] </strong></span>Added <tt class="docutils literal"><span class="pre">mssql_include</span></tt> and <tt class="docutils literal"><span class="pre">mssql_clustered</span></tt> options to
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><tt class="xref py py-class docutils literal"><span class="pre">Index</span></tt></a>, renders the <tt class="docutils literal"><span class="pre">INCLUDE</span></tt> and <tt class="docutils literal"><span class="pre">CLUSTERED</span></tt> keywords,
respectively.  Courtesy Derek Harland.<a class="changeset-link reference internal" href="#change-1569da9a13f31f585e340e65a8754534">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/35">pull request 35</a></p>
</p>
</li>
<li><p id="change-0.8.0-36"><span class="target" id="change-deae19d4bb2ad7bbeee44fa1f771d04c"><strong>[mssql] [feature] </strong></span>DDL for IDENTITY columns is now supported on
non-primary key columns, by establishing a
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><tt class="xref py py-class docutils literal"><span class="pre">Sequence</span></tt></a> construct on any
integer column.  Courtesy Derek Harland.<a class="changeset-link reference internal" href="#change-deae19d4bb2ad7bbeee44fa1f771d04c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2644">#2644</a>, <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/32">pull request 32</a></p>
</p>
</li>
<li><p id="change-0.8.0-37"><span class="target" id="change-99e9dd9a91aef22f4413c883adc1dc7c"><strong>[mssql] [bug] </strong></span>Added a py3K conditional around unnecessary .decode()
call in mssql information schema, fixes reflection
in Py3K. Also in 0.7.10.<a class="changeset-link reference internal" href="#change-99e9dd9a91aef22f4413c883adc1dc7c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2638">#2638</a></p>
</p>
</li>
<li><p id="change-0.8.0-38"><span class="target" id="change-a64f093c2a0a7670b2dbd000e77e230c"><strong>[mssql] [bug] </strong></span>Fixed a regression whereby the &#8220;collation&#8221; parameter
of the character types CHAR, NCHAR, etc. stopped working,
as &#8220;collation&#8221; is now supported by the base string types.
The TEXT, NCHAR, CHAR, VARCHAR types within the
MSSQL dialect are now synonyms for the base types.<a class="changeset-link reference internal" href="#change-a64f093c2a0a7670b2dbd000e77e230c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-39"><span class="target" id="change-2cc0979a478f094fa54a8b0019792ae9"><strong>[oracle] [bug] </strong></span>The cx_oracle dialect will no longer run the bind parameter names
through <tt class="docutils literal"><span class="pre">encode()</span></tt>, as this is not valid on Python 3, and prevented
statements from functioning correctly on Python 3.  We now
encode only if <tt class="docutils literal"><span class="pre">supports_unicode_binds</span></tt> is False, which is not
the case for cx_oracle when at least version 5 of cx_oracle is used.<a class="changeset-link reference internal" href="#change-2cc0979a478f094fa54a8b0019792ae9">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0-40"><span class="target" id="change-3c5bac377a13b20bf0772508894cbe60"><strong>[bug] [tests] </strong></span>Fixed an import of &#8220;logging&#8221; in test_execute which was not
working on some linux platforms.  Also in 0.7.11.<a class="changeset-link reference internal" href="#change-3c5bac377a13b20bf0772508894cbe60">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2669">#2669</a>, <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/41">pull request 41</a></p>
</p>
</li>
<li><p id="change-0.8.0-41"><span class="target" id="change-5e896a6fed3501b6f3e9ee0f8e580fdc"><strong>[bug] [examples] </strong></span>Fixed a regression in the examples/dogpile_caching example
which was due to the change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a>.<a class="changeset-link reference internal" href="#change-5e896a6fed3501b6f3e9ee0f8e580fdc">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0b2">
<h2>0.8.0b2<a class="headerlink" href="#change-0.8.0b2" title="Permalink to this headline">¶</a></h2>
Released: December 14, 2012<div class="section" id="change-0.8.0b2-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0b2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-0"><span class="target" id="change-0440aa0e8373498cdeae16c5b150cb90"><strong>[orm] [feature] </strong></span>Added <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple._asdict" title="sqlalchemy.util.KeyedTuple._asdict"><tt class="xref py py-meth docutils literal"><span class="pre">KeyedTuple._asdict()</span></tt></a> and <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple._fields" title="sqlalchemy.util.KeyedTuple._fields"><tt class="xref py py-attr docutils literal"><span class="pre">KeyedTuple._fields</span></tt></a>
to the <a class="reference internal" href="../orm/query.html#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><tt class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></tt></a> class to provide some degree of compatibility
with the Python standard library <tt class="docutils literal"><span class="pre">collections.namedtuple()</span></tt>.<a class="changeset-link reference internal" href="#change-0440aa0e8373498cdeae16c5b150cb90">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2601">#2601</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-1"><span class="target" id="change-cfadd6c030d66215e58af3ce677a864f"><strong>[orm] [feature] </strong></span>Allow synonyms to be used when defining primary and secondary
joins for relationships.<a class="changeset-link reference internal" href="#change-cfadd6c030d66215e58af3ce677a864f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-2"><span class="target" id="change-c6b226a6956872361404c4b013d44c5d"><strong>[orm] [feature] [extensions] </strong></span>The <a class="reference internal" href="../orm/extensions/mutable.html#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><tt class="xref py py-mod docutils literal"><span class="pre">sqlalchemy.ext.mutable</span></tt></a> extension now includes the
example <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><tt class="xref py py-class docutils literal"><span class="pre">MutableDict</span></tt></a> class as part of the extension.<a class="changeset-link reference internal" href="#change-c6b226a6956872361404c4b013d44c5d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-3"><span class="target" id="change-8d958f76ee47f7155365772401087d1f"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><tt class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></tt></a> method can now be used with a
<a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><tt class="xref py py-func docutils literal"><span class="pre">aliased()</span></tt></a> construct without it interfering with the entities
being selected.   Basically, a statement like this:<div class="highlight-python"><div class="highlight"><pre><span class="n">ua</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">ua</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">&gt;</span> <span class="n">ua</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>Will maintain the columns clause of the SELECT as coming from the
unaliased &#8220;user&#8221;, as specified; the select_from only takes place in the
FROM clause:</p>
<div class="highlight-python"><pre>SELECT users.name AS users_name FROM users AS users_1
JOIN users ON users.name &lt; users_1.name</pre>
</div>
<p>Note that this behavior is in contrast
to the original, older use case for <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><tt class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></tt></a>, which is that
of restating the mapped entity in terms of a different selectable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span>\
  <span class="n">select_from</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">))</span></pre></div>
</div>
<p>Which produces:</p>
<div class="highlight-python"><pre>SELECT anon_1.name AS anon_1_name FROM (SELECT users.id AS id,
users.name AS name FROM users WHERE users.id &gt; :id_1) AS anon_1</pre>
</div>
<p>It was the &#8220;aliasing&#8221; behavior of the latter use case that was
getting in the way of the former use case.   The method now
specifically considers a SQL expression like
<a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><tt class="xref py py-func docutils literal"><span class="pre">expression.select()</span></tt></a> or <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><tt class="xref py py-func docutils literal"><span class="pre">expression.alias()</span></tt></a>
separately from a mapped entity like a <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><tt class="xref py py-func docutils literal"><span class="pre">aliased()</span></tt></a>
construct.</p>
<a class="changeset-link reference internal" href="#change-8d958f76ee47f7155365772401087d1f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2635">#2635</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-4"><span class="target" id="change-366b3ffffab4272d3ea9d5c58bc6bdaa"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><tt class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></tt></a> type did not allow for the
<a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><tt class="xref py py-meth docutils literal"><span class="pre">MutableBase.coerce()</span></tt></a> method to be used, even though
the code seemed to indicate this intent, so this now works
and a brief example is added.  As a side-effect,
the mechanics of this event handler have been changed so that
new <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><tt class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></tt></a> types no longer add per-type
global event handlers.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-366b3ffffab4272d3ea9d5c58bc6bdaa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2624">#2624</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-5"><span class="target" id="change-64d3ae8c4166dd3b314fb1255ed2e4ed"><strong>[orm] [bug] </strong></span>A second overhaul of aliasing/internal pathing mechanics
now allows two subclasses to have different relationships
of the same name, supported with subquery or joined eager
loading on both simultaneously when a full polymorphic
load is used.<a class="changeset-link reference internal" href="#change-64d3ae8c4166dd3b314fb1255ed2e4ed">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-6"><span class="target" id="change-e07c11d743d54ffa7ab235cbc3a58029"><strong>[orm] [bug] </strong></span>Fixed bug whereby a multi-hop subqueryload within
a particular with_polymorphic load would produce a KeyError.
Takes advantage of the same internal pathing overhaul
as <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a>.<a class="changeset-link reference internal" href="#change-e07c11d743d54ffa7ab235cbc3a58029">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2617">#2617</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-7"><span class="target" id="change-c8eac4ae99fd0082c6ae42044cda7547"><strong>[orm] [bug] </strong></span>Fixed regression where query.update() would produce
an error if an object matched by the &#8220;fetch&#8221;
synchronization strategy wasn&#8217;t locally present.
Courtesy Scott Torborg.<a class="changeset-link reference internal" href="#change-c8eac4ae99fd0082c6ae42044cda7547">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2602">#2602</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-engine">
<h3>engine<a class="headerlink" href="#change-0.8.0b2-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-8"><span class="target" id="change-28a54006aa013faf00f812929e7c24f9"><strong>[engine] [feature] </strong></span>The <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.connect" title="sqlalchemy.engine.Connection.connect"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.connect()</span></tt></a> and <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.contextual_connect" title="sqlalchemy.engine.Connection.contextual_connect"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.contextual_connect()</span></tt></a>
methods now return a &#8220;branched&#8221; version so that the <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.close" title="sqlalchemy.engine.Connection.close"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.close()</span></tt></a>
method can be called on the returned connection without affecting the
original.   Allows symmetry when using <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a> and
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a> objects as context managers:<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span> <span class="c"># leaves the Connection open</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>  <span class="c"># closes the Connection</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">)</span></pre></div>
</div>
<a class="changeset-link reference internal" href="#change-28a54006aa013faf00f812929e7c24f9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-9"><span class="target" id="change-77b9a2a46687b7655e2116a17db1353e"><strong>[engine] [bug] </strong></span>Fixed <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><tt class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></tt></a> to correctly use
the given <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a>, if given, without
opening a second connection from that connection&#8217;s
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-77b9a2a46687b7655e2116a17db1353e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2604">#2604</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-10"><span class="target" id="change-3493b2118cfad669ab5817bd37983b18"><strong>[engine] </strong></span>The &#8220;reflect=True&#8221; argument to <tt class="xref py py-class docutils literal"><span class="pre">MetaData</span></tt> is deprecated.
Please use the <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><tt class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></tt></a> method.<a class="changeset-link reference internal" href="#change-3493b2118cfad669ab5817bd37983b18">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0b2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-11"><span class="target" id="change-ccda1d442536d0ccedacde3786a7a049"><strong>[sql] [feature] </strong></span>The <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><tt class="xref py py-class docutils literal"><span class="pre">Insert</span></tt></a> construct now supports multi-valued inserts,
that is, an INSERT that renders like
&#8220;INSERT INTO table VALUES (...), (...), ...&#8221;.
Supported by Postgresql, SQLite, and MySQL.
Big thanks to Idan Kamara for doing the legwork on this one.<a class="changeset-link reference internal" href="#change-ccda1d442536d0ccedacde3786a7a049">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2623">#2623</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-12"><span class="target" id="change-6a9d7c37dc85bb3ae8b5101236afc248"><strong>[sql] [bug] </strong></span>Fixed a regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">#2410</a> whereby a
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><tt class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></tt></a> would apply itself back to the
original table during a <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><tt class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></tt></a> operation, as
it would parse the SQL expression for a parent table. The
operation now copies the given expression to correspond to the
new table.<a class="changeset-link reference internal" href="#change-6a9d7c37dc85bb3ae8b5101236afc248">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2633">#2633</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-13"><span class="target" id="change-9b15516022fbd264038c54ed46d7b9c9"><strong>[sql] [bug] </strong></span>Fixed bug where using server_onupdate=&lt;FetchedValue|DefaultClause&gt;
without passing the &#8220;for_update=True&#8221; flag would apply the default
object to the server_default, blowing away whatever was there.
The explicit for_update=True argument shouldn&#8217;t be needed with this usage
(especially since the documentation shows an example without it being
used) so it is now arranged internally using a copy of the given default
object, if the flag isn&#8217;t set to what corresponds to that argument.
Also in 0.7.10.<a class="changeset-link reference internal" href="#change-9b15516022fbd264038c54ed46d7b9c9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2631">#2631</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-14"><span class="target" id="change-52d00ac5ac3a16908d185a9b7a5979bc"><strong>[sql] [bug] </strong></span>Fixed bug whereby using a label_length on dialect that was smaller
than the size of actual column identifiers would fail to render
the columns correctly in a SELECT statement.<a class="changeset-link reference internal" href="#change-52d00ac5ac3a16908d185a9b7a5979bc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2610">#2610</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-15"><span class="target" id="change-d646ee623c01a51de03c5ab41dca6832"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="../dialects/drizzle.html#sqlalchemy.dialects.drizzle.DECIMAL" title="sqlalchemy.dialects.drizzle.DECIMAL"><tt class="xref py py-class docutils literal"><span class="pre">DECIMAL</span></tt></a> type now honors the &#8220;precision&#8221; and
&#8220;scale&#8221; arguments when rendering DDL.<a class="changeset-link reference internal" href="#change-d646ee623c01a51de03c5ab41dca6832">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2618">#2618</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-16"><span class="target" id="change-3a51c5d14168a9eb00ee8360c4058315"><strong>[sql] [bug] </strong></span>Made an adjustment to the &#8220;boolean&#8221;, (i.e. <tt class="docutils literal"><span class="pre">__nonzero__</span></tt>)
evaluation of binary expressions, i.e. <tt class="docutils literal"><span class="pre">x1</span> <span class="pre">==</span> <span class="pre">x2</span></tt>, such
that the &#8220;auto-grouping&#8221; applied by <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><tt class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></tt></a>
in some cases won&#8217;t get in the way of this comparison.
Previously, an expression like:<div class="highlight-python"><div class="highlight"><pre><span class="n">expr1</span> <span class="o">=</span> <span class="n">mycolumn</span> <span class="o">&gt;</span> <span class="mi">2</span>
<span class="nb">bool</span><span class="p">(</span><span class="n">expr1</span> <span class="o">==</span> <span class="n">expr1</span><span class="p">)</span></pre></div>
</div>
<p>Would evaulate as <tt class="docutils literal"><span class="pre">False</span></tt>, even though this is an identity
comparison, because <tt class="docutils literal"><span class="pre">mycolumn</span> <span class="pre">&gt;</span> <span class="pre">2</span></tt> would be &#8220;grouped&#8221; before
being placed into the <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><tt class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></tt></a>, thus changing
its identity.   <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><tt class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></tt></a> now keeps track
of the &#8220;original&#8221; objects passed in.
Additionally the <tt class="docutils literal"><span class="pre">__nonzero__</span></tt> method now only returns if
the operator is <tt class="docutils literal"><span class="pre">==</span></tt> or <tt class="docutils literal"><span class="pre">!=</span></tt> - all others raise <tt class="docutils literal"><span class="pre">TypeError</span></tt>.</p>
<a class="changeset-link reference internal" href="#change-3a51c5d14168a9eb00ee8360c4058315">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2621">#2621</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-17"><span class="target" id="change-bf1c1943e4cb7d7f56b4a8bf06cb5460"><strong>[sql] [bug] </strong></span>Fixed a gotcha where inadvertently calling list() on a
<a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><tt class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></tt></a> would go into an endless loop, if
<a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators.__getitem__" title="sqlalchemy.sql.operators.ColumnOperators.__getitem__"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.__getitem__()</span></tt></a> were implemented.
A new NotImplementedError is emitted via <tt class="docutils literal"><span class="pre">__iter__()</span></tt>.<a class="changeset-link reference internal" href="#change-bf1c1943e4cb7d7f56b4a8bf06cb5460">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-18"><span class="target" id="change-ebd2310b4e33e8f897da33a8c13a6afd"><strong>[sql] [bug] </strong></span>Fixed bug in type_coerce() whereby typing information
could be lost if the statement were used as a subquery
inside of another statement, as well as other similar
situations.  Among other things, would cause
typing information to be lost when the Oracle/mssql dialects
would apply limit/offset wrappings.<a class="changeset-link reference internal" href="#change-ebd2310b4e33e8f897da33a8c13a6afd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2603">#2603</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-19"><span class="target" id="change-9f5dab3cd007a03e0d6c9ab38681ab97"><strong>[sql] [bug] </strong></span>Fixed bug whereby the &#8221;.key&#8221; of a Column wasn&#8217;t being
used when producing a &#8220;proxy&#8221; of the column against
a selectable.   This probably didn&#8217;t occur in 0.7
since 0.7 doesn&#8217;t respect the &#8221;.key&#8221; in a wider
range of scenarios.<a class="changeset-link reference internal" href="#change-9f5dab3cd007a03e0d6c9ab38681ab97">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2597">#2597</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0b2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-20"><span class="target" id="change-9d4ccc96c5c80a27fe89287588545998"><strong>[postgresql] [feature] </strong></span><a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><tt class="xref py py-class docutils literal"><span class="pre">HSTORE</span></tt></a> is now available in the Postgresql dialect.
Will also use psycopg2&#8217;s extensions if available.  Courtesy
Audrius Kažukauskas.<a class="changeset-link reference internal" href="#change-9d4ccc96c5c80a27fe89287588545998">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2606">#2606</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.0b2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-21"><span class="target" id="change-b60ca8c89667c3fd095716b23d5c82dc"><strong>[sqlite] [bug] </strong></span>More adjustment to this SQLite related issue which was released in
0.7.9, to intercept legacy SQLite quoting characters when reflecting
foreign keys.  In addition to intercepting double quotes, other
quoting characters such as brackets, backticks, and single quotes
are now also intercepted.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-b60ca8c89667c3fd095716b23d5c82dc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">#2568</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0b2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-22"><span class="target" id="change-2cd1695c575daf74cad23ecb835cdd5c"><strong>[mssql] [feature] </strong></span>Support for reflection of the &#8220;name&#8221; of primary key
constraints added, courtesy Dave Moore.<a class="changeset-link reference internal" href="#change-2cd1695c575daf74cad23ecb835cdd5c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2600">#2600</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-23"><span class="target" id="change-b5408177e747087a3a191d706d2ac7e9"><strong>[mssql] [bug] </strong></span>Fixed bug whereby using &#8220;key&#8221; with Column
in conjunction with &#8220;schema&#8221; for the owning
Table would fail to locate result rows due
to the MSSQL dialect&#8217;s &#8220;schema rendering&#8221;
logic&#8217;s failure to take .key into account.
Also in 0.7.10.<a class="changeset-link reference internal" href="#change-b5408177e747087a3a191d706d2ac7e9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2607">#2607</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0b2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-24"><span class="target" id="change-106aeb155ae3728a0c919c289e4726eb"><strong>[oracle] [bug] </strong></span>Fixed table reflection for Oracle when accessing a synonym that refers
to a DBLINK remote database; while the syntax has been present in the
Oracle dialect for some time, up until now it has never been tested.
The syntax has been tested against a sample database linking to itself,
however there&#8217;s still some uncertainty as to what should be used for the
&#8220;owner&#8221; when querying the remote database for table information.
Currently, the value of &#8220;username&#8221; from user_db_links is used to
match the &#8220;owner&#8221;.<a class="changeset-link reference internal" href="#change-106aeb155ae3728a0c919c289e4726eb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2619">#2619</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-25"><span class="target" id="change-ac22d47fb2190de7d5fdd45ea30d4bd0"><strong>[oracle] [bug] </strong></span>The Oracle LONG type, while an unbounded text type, does not appear
to use the cx_Oracle.LOB type when result rows are returned,
so the dialect has been repaired to exclude LONG from
having cx_Oracle.LOB filtering applied.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-ac22d47fb2190de7d5fdd45ea30d4bd0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2620">#2620</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-26"><span class="target" id="change-cd9ec13cd0145a84de78a595fe61506f"><strong>[oracle] [bug] </strong></span>Repaired the usage of <tt class="docutils literal"><span class="pre">.prepare()</span></tt> in conjunction with
cx_Oracle so that a return value of <tt class="docutils literal"><span class="pre">False</span></tt> will result
in no call to <tt class="docutils literal"><span class="pre">connection.commit()</span></tt>, hence avoiding
&#8220;no transaction&#8221; errors.   Two-phase transactions have
now been shown to work in a rudimental fashion with
SQLAlchemy and cx_oracle, however are subject to caveats
observed with the driver; check the documentation
for details.  Also in 0.7.10.<a class="changeset-link reference internal" href="#change-cd9ec13cd0145a84de78a595fe61506f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">#2611</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.0b2-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-27"><span class="target" id="change-9ff9e7628c1d8b7060924fafe6844fe0"><strong>[firebird] [bug] </strong></span>Added missing import for &#8220;fdb&#8221; to the experimental
&#8220;firebird+fdb&#8221; dialect.<a class="changeset-link reference internal" href="#change-9ff9e7628c1d8b7060924fafe6844fe0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2622">#2622</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b2-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0b2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b2-28"><span class="target" id="change-cf6d50791e201a7d553f5aa10db3cbdc"><strong>[feature] [sybase] </strong></span>Reflection support has been added to the Sybase dialect.
Big thanks to Ben Trofatter for all the work developing and
testing this.<a class="changeset-link reference internal" href="#change-cf6d50791e201a7d553f5aa10db3cbdc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1753">#1753</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-29"><span class="target" id="change-960a01e29400ef086e01dfbfafb4913c"><strong>[feature] [pool] </strong></span>The <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><tt class="xref py py-class docutils literal"><span class="pre">Pool</span></tt></a> will now log all connection.close()
operations equally, including closes which occur for
invalidated connections, detached connections, and connections
beyond the pool capacity.<a class="changeset-link reference internal" href="#change-960a01e29400ef086e01dfbfafb4913c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-30"><span class="target" id="change-e08369ab111a8e4b26bc44e495aa0d46"><strong>[feature] [pool] </strong></span>The <a class="reference internal" href="../core/pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><tt class="xref py py-class docutils literal"><span class="pre">Pool</span></tt></a> now consults the <a class="reference internal" href="../core/internals.html#sqlalchemy.engine.interfaces.Dialect" title="sqlalchemy.engine.interfaces.Dialect"><tt class="xref py py-class docutils literal"><span class="pre">Dialect</span></tt></a> for
functionality regarding how the connection should be
&#8220;auto rolled back&#8221;, as well as closed.   This grants more
control of transaction scope to the dialect, so that we
will be better able to implement transactional workarounds
like those potentially needed for pysqlite and cx_oracle.<a class="changeset-link reference internal" href="#change-e08369ab111a8e4b26bc44e495aa0d46">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">#2611</a></p>
</p>
</li>
<li><p id="change-0.8.0b2-31"><span class="target" id="change-a71308c2787ff6db34f03853edf6dff2"><strong>[feature] [pool] </strong></span>Added new <a class="reference internal" href="../core/events.html#sqlalchemy.events.PoolEvents.reset" title="sqlalchemy.events.PoolEvents.reset"><tt class="xref py py-meth docutils literal"><span class="pre">PoolEvents.reset()</span></tt></a> hook to capture
the event before a connection is auto-rolled back, upon
return to the pool.   Together with
<a class="reference internal" href="../core/events.html#sqlalchemy.events.ConnectionEvents.rollback" title="sqlalchemy.events.ConnectionEvents.rollback"><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.rollback()</span></tt></a> this allows all rollback
events to be intercepted.<a class="changeset-link reference internal" href="#change-a71308c2787ff6db34f03853edf6dff2">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b2-32"><span class="target" id="change-0f4be8723d2662b5128985703f1efe1b"><strong>[informix] </strong></span>Some cruft regarding informix transaction handling has been
removed, including a feature that would skip calling
commit()/rollback() as well as some hardcoded isolation level
assumptions on begin()..   The status of this dialect is not
well understood as we don&#8217;t have any users working with it,
nor any access to an Informix database.   If someone with
access to Informix wants to help test this dialect, please
let us know.<a class="changeset-link reference internal" href="#change-0f4be8723d2662b5128985703f1efe1b">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.8.0b1">
<h2>0.8.0b1<a class="headerlink" href="#change-0.8.0b1" title="Permalink to this headline">¶</a></h2>
Released: October 30, 2012<div class="section" id="change-0.8.0b1-general">
<h3>general<a class="headerlink" href="#change-0.8.0b1-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-0"><span class="target" id="change-5cdfbadad1d1ab8b583def86bfe1c3b8"><strong>[general] [removed] </strong></span>The &#8220;sqlalchemy.exceptions&#8221;
synonym for &#8220;sqlalchemy.exc&#8221; is removed
fully.<a class="changeset-link reference internal" href="#change-5cdfbadad1d1ab8b583def86bfe1c3b8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2433">#2433</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-1"><span class="target" id="change-5bd84bb0a379638a703e8d486a876539"><strong>[general] </strong></span>SQLAlchemy 0.8 now targets Python 2.5 and
above.  Python 2.4 is no longer supported.<a class="changeset-link reference internal" href="#change-5bd84bb0a379638a703e8d486a876539">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-orm">
<h3>orm<a class="headerlink" href="#change-0.8.0b1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-2"><span class="target" id="change-2b5d7a236365a2a7ca5e6aca63d3dcad"><strong>[orm] [feature] </strong></span>Major rewrite of relationship()
internals now allow join conditions which
include columns pointing to themselves
within composite foreign keys.   A new
API for very specialized primaryjoin conditions
is added, allowing conditions based on
SQL functions, CAST, etc. to be handled
by placing the annotation functions
remote() and foreign() inline within the
expression when necessary.  Previous recipes
using the semi-private _local_remote_pairs
approach can be upgraded to this new
approach.<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="migration_08.html#feature-relationship-08"><em>Rewritten relationship() mechanics</em></a></p>
</div>
<a class="changeset-link reference internal" href="#change-2b5d7a236365a2a7ca5e6aca63d3dcad">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1401">#1401</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-3"><span class="target" id="change-bfb5af4d4d7644b298d000311189fabd"><strong>[orm] [feature] </strong></span>New standalone function with_polymorphic()
provides the functionality of query.with_polymorphic()
in a standalone form.   It can be applied to any
entity within a query, including as the target
of a join in place of the &#8220;of_type()&#8221; modifier.<a class="changeset-link reference internal" href="#change-bfb5af4d4d7644b298d000311189fabd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2333">#2333</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-4"><span class="target" id="change-78a51fb9614f402a7225108f99846c70"><strong>[orm] [feature] </strong></span>The of_type() construct on attributes
now accepts aliased() class constructs as well
as with_polymorphic constructs, and works with
query.join(), any(), has(), and also
eager loaders subqueryload(), joinedload(),
contains_eager()<a class="changeset-link reference internal" href="#change-78a51fb9614f402a7225108f99846c70">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1106">#1106</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2438">#2438</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-5"><span class="target" id="change-93ce3ef6116143e465e8824d6b1d1d77"><strong>[orm] [feature] </strong></span>Improvements to event listening for
mapped classes allows that unmapped classes
can be specified for instance- and mapper-events.
The established events will be automatically
set up on subclasses of that class when the
propagate=True flag is passed, and the
events will be set up for that class itself
if and when it is ultimately mapped.<a class="changeset-link reference internal" href="#change-93ce3ef6116143e465e8824d6b1d1d77">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2585">#2585</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-6"><span class="target" id="change-eb6e1bb92c5ceea0be162479d444103a"><strong>[orm] [feature] </strong></span>The &#8220;deferred declarative
reflection&#8221; system has been moved into the
declarative extension itself, using the
new DeferredReflection class.  This
class is now tested with both single
and joined table inheritance use cases.<a class="changeset-link reference internal" href="#change-eb6e1bb92c5ceea0be162479d444103a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2485">#2485</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-7"><span class="target" id="change-5a3967b4ed8af452ab323aaa3b5d27f2"><strong>[orm] [feature] </strong></span>Added new core function &#8220;inspect()&#8221;,
which serves as a generic gateway to
introspection into mappers, objects,
others.   The Mapper and InstanceState
objects have been enhanced with a public
API that allows inspection of mapped
attributes, including filters for column-bound
or relationship-bound properties, inspection
of current object state, history of
attributes, etc.<a class="changeset-link reference internal" href="#change-5a3967b4ed8af452ab323aaa3b5d27f2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">#2208</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-8"><span class="target" id="change-1df6e3552ee895cd48952f95c0f0730a"><strong>[orm] [feature] </strong></span>Calling rollback() within a
session.begin_nested() will now only expire
those objects that had net changes within the
scope of that transaction, that is objects which
were dirty or were modified on a flush.  This
allows the typical use case for begin_nested(),
that of altering a small subset of objects, to
leave in place the data from the larger enclosing
set of objects that weren&#8217;t modified in
that sub-transaction.<a class="changeset-link reference internal" href="#change-1df6e3552ee895cd48952f95c0f0730a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2452">#2452</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-9"><span class="target" id="change-42a29b97f3f04fca95c888b8ebb68802"><strong>[orm] [feature] </strong></span>Added utility feature
Session.enable_relationship_loading(),
supersedes relationship.load_on_pending.
Both features should be avoided, however.<a class="changeset-link reference internal" href="#change-42a29b97f3f04fca95c888b8ebb68802">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2372">#2372</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-10"><span class="target" id="change-d6ca8c5a4d9259ca52feb4e113633afe"><strong>[orm] [feature] </strong></span>Added support for .info dictionary argument to
column_property(), relationship(), composite().
All MapperProperty classes have an auto-creating .info
dict available overall.<a class="changeset-link reference internal" href="#change-d6ca8c5a4d9259ca52feb4e113633afe">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-11"><span class="target" id="change-9cbdee6462b2adb613d0260699424d93"><strong>[orm] [feature] </strong></span>Adding/removing None from a mapped collection
now generates attribute events.  Previously, a None
append would be ignored in some cases.  Related
to.<a class="changeset-link reference internal" href="#change-9cbdee6462b2adb613d0260699424d93">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-12"><span class="target" id="change-dfe35810c91fadc80cc26fafc4758932"><strong>[orm] [feature] </strong></span>The presence of None in a mapped collection
now raises an error during flush.   Previously,
None values in collections would be silently ignored.<a class="changeset-link reference internal" href="#change-dfe35810c91fadc80cc26fafc4758932">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">#2229</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-13"><span class="target" id="change-6849b5ad20a8f598c90e058f7406607e"><strong>[orm] [feature] </strong></span>The Query.update() method is now
more lenient as to the table
being updated.  Plain Table objects are better
supported now, and additional a joined-inheritance
subclass may be used with update(); the subclass
table will be the target of the update,
and if the parent table is referenced in the
WHERE clause, the compiler will call upon
UPDATE..FROM syntax as allowed by the dialect
to satisfy the WHERE clause.  MySQL&#8217;s multi-table
update feature is also supported if columns
are specified by object in the &#8220;values&#8221; dicitionary.
PG&#8217;s DELETE..USING is also not available
in Core yet.<a class="changeset-link reference internal" href="#change-6849b5ad20a8f598c90e058f7406607e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-14"><span class="target" id="change-b6a88424dffec42d164fbc0e90fbd47d"><strong>[orm] [feature] </strong></span>New session events after_transaction_create
and after_transaction_end
allows tracking of new SessionTransaction objects.
If the object is inspected, can be used to determine
when a session first becomes active and when
it deactivates.<a class="changeset-link reference internal" href="#change-b6a88424dffec42d164fbc0e90fbd47d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-15"><span class="target" id="change-8da279230401738c29fde56b8e12e329"><strong>[orm] [feature] </strong></span>The Query can now load entity/scalar-mixed
&#8220;tuple&#8221; rows that contain
types which aren&#8217;t hashable, by setting the flag
&#8220;hashable=False&#8221; on the corresponding TypeEngine object
in use.  Custom types that return unhashable types
(typically lists) can set this flag to False.<a class="changeset-link reference internal" href="#change-8da279230401738c29fde56b8e12e329">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2592">#2592</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-16"><span class="target" id="change-895b051922d21bb69c4c67ce5309b066"><strong>[orm] [feature] </strong></span>Query now &#8220;auto correlates&#8221; by
default in the same way as select() does.
Previously, a Query used as a subquery
in another would require the correlate()
method be called explicitly in order to
correlate a table on the inside to the
outside.  As always, correlate(None)
disables correlation.<a class="changeset-link reference internal" href="#change-895b051922d21bb69c4c67ce5309b066">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2179">#2179</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-17"><span class="target" id="change-8597db755973435d332ab67dcd0cd333"><strong>[orm] [feature] </strong></span>The after_attach event is now
emitted after the object is established
in Session.new or Session.identity_map
upon Session.add(), Session.merge(),
etc., so that the object is represented
in these collections when the event
is called.  Added before_attach
event to accommodate use cases that
need autoflush w pre-attached object.<a class="changeset-link reference internal" href="#change-8597db755973435d332ab67dcd0cd333">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2464">#2464</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-18"><span class="target" id="change-fe41acf149abee6a65a1785143121903"><strong>[orm] [feature] </strong></span>The Session will produce warnings
when unsupported methods are used inside the
&#8220;execute&#8221; portion of the flush.   These are
the familiar methods add(), delete(), etc.
as well as collection and related-object
manipulations, as called within mapper-level
flush events
like after_insert(), after_update(), etc.
It&#8217;s been prominently documented for a long
time that  SQLAlchemy cannot guarantee
results when the Session is manipulated within
the execution of the flush plan,
however users are still doing it, so now
there&#8217;s a warning.   Maybe someday the Session
will be enhanced to support these operations
inside of the flush, but for now, results
can&#8217;t be guaranteed.<a class="changeset-link reference internal" href="#change-fe41acf149abee6a65a1785143121903">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-19"><span class="target" id="change-443927d0d360b2d45aec1f0edb4cd52e"><strong>[orm] [feature] </strong></span>ORM entities can be passed
to the core select() construct as well
as to the select_from(),
correlate(), and correlate_except()
methods of select(), where they will be unwrapped
into selectables.<a class="changeset-link reference internal" href="#change-443927d0d360b2d45aec1f0edb4cd52e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">#2245</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-20"><span class="target" id="change-a67dd1b9a7a101568b19a0bab8f0e7b1"><strong>[orm] [feature] </strong></span>Some support for auto-rendering of a
relationship join condition based on the mapped
attribute, with usage of core SQL constructs.
E.g. select([SomeClass]).where(SomeClass.somerelationship)
would render SELECT from &#8220;someclass&#8221; and use the
primaryjoin of &#8220;somerelationship&#8221; as the WHERE
clause.   This changes the previous meaning
of &#8220;SomeClass.somerelationship&#8221; when used in a
core SQL context; previously, it would &#8220;resolve&#8221;
to the parent selectable, which wasn&#8217;t generally
useful.  Also works with query.filter().
Related to.<a class="changeset-link reference internal" href="#change-a67dd1b9a7a101568b19a0bab8f0e7b1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">#2245</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-21"><span class="target" id="change-f3c6355a218b2e87fd0f0703b6db668b"><strong>[orm] [feature] </strong></span>The registry of classes
in declarative_base() is now a
WeakValueDictionary.  So subclasses of
&#8220;Base&#8221; that are dereferenced will be
garbage collected, <em>if they are not
referred to by any other mappers/superclass
mappers</em>. See the next note for this ticket.<a class="changeset-link reference internal" href="#change-f3c6355a218b2e87fd0f0703b6db668b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">#2526</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-22"><span class="target" id="change-60840075c7cfa8d1adae037d2c11e7ac"><strong>[orm] [feature] </strong></span>Conflicts between columns on
single-inheritance declarative subclasses,
with or without using a mixin, can be resolved
using a new &#64;declared_attr usage described
in the documentation.<a class="changeset-link reference internal" href="#change-60840075c7cfa8d1adae037d2c11e7ac">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">#2472</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-23"><span class="target" id="change-5cd3668a5182df1fe6b544b806615e64"><strong>[orm] [feature] </strong></span>declared_attr can now be used
on non-mixin classes, even though this is generally
only useful for single-inheritance subclass
column conflict resolution.<a class="changeset-link reference internal" href="#change-5cd3668a5182df1fe6b544b806615e64">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">#2472</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-24"><span class="target" id="change-b42d3e5638d89a011e7c711e5519fe42"><strong>[orm] [feature] </strong></span>declared_attr can now be used with
attributes that are not Column or MapperProperty;
including any user-defined value as well
as association proxy objects.<a class="changeset-link reference internal" href="#change-b42d3e5638d89a011e7c711e5519fe42">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2517">#2517</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-25"><span class="target" id="change-5e6f2f1fd27a664f943148e0e20be5cc"><strong>[orm] [feature] </strong></span><em>Very limited</em> support for
inheriting mappers to be GC&#8217;ed when the
class itself is deferenced.  The mapper
must not have its own table (i.e.
single table inh only) without polymorphic
attributes in place.
This allows for the use case of
creating a temporary subclass of a declarative
mapped class, with no table or mapping
directives of its own, to be garbage collected
when dereferenced by a unit test.<a class="changeset-link reference internal" href="#change-5e6f2f1fd27a664f943148e0e20be5cc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">#2526</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-26"><span class="target" id="change-073653e77b313e22c14bb667583872c7"><strong>[orm] [feature] </strong></span>Declarative now maintains a registry
of classes by string name as well as by full
module-qualified name.   Multiple classes with the
same name can now be looked up based on a module-qualified
string within relationship().   Simple class name
lookups where more than one class shares the same
name now raises an informative error message.<a class="changeset-link reference internal" href="#change-073653e77b313e22c14bb667583872c7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2338">#2338</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-27"><span class="target" id="change-04cfa3591fc1133acc153a1db8fb823a"><strong>[orm] [feature] </strong></span>Can now provide class-bound attributes
that override columns which are of any
non-ORM type, not just descriptors.<a class="changeset-link reference internal" href="#change-04cfa3591fc1133acc153a1db8fb823a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2535">#2535</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-28"><span class="target" id="change-56649e7f35bc7153f0e7220eab4aec69"><strong>[orm] [feature] </strong></span>Added with_labels and
reduce_columns keyword arguments to
Query.subquery(), to provide two alternate
strategies for producing queries with uniquely-
named columns. .<a class="changeset-link reference internal" href="#change-56649e7f35bc7153f0e7220eab4aec69">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">#1729</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-29"><span class="target" id="change-89c7b068a74a5e4d7c5cd96c1fcdb81e"><strong>[orm] [feature] </strong></span>A warning is emitted when a reference
to an instrumented collection is no longer
associated with the parent class due to
expiration/attribute refresh/collection
replacement, but an append
or remove operation is received on the
now-detached collection.<a class="changeset-link reference internal" href="#change-89c7b068a74a5e4d7c5cd96c1fcdb81e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2476">#2476</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-30"><span class="target" id="change-6b9cbc218fc7c96feb638b82e0510096"><strong>[orm] [bug] </strong></span>ORM will perform extra effort to determine
that an FK dependency between two tables is
not significant during flush if the tables
are related via joined inheritance and the FK
dependency is not part of the inherit_condition,
saves the user a use_alter directive.<a class="changeset-link reference internal" href="#change-6b9cbc218fc7c96feb638b82e0510096">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2527">#2527</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-31"><span class="target" id="change-20d79523a1d3c898c75000b8432ad204"><strong>[orm] [bug] </strong></span>The instrumentation events class_instrument(),
class_uninstrument(), and attribute_instrument()
will now fire off only for descendant classes
of the class assigned to listen().  Previously,
an event listener would be assigned to listen
for all classes in all cases regardless of the
&#8220;target&#8221; argument passed.<a class="changeset-link reference internal" href="#change-20d79523a1d3c898c75000b8432ad204">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2590">#2590</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-32"><span class="target" id="change-d4fb10b3e74c7cfee50b305f21ad75ba"><strong>[orm] [bug] </strong></span>with_polymorphic() produces JOINs
in the correct order and with correct inheriting
tables in the case of sending multi-level
subclasses in an arbitrary order or with
intermediary classes missing.<a class="changeset-link reference internal" href="#change-d4fb10b3e74c7cfee50b305f21ad75ba">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1900">#1900</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-33"><span class="target" id="change-670f860895b1ac776c73a9f529b4ff01"><strong>[orm] [bug] </strong></span>Improvements to joined/subquery eager
loading dealing with chains of subclass entities
sharing a common base, with no specific &#8220;join depth&#8221;
provided.  Will chain out to
each subclass mapper individually before detecting
a &#8220;cycle&#8221;, rather than considering the base class
to be the source of the &#8220;cycle&#8221;.<a class="changeset-link reference internal" href="#change-670f860895b1ac776c73a9f529b4ff01">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2481">#2481</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-34"><span class="target" id="change-43ab88968711042d804aba10f927a0e7"><strong>[orm] [bug] </strong></span>The &#8220;passive&#8221; flag on Session.is_modified()
no longer has any effect. is_modified() in
all cases looks only at local in-memory
modified flags and will not emit any
SQL or invoke loader callables/initializers.<a class="changeset-link reference internal" href="#change-43ab88968711042d804aba10f927a0e7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2320">#2320</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-35"><span class="target" id="change-f6749307d43fd438dc2226c9c36cabdf"><strong>[orm] [bug] </strong></span>The warning emitted when using
delete-orphan cascade with one-to-many
or many-to-many without single-parent=True
is now an error.  The ORM
would fail to function subsequent to this
warning in any case.<a class="changeset-link reference internal" href="#change-f6749307d43fd438dc2226c9c36cabdf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2405">#2405</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-36"><span class="target" id="change-8983e9238cae7a3307091bab80843317"><strong>[orm] [bug] </strong></span>Lazy loads emitted within flush events
such as before_flush(), before_update(),
etc. will now function as they would
within non-event code, regarding consideration
of the PK/FK values used in the lazy-emitted
query.   Previously,
special flags would be established that
would cause lazy loads to load related items
based on the &#8220;previous&#8221; value of the
parent PK/FK values specifically when called
upon within a flush; the signal to load
in this way is now localized to where the
unit of work actually needs to load that
way.  Note that the UOW does
sometimes load these collections before
the before_update() event is called,
so the usage of &#8220;passive_updates&#8221; or not
can affect whether or not a collection will
represent the &#8220;old&#8221; or &#8220;new&#8221; data, when
accessed within a flush event, based
on when the lazy load was emitted.
The change is backwards incompatible in
the exceedingly small chance that
user event code depended on the old
behavior.<a class="changeset-link reference internal" href="#change-8983e9238cae7a3307091bab80843317">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2350">#2350</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-37"><span class="target" id="change-dc5132d9120b849690569f05152a84cf"><strong>[orm] [bug] </strong></span>Continuing regarding extra
state post-flush due to event listeners;
any states that are marked as &#8220;dirty&#8221; from an
attribute perspective, usually via column-attribute
set events within after_insert(), after_update(),
etc., will get the &#8220;history&#8221; flag reset
in all cases, instead of only those instances
that were part of the flush.  This has the effect
that this &#8220;dirty&#8221; state doesn&#8217;t carry over
after the flush and won&#8217;t result in UPDATE
statements.   A warning is emitted to this
effect; the set_committed_state()
method can be used to assign attributes on objects
without producing history events.<a class="changeset-link reference internal" href="#change-dc5132d9120b849690569f05152a84cf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2582">#2582</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2566">#2566</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-38"><span class="target" id="change-39a20209d28a327df9e9d29836c7c289"><strong>[orm] [bug] </strong></span>Fixed a disconnect that slowly evolved
between a &#64;declared_attr Column and a
directly-defined Column on a mixin. In both
cases, the Column will be applied to the
declared class&#8217; table, but not to that of a
joined inheritance subclass.   Previously,
the directly-defined Column would be placed
on both the base and the sub table, which isn&#8217;t
typically what&#8217;s desired.<a class="changeset-link reference internal" href="#change-39a20209d28a327df9e9d29836c7c289">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2565">#2565</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-39"><span class="target" id="change-2e38231d60a59df94e2c8460f26df0ac"><strong>[orm] [bug] </strong></span>Declarative can now propagate a column
declared on a single-table inheritance subclass
up to the parent class&#8217; table, when the parent
class is itself mapped to a join() or select()
statement, directly or via joined inheritance,
and not just a Table.<a class="changeset-link reference internal" href="#change-2e38231d60a59df94e2c8460f26df0ac">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2549">#2549</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-40"><span class="target" id="change-5f7f7241c49f5c13956148d68788a5b4"><strong>[orm] [bug] </strong></span>An error is emitted when uselist=False
is combined with a &#8220;dynamic&#8221; loader.
This is a warning in 0.7.9.<a class="changeset-link reference internal" href="#change-5f7f7241c49f5c13956148d68788a5b4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-41"><span class="target" id="change-d949d8b3a5cfeff6d354df74627d5c86"><strong>[orm] [moved] </strong></span>The InstrumentationManager interface
and the entire related system of alternate
class implementation is now moved out
to sqlalchemy.ext.instrumentation.   This is
a seldom used system that adds significant
complexity and overhead to the mechanics of
class instrumentation.  The new architecture
allows it to remain unused until
InstrumentationManager is actually imported,
at which point it is bootstrapped into
the core.<a class="changeset-link reference internal" href="#change-d949d8b3a5cfeff6d354df74627d5c86">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-42"><span class="target" id="change-9e38576183f7a6782b4f7506ccdf6a64"><strong>[orm] [removed] </strong></span>The legacy &#8220;mutable&#8221; system of the
ORM, including the MutableType class as well
as the mutable=True flag on PickleType
and postgresql.ARRAY has been removed.
In-place mutations are detected by the ORM
using the sqlalchemy.ext.mutable extension,
introduced in 0.7.   The removal of MutableType
and associated constructs removes a great
deal of complexity from SQLAlchemy&#8217;s internals.
The approach performed poorly as it would incur
a scan of the full contents of the Session
when in use.<a class="changeset-link reference internal" href="#change-9e38576183f7a6782b4f7506ccdf6a64">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2442">#2442</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-43"><span class="target" id="change-dca2d3ea2b1c7196e57ba9c29726c984"><strong>[orm] [removed] </strong></span>Deprecated identifiers removed:<ul>
<li>allow_null_pks mapper() argument
(use allow_partial_pks)</li>
<li>_get_col_to_prop() mapper method
(use get_property_by_column())</li>
<li>dont_load argument to Session.merge()
(use load=True)</li>
<li>sqlalchemy.orm.shard module
(use sqlalchemy.ext.horizontal_shard)</li>
</ul>
<a class="changeset-link reference internal" href="#change-dca2d3ea2b1c7196e57ba9c29726c984">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-engine">
<h3>engine<a class="headerlink" href="#change-0.8.0b1-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-44"><span class="target" id="change-9351c132e3dc4f1e2351b2a8da2e25fa"><strong>[engine] [feature] </strong></span>Connection event listeners can
now be associated with individual
Connection objects, not just Engine
objects.<a class="changeset-link reference internal" href="#change-9351c132e3dc4f1e2351b2a8da2e25fa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2511">#2511</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-45"><span class="target" id="change-b45c2b0f2927b785ff1ecf351e774697"><strong>[engine] [feature] </strong></span>The before_cursor_execute event
fires off for so-called &#8220;_cursor_execute&#8221;
events, which are usually special-case
executions of primary-key bound sequences
and default-generation SQL
phrases that invoke separately when RETURNING
is not used with INSERT.<a class="changeset-link reference internal" href="#change-b45c2b0f2927b785ff1ecf351e774697">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2459">#2459</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-46"><span class="target" id="change-22463c2cfb9d39369a05c7604a115970"><strong>[engine] [feature] </strong></span>The libraries used by the test suite
have been moved around a bit so that they are
part of the SQLAlchemy install again.  In addition,
a new suite of tests is present in the
new sqlalchemy.testing.suite package.  This is
an under-development system that hopes to provide
a universal testing suite for external dialects.
Dialects which are maintained outside of SQLAlchemy
can use the new test fixture as the framework
for their own tests, and will get for free a
&#8220;compliance&#8221; suite of dialect-focused tests,
including an improved &#8220;requirements&#8221; system
where specific capabilities and features can
be enabled or disabled for testing.<a class="changeset-link reference internal" href="#change-22463c2cfb9d39369a05c7604a115970">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-47"><span class="target" id="change-430f3e50d2f127fd14de43289d9a2f3c"><strong>[engine] [feature] </strong></span>Added a new system
for registration of new dialects in-process
without using an entrypoint.  See the
docs for &#8220;Registering New Dialects&#8221;.<a class="changeset-link reference internal" href="#change-430f3e50d2f127fd14de43289d9a2f3c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2462">#2462</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-48"><span class="target" id="change-e2fae5f65ab52a26ac82b7f60935da09"><strong>[engine] [feature] </strong></span>The &#8220;required&#8221; flag is set to
True by default, if not passed explicitly,
on bindparam() if the &#8220;value&#8221; or &#8220;callable&#8221;
parameters are not passed.
This will cause statement execution to check
for the parameter being present in the final
collection of bound parameters, rather than
implicitly assigning None.<a class="changeset-link reference internal" href="#change-e2fae5f65ab52a26ac82b7f60935da09">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2556">#2556</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-49"><span class="target" id="change-fe0037e95612a977b51439e4b6c0eafb"><strong>[engine] [feature] </strong></span>Various API tweaks to the &#8220;dialect&#8221;
API to better support highly specialized
systems such as the Akiban database, including
more hooks to allow an execution context to
access type processors.<a class="changeset-link reference internal" href="#change-fe0037e95612a977b51439e4b6c0eafb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-50"><span class="target" id="change-9decb8479dcbbd65af523f2c6c173243"><strong>[engine] [feature] </strong></span>Inspector.get_primary_keys() is
deprecated; use Inspector.get_pk_constraint().
Courtesy Diana Clarke.<a class="changeset-link reference internal" href="#change-9decb8479dcbbd65af523f2c6c173243">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2422">#2422</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-51"><span class="target" id="change-887967cc348c92cb22f612310ccfc257"><strong>[engine] [feature] </strong></span>New C extension module &#8220;utils&#8221; has
been added for additional function speedups
as we have time to implement.<a class="changeset-link reference internal" href="#change-887967cc348c92cb22f612310ccfc257">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-52"><span class="target" id="change-1b4924eaec05f897fcafc0a386d7d0b1"><strong>[engine] [bug] </strong></span>The Inspector.get_table_names()
order_by=&#8221;foreign_key&#8221; feature now sorts
tables by dependee first, to be consistent
with util.sort_tables and metadata.sorted_tables.<a class="changeset-link reference internal" href="#change-1b4924eaec05f897fcafc0a386d7d0b1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-53"><span class="target" id="change-73a085588ec93dbd5c85a150c70daa5e"><strong>[engine] [bug] </strong></span>Fixed bug whereby if a database restart
affected multiple connections, each
connection would individually invoke a new
disposal of the pool, even though only
one disposal is needed.<a class="changeset-link reference internal" href="#change-73a085588ec93dbd5c85a150c70daa5e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">#2522</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-54"><span class="target" id="change-07342ef0c4ddef6d0e85eb475b5f4ddf"><strong>[engine] [bug] </strong></span>The names of the columns on the
.c. attribute of a select().apply_labels()
is now based on &lt;tablename&gt;_&lt;colkey&gt; instead
of &lt;tablename&gt;_&lt;colname&gt;, for those columns
that have a distinctly named .key.<a class="changeset-link reference internal" href="#change-07342ef0c4ddef6d0e85eb475b5f4ddf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2397">#2397</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-55"><span class="target" id="change-8d333a7e4e2cdba25bbd707e1969eb49"><strong>[engine] [bug] </strong></span>The autoload_replace flag on Table,
when False, will cause any reflected foreign key
constraints which refer to already-declared
columns to be skipped, assuming that the
in-Python declared column will take over
the task of specifying in-Python ForeignKey
or ForeignKeyConstraint declarations.<a class="changeset-link reference internal" href="#change-8d333a7e4e2cdba25bbd707e1969eb49">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-56"><span class="target" id="change-1e7b3421e138590585f3eaeed284bf5a"><strong>[engine] [bug] </strong></span>The ResultProxy methods inserted_primary_key,
last_updated_params(), last_inserted_params(),
postfetch_cols(), prefetch_cols() all
assert that the given statement is a compiled
construct, and is an insert() or update()
statement as is appropriate, else
raise InvalidRequestError.<a class="changeset-link reference internal" href="#change-1e7b3421e138590585f3eaeed284bf5a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2498">#2498</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-57"><span class="target" id="change-b9d4ab67bbed4b4cbf58ffa3665cc480"><strong>[engine] </strong></span>ResultProxy.last_inserted_ids is removed,
replaced by inserted_primary_key.<a class="changeset-link reference internal" href="#change-b9d4ab67bbed4b4cbf58ffa3665cc480">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-sql">
<h3>sql<a class="headerlink" href="#change-0.8.0b1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-58"><span class="target" id="change-01459b01c904c45c34254ac95c8db643"><strong>[sql] [feature] </strong></span>Added a new method <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><tt class="xref py py-meth docutils literal"><span class="pre">Engine.execution_options()</span></tt></a>
to <a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>.  This method works similarly to
<a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></tt></a> in that it creates
a copy of the parent object which will refer to the new
set of options.   The method can be used to build
sharding schemes where each engine shares the same
underlying pool of connections.   The method
has been tested against the horizontal shard
recipe in the ORM as well.<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../core/connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><tt class="xref py py-meth docutils literal"><span class="pre">Engine.execution_options()</span></tt></a></p>
</div>
<a class="changeset-link reference internal" href="#change-01459b01c904c45c34254ac95c8db643">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-59"><span class="target" id="change-f532690d0ec3e3a93859eaea05b6f1c3"><strong>[sql] [feature] </strong></span>Major rework of operator system
in Core, to allow redefinition of existing
operators as well as addition of new operators
at the type level.  New types can be created
from existing ones which add or redefine
operations that are exported out to column
expressions, in a similar manner to how the
ORM has allowed comparator_factory.   The new
architecture moves this capability into the
Core so that it is consistently usable in
all cases, propagating cleanly using existing
type propagation behavior.<a class="changeset-link reference internal" href="#change-f532690d0ec3e3a93859eaea05b6f1c3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">#2547</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-60"><span class="target" id="change-157798fc4c22471e5ffcc78196bc2037"><strong>[sql] [feature] </strong></span>To complement, types
can now provide &#8220;bind expressions&#8221; and
&#8220;column expressions&#8221; which allow compile-time
injection of SQL expressions into statements
on a per-column or per-bind level.   This is
to suit the use case of a type which needs
to augment bind- and result- behavior at the
SQL level, as opposed to in the Python level.
Allows for schemes like transparent encryption/
decryption, usage of Postgis functions, etc.<a class="changeset-link reference internal" href="#change-157798fc4c22471e5ffcc78196bc2037">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1534">#1534</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">#2547</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-61"><span class="target" id="change-b3d03e37a80f9e08cd56e7135f530268"><strong>[sql] [feature] </strong></span>The Core oeprator system now includes
the <cite>getitem</cite> operator, i.e. the bracket
operator in Python.  This is used at first
to provide index and slice behavior to the
Postgresql ARRAY type, and also provides a hook
for end-user definition of custom __getitem__
schemes which can be applied at the type
level as well as within ORM-level custom
operator schemes.   <cite>lshift</cite> (&lt;&lt;)
and <cite>rshift</cite> (&gt;&gt;) are also supported as
optional operators.<p>Note that this change has the effect that
descriptor-based __getitem__ schemes used by
the ORM in conjunction with synonym() or other
&#8220;descriptor-wrapped&#8221; schemes will need
to start using a custom comparator in order
to maintain this behavior.</p>
<a class="changeset-link reference internal" href="#change-b3d03e37a80f9e08cd56e7135f530268">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-62"><span class="target" id="change-d5fa44003fbe6e1007f3b136de356241"><strong>[sql] [feature] </strong></span>Revised the rules used to determine
the operator precedence for the user-defined
operator, i.e. that granted using the <tt class="docutils literal"><span class="pre">op()</span></tt>
method.   Previously, the smallest precedence
was applied in all cases, now the default
precedence is zero, lower than all operators
except &#8220;comma&#8221; (such as, used in the argument
list of a <tt class="docutils literal"><span class="pre">func</span></tt> call) and &#8220;AS&#8221;, and is
also customizable via the &#8220;precedence&#8221; argument
on the <tt class="docutils literal"><span class="pre">op()</span></tt> method.<a class="changeset-link reference internal" href="#change-d5fa44003fbe6e1007f3b136de356241">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2537">#2537</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-63"><span class="target" id="change-510b1889868d9947ad1950a2e512d61d"><strong>[sql] [feature] </strong></span>Added &#8220;collation&#8221; parameter to all
String types.  When present, renders as
COLLATE &lt;collation&gt;.  This to support the
COLLATE keyword now supported by several
databases including MySQL, SQLite, and Postgresql.<a class="changeset-link reference internal" href="#change-510b1889868d9947ad1950a2e512d61d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2276">#2276</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-64"><span class="target" id="change-800e35771b07bd8b83965890465964c3"><strong>[sql] [feature] </strong></span>Custom unary operators can now be
used by combining operators.custom_op() with
UnaryExpression().<a class="changeset-link reference internal" href="#change-800e35771b07bd8b83965890465964c3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-65"><span class="target" id="change-5fabc53dcd5920c9dd6725c67706b1cb"><strong>[sql] [feature] </strong></span>Enhanced GenericFunction and func.*
to allow for user-defined GenericFunction
subclasses to be available via the func.*
namespace automatically by classname,
optionally using a package name, as well
as with the ability to have the rendered
name different from the identified name
in func.*.<a class="changeset-link reference internal" href="#change-5fabc53dcd5920c9dd6725c67706b1cb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-66"><span class="target" id="change-c456cfbbef249505af02d4bed46a65a2"><strong>[sql] [feature] </strong></span>The cast() and extract() constructs
will now be produced via the func.* accessor
as well, as users naturally try to access these
names from func.* they might as well do
what&#8217;s expected, even though the returned
object is not a FunctionElement.<a class="changeset-link reference internal" href="#change-c456cfbbef249505af02d4bed46a65a2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2562">#2562</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-67"><span class="target" id="change-a82ec299dc0d072667ab30cb57b59f22"><strong>[sql] [feature] </strong></span>The Inspector object can now be
acquired using the new inspect() service,
part of<a class="changeset-link reference internal" href="#change-a82ec299dc0d072667ab30cb57b59f22">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">#2208</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-68"><span class="target" id="change-d58191ed252657f9d6fb0178b62abf4c"><strong>[sql] [feature] </strong></span>The column_reflect event now
accepts the Inspector object as the first
argument, preceding &#8220;table&#8221;.   Code which
uses the 0.7 version of this very new
event will need modification to add the
&#8220;inspector&#8221; object as the first argument.<a class="changeset-link reference internal" href="#change-d58191ed252657f9d6fb0178b62abf4c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2418">#2418</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-69"><span class="target" id="change-6c39aca731482d07a19bb63fffd1db07"><strong>[sql] [feature] </strong></span>The behavior of column targeting
in result sets is now case sensitive by
default.   SQLAlchemy for many years would
run a case-insensitive conversion on these values,
probably to alleviate early case sensitivity
issues with dialects like Oracle and
Firebird.   These issues have been more cleanly
solved in more modern versions so the performance
hit of calling lower() on identifiers is removed.
The case insensitive comparisons can be re-enabled
by setting &#8220;case_insensitive=False&#8221; on
create_engine().<a class="changeset-link reference internal" href="#change-6c39aca731482d07a19bb63fffd1db07">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2423">#2423</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-70"><span class="target" id="change-f0476d1e752c1114226c2f7b1733e959"><strong>[sql] [feature] </strong></span>The &#8220;unconsumed column names&#8221; warning emitted
when keys are present in insert.values() or update.values()
that aren&#8217;t in the target table is now an exception.<a class="changeset-link reference internal" href="#change-f0476d1e752c1114226c2f7b1733e959">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2415">#2415</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-71"><span class="target" id="change-fbcc82d903c96f4fc45ae1118e05f293"><strong>[sql] [feature] </strong></span>Added &#8220;MATCH&#8221; clause to ForeignKey,
ForeignKeyConstraint, courtesy Ryan Kelly.<a class="changeset-link reference internal" href="#change-fbcc82d903c96f4fc45ae1118e05f293">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2502">#2502</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-72"><span class="target" id="change-d72952e44e63b0fc2012138b67d47086"><strong>[sql] [feature] </strong></span>Added support for DELETE and UPDATE from
an alias of a table, which would assumedly
be related to itself elsewhere in the query,
courtesy Ryan Kelly.<a class="changeset-link reference internal" href="#change-d72952e44e63b0fc2012138b67d47086">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2507">#2507</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-73"><span class="target" id="change-0ad7f438f6e23fa71b85a5f8d68a4196"><strong>[sql] [feature] </strong></span>select() features a correlate_except()
method, auto correlates all selectables except those
passed.<a class="changeset-link reference internal" href="#change-0ad7f438f6e23fa71b85a5f8d68a4196">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-74"><span class="target" id="change-f4bff6e966d77ff6d933f92d367dcae4"><strong>[sql] [feature] </strong></span>The prefix_with() method is now available
on each of select(), insert(), update(), delete(),
all with the same API, accepting multiple
prefix calls, as well as a &#8220;dialect name&#8221; so that
the prefix can be limited to one kind of dialect.<a class="changeset-link reference internal" href="#change-f4bff6e966d77ff6d933f92d367dcae4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2431">#2431</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-75"><span class="target" id="change-7dbf816368fe65f3b7de2d522397a8a6"><strong>[sql] [feature] </strong></span>Added reduce_columns() method
to select() construct, replaces columns inline
using the util.reduce_columns utility function
to remove equivalent columns.  reduce_columns()
also adds &#8220;with_only_synonyms&#8221; to limit the
reduction just to those columns which have the same
name.  The deprecated fold_equivalents() feature is
removed.<a class="changeset-link reference internal" href="#change-7dbf816368fe65f3b7de2d522397a8a6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">#1729</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-76"><span class="target" id="change-8d8e593e41bb7a19ee46c22bc0decfa1"><strong>[sql] [feature] </strong></span>Reworked the startswith(), endswith(),
contains() operators to do a better job with
negation (NOT LIKE), and also to assemble them
at compilation time so that their rendered SQL
can be altered, such as in the case for Firebird
STARTING WITH<a class="changeset-link reference internal" href="#change-8d8e593e41bb7a19ee46c22bc0decfa1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">#2470</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-77"><span class="target" id="change-120cab828675e93105c9e93717edec27"><strong>[sql] [feature] </strong></span>Added a hook to the system of rendering
CREATE TABLE that provides access to the render for each
Column individually, by constructing a &#64;compiles
function against the new schema.CreateColumn
construct.<a class="changeset-link reference internal" href="#change-120cab828675e93105c9e93717edec27">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2463">#2463</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-78"><span class="target" id="change-9f7e29fc75f561268d93f465d8982eb1"><strong>[sql] [feature] </strong></span>&#8220;scalar&#8221; selects now have a WHERE method
to help with generative building.  Also slight adjustment
regarding how SS &#8220;correlates&#8221; columns; the new methodology
no longer applies meaning to the underlying
Table column being selected.  This improves
some fairly esoteric situations, and the logic
that was there didn&#8217;t seem to have any purpose.<a class="changeset-link reference internal" href="#change-9f7e29fc75f561268d93f465d8982eb1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-79"><span class="target" id="change-aaa07a086b42d588284232c42691223e"><strong>[sql] [feature] </strong></span>An explicit error is raised when
a ForeignKeyConstraint() that was
constructed to refer to multiple remote tables
is first used.<a class="changeset-link reference internal" href="#change-aaa07a086b42d588284232c42691223e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2455">#2455</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-80"><span class="target" id="change-7d11577fe3de5f05b5b85e20a72c5d30"><strong>[sql] [feature] </strong></span>Added <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notin_()</span></tt></a>,
<a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators.notlike" title="sqlalchemy.sql.operators.ColumnOperators.notlike"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notlike()</span></tt></a>,
<a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators.notilike" title="sqlalchemy.sql.operators.ColumnOperators.notilike"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notilike()</span></tt></a> to <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><tt class="xref py py-class docutils literal"><span class="pre">ColumnOperators</span></tt></a>.<a class="changeset-link reference internal" href="#change-7d11577fe3de5f05b5b85e20a72c5d30">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2580">#2580</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-81"><span class="target" id="change-9f11c14207568ba3d31a17ff11ff6602"><strong>[sql] [bug] </strong></span>Fixed bug where keyword arguments passed to
<tt class="xref py py-meth docutils literal"><span class="pre">Compiler.process()</span></tt> wouldn&#8217;t get propagated
to the column expressions present in the columns
clause of a SELECT statement.  In particular this would
come up when used by custom compilation schemes that
relied upon special flags.<a class="changeset-link reference internal" href="#change-9f11c14207568ba3d31a17ff11ff6602">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2593">#2593</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-82"><span class="target" id="change-a732049d950faee01eefaa41df6d9bcf"><strong>[sql] [bug] [orm] </strong></span>The auto-correlation feature of <a class="reference internal" href="../core/expression_api.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><tt class="xref py py-func docutils literal"><span class="pre">select()</span></tt></a>, and
by proxy that of <tt class="xref py py-class docutils literal"><span class="pre">orm.Query</span></tt>, will not
take effect for a SELECT statement that is being
rendered directly in the FROM list of the enclosing
SELECT.  Correlation in SQL only applies to column
expressions such as those in the WHERE, ORDER BY,
columns clause.<a class="changeset-link reference internal" href="#change-a732049d950faee01eefaa41df6d9bcf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2595">#2595</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-83"><span class="target" id="change-4f0b1f3585efc63ec1286fc3774c09b9"><strong>[sql] [bug] </strong></span>A tweak to column precedence which moves the
&#8220;concat&#8221; and &#8220;match&#8221; operators to be the same as
that of &#8220;is&#8221;, &#8220;like&#8221;, and others; this helps with
parenthesization rendering when used in conjunction
with &#8220;IS&#8221;.<a class="changeset-link reference internal" href="#change-4f0b1f3585efc63ec1286fc3774c09b9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2564">#2564</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-84"><span class="target" id="change-e9e2da86a8c37003cda9737252a22e66"><strong>[sql] [bug] </strong></span>Applying a column expression to a select
statement using a label with or without other
modifying constructs will no longer &#8220;target&#8221; that
expression to the underlying Column; this affects
ORM operations that rely upon Column targeting
in order to retrieve results.  That is, a query
like query(User.id, User.id.label(&#8216;foo&#8217;)) will now
track the value of each &#8220;User.id&#8221; expression separately
instead of munging them together.  It is not expected
that any users will be impacted by this; however,
a usage that uses select() in conjunction with
query.from_statement() and attempts to load fully
composed ORM entities may not function as expected
if the select() named Column objects with arbitrary
.label() names, as these will no longer target to
the Column objects mapped by that entity.<a class="changeset-link reference internal" href="#change-e9e2da86a8c37003cda9737252a22e66">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2591">#2591</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-85"><span class="target" id="change-609b199612bf01e7e2389e4bc22e0058"><strong>[sql] [bug] </strong></span>Fixes to the interpretation of the
Column &#8220;default&#8221; parameter as a callable
to not pass ExecutionContext into a keyword
argument parameter.<a class="changeset-link reference internal" href="#change-609b199612bf01e7e2389e4bc22e0058">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2520">#2520</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-86"><span class="target" id="change-da559086155956288e47dfe0ce6c6f63"><strong>[sql] [bug] </strong></span>All of UniqueConstraint, ForeignKeyConstraint,
CheckConstraint, and PrimaryKeyConstraint will
attach themselves to their parent table automatically
when they refer to a Table-bound Column object directly
(i.e. not just string column name), and refer to
one and only one Table.   Prior to 0.8 this behavior
occurred for UniqueConstraint and PrimaryKeyConstraint,
but not ForeignKeyConstraint or CheckConstraint.<a class="changeset-link reference internal" href="#change-da559086155956288e47dfe0ce6c6f63">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">#2410</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-87"><span class="target" id="change-b11441c88863d587366a61b22f263c2d"><strong>[sql] [bug] </strong></span>TypeDecorator now includes a generic repr()
that works in terms of the &#8220;impl&#8221; type by default.
This is a behavioral change for those TypeDecorator
classes that specify a custom __init__ method; those
types will need to re-define __repr__() if they need
__repr__() to provide a faithful constructor representation.<a class="changeset-link reference internal" href="#change-b11441c88863d587366a61b22f263c2d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2594">#2594</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-88"><span class="target" id="change-8893c427938842218beba495ac8f76f1"><strong>[sql] [bug] </strong></span>column.label(None) now produces an
anonymous label, instead of returning the
column object itself, consistent with the behavior
of label(column, None).<a class="changeset-link reference internal" href="#change-8893c427938842218beba495ac8f76f1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2168">#2168</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-89"><span class="target" id="change-25bf00fd616dfde5e75310390171c9cb"><strong>[sql] [changed] </strong></span>Most classes in expression.sql
are no longer preceded with an underscore,
i.e. Label, SelectBase, Generative, CompareMixin.
_BindParamClause is also renamed to
BindParameter.   The old underscore names for
these classes will remain available as synonyms
for the foreseeable future.<a class="changeset-link reference internal" href="#change-25bf00fd616dfde5e75310390171c9cb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-90"><span class="target" id="change-ad44af79c886d1bb283042deb64f9cbe"><strong>[sql] [removed] </strong></span>The long-deprecated and non-functional <tt class="docutils literal"><span class="pre">assert_unicode</span></tt> flag on
<a class="reference internal" href="../core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><tt class="xref py py-func docutils literal"><span class="pre">create_engine()</span></tt></a> as well as <a class="reference internal" href="../core/types.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><tt class="xref py py-class docutils literal"><span class="pre">String</span></tt></a> is removed.<a class="changeset-link reference internal" href="#change-ad44af79c886d1bb283042deb64f9cbe">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-91"><span class="target" id="change-fb3c268a1d6d367b1d196ef3b07b4d9e"><strong>[sql] [change] </strong></span>The Text() type renders the length
given to it, if a length was specified.<a class="changeset-link reference internal" href="#change-fb3c268a1d6d367b1d196ef3b07b4d9e">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.8.0b1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-92"><span class="target" id="change-2e5a63d698d0ebd04785ccf495e9bad5"><strong>[postgresql] [feature] </strong></span>postgresql.ARRAY features an optional
&#8220;dimension&#8221; argument, will assign a specific
number of dimensions to the array which will
render in DDL as ARRAY[][]..., also improves
performance of bind/result processing.<a class="changeset-link reference internal" href="#change-2e5a63d698d0ebd04785ccf495e9bad5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2441">#2441</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-93"><span class="target" id="change-78619b6fa31af74f1144a57dae7a4f70"><strong>[postgresql] [feature] </strong></span>postgresql.ARRAY now supports
indexing and slicing.  The Python [] operator
is available on all SQL expressions that are
of type ARRAY; integer or simple slices can be
passed.  The slices can also be used on the
assignment side in the SET clause of an UPDATE
statement by passing them into Update.values();
see the docs for examples.<a class="changeset-link reference internal" href="#change-78619b6fa31af74f1144a57dae7a4f70">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-94"><span class="target" id="change-9b6a5818e07607737947ddcbdae34829"><strong>[postgresql] [feature] </strong></span>Added new &#8220;array literal&#8221; construct
postgresql.array().  Basically a &#8220;tuple&#8221; that
renders as ARRAY[1,2,3].<a class="changeset-link reference internal" href="#change-9b6a5818e07607737947ddcbdae34829">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-95"><span class="target" id="change-041d6fd58a2b6ecaa456a0230daca193"><strong>[postgresql] [feature] </strong></span>Added support for the Postgresql ONLY
keyword, which can appear corresponding to a
table in a SELECT, UPDATE, or DELETE statement.
The phrase is established using with_hint().
Courtesy Ryan Kelly<a class="changeset-link reference internal" href="#change-041d6fd58a2b6ecaa456a0230daca193">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2506">#2506</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-96"><span class="target" id="change-0e11be03f42037dd59265040930eb6b6"><strong>[postgresql] [feature] </strong></span>The &#8220;ischema_names&#8221; dictionary of the
Postgresql dialect is &#8220;unofficially&#8221; customizable.
Meaning, new types such as PostGIS types can
be added into this dictionary, and the PG type
reflection code should be able to handle simple
types with variable numbers of arguments.
The functionality here is &#8220;unofficial&#8221; for
three reasons:<ol class="arabic">
<li>this is not an &#8220;official&#8221; API.  Ideally
an &#8220;official&#8221; API would allow custom type-handling
callables at the dialect or global level
in a generic way.</li>
<li>This is only implemented for the PG dialect,
in particular because PG has broad support
for custom types vs. other database backends.
A real API would be implemented at the
default dialect level.</li>
<li>The reflection code here is only tested against
simple types and probably has issues with more
compositional types.</li>
</ol>
<p>patch courtesy Éric Lemoine.</p>
<a class="changeset-link reference internal" href="#change-0e11be03f42037dd59265040930eb6b6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.8.0b1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-97"><span class="target" id="change-2d129ed854bd771095a45bdf0613705c"><strong>[mysql] [feature] </strong></span>Added TIME type to mysql dialect,
accepts &#8220;fst&#8221; argument which is the new
&#8220;fractional seconds&#8221; specifier for recent
MySQL versions.  The datatype will interpret
a microseconds portion received from the driver,
however note that at this time most/all MySQL
DBAPIs do not support returning this value.<a class="changeset-link reference internal" href="#change-2d129ed854bd771095a45bdf0613705c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2534">#2534</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-98"><span class="target" id="change-700a963887f5381be78374ee6cbab43e"><strong>[mysql] [bug] </strong></span>Dialect no longer emits expensive server
collations query, as well as server casing,
on first connect.  These functions are still
available as semi-private.<a class="changeset-link reference internal" href="#change-700a963887f5381be78374ee6cbab43e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2404">#2404</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.8.0b1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-99"><span class="target" id="change-b5f1f9bec1b77fa7e12fe21090980fcc"><strong>[sqlite] [feature] </strong></span>the SQLite date and time types
have been overhauled to support a more open
ended format for input and output, using
name based format strings and regexps.  A
new argument &#8220;microseconds&#8221; also provides
the option to omit the &#8220;microseconds&#8221;
portion of timestamps.  Thanks to
Nathan Wright for the work and tests on
this.<a class="changeset-link reference internal" href="#change-b5f1f9bec1b77fa7e12fe21090980fcc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2363">#2363</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-100"><span class="target" id="change-5d430ab66984e1839fc49a94ccc5dacb"><strong>[sqlite] </strong></span>Added <a class="reference internal" href="../core/types.html#sqlalchemy.types.NCHAR" title="sqlalchemy.types.NCHAR"><tt class="xref py py-class docutils literal"><span class="pre">types.NCHAR</span></tt></a>, <a class="reference internal" href="../core/types.html#sqlalchemy.types.NVARCHAR" title="sqlalchemy.types.NVARCHAR"><tt class="xref py py-class docutils literal"><span class="pre">types.NVARCHAR</span></tt></a>
to the SQLite dialect&#8217;s list of recognized type names
for reflection.   SQLite returns the name given
to a type as the name returned.<a class="changeset-link reference internal" href="#change-5d430ab66984e1839fc49a94ccc5dacb">(link)</a><p> <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/23">pull request 23</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/changeset/c3addcc9ffad">rc3addcc9ffad</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.8.0b1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-101"><span class="target" id="change-8e3f4625a47111ef4767a2ef9ba24c73"><strong>[mssql] [feature] </strong></span>SQL Server dialect can be given
database-qualified schema names,
i.e. &#8220;schema=&#8217;mydatabase.dbo&#8217;&#8221;; reflection
operations will detect this, split the schema
among the &#8221;.&#8221; to get the owner separately,
and emit a &#8220;USE mydatabase&#8221; statement before
reflecting targets within the &#8220;dbo&#8221; owner;
the existing database returned from
DB_NAME() is then restored.<a class="changeset-link reference internal" href="#change-8e3f4625a47111ef4767a2ef9ba24c73">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-102"><span class="target" id="change-6322f3d6024c987d549a01d768b12959"><strong>[mssql] [feature] </strong></span>updated support for the mxodbc
driver; mxodbc 3.2.1 is recommended for full
compatibility.<a class="changeset-link reference internal" href="#change-6322f3d6024c987d549a01d768b12959">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-103"><span class="target" id="change-38d801b4255682b32f9a913a78a9a3b3"><strong>[mssql] [bug] </strong></span>removed legacy behavior whereby
a column comparison to a scalar SELECT via
== would coerce to an IN with the SQL server
dialect.  This is implicit
behavior which fails in other scenarios
so is removed.  Code which relies on this
needs to be modified to use column.in_(select)
explicitly.<a class="changeset-link reference internal" href="#change-38d801b4255682b32f9a913a78a9a3b3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2277">#2277</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.8.0b1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-104"><span class="target" id="change-ce42a727e4d7a0a75bab19dbddbbfc73"><strong>[oracle] [feature] </strong></span>The types of columns excluded from the
setinputsizes() set can be customized by sending
a list of string DBAPI type names to exclude,
using the exclude_setinputsizes dialect parameter.
This list was previously fixed.  The list also
now defaults to STRING, UNICODE, removing
CLOB, NCLOB from the list.<a class="changeset-link reference internal" href="#change-ce42a727e4d7a0a75bab19dbddbbfc73">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2561">#2561</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-105"><span class="target" id="change-d8885a06585445bdffa3bb5ab8597e77"><strong>[oracle] [bug] </strong></span>Quoting information is now passed along
from a Column with quote=True when generating
a same-named bound parameter to the bindparam()
object, as is the case in generated INSERT and UPDATE
statements, so that unknown reserved names can
be fully supported.<a class="changeset-link reference internal" href="#change-d8885a06585445bdffa3bb5ab8597e77">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2437">#2437</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-106"><span class="target" id="change-260439d04d4ab56d9b30d9ac80fbca60"><strong>[oracle] [bug] </strong></span>The CreateIndex construct in Oracle
will now schema-qualify the name of the index
to be that of the parent table.  Previously this
name was omitted which apparently creates the
index in the default schema, rather than that
of the table.<a class="changeset-link reference internal" href="#change-260439d04d4ab56d9b30d9ac80fbca60">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.8.0b1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-107"><span class="target" id="change-55352f849d8075f34ab05c59513144de"><strong>[firebird] [feature] </strong></span>The &#8220;startswith()&#8221; operator renders
as &#8220;STARTING WITH&#8221;, &#8220;~startswith()&#8221; renders
as &#8220;NOT STARTING WITH&#8221;, using FB&#8217;s more efficient
operator.<a class="changeset-link reference internal" href="#change-55352f849d8075f34ab05c59513144de">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">#2470</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-108"><span class="target" id="change-274d52dddd6cd76f57ce87648cc1473c"><strong>[firebird] [feature] </strong></span>An experimental dialect for the fdb
driver is added, but is untested as I cannot
get the fdb package to build.<a class="changeset-link reference internal" href="#change-274d52dddd6cd76f57ce87648cc1473c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2504">#2504</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-109"><span class="target" id="change-1a137fa5bc1551eb7474d03095eebc94"><strong>[firebird] [bug] </strong></span>CompileError is raised when VARCHAR with
no length is attempted to be emitted, same
way as MySQL.<a class="changeset-link reference internal" href="#change-1a137fa5bc1551eb7474d03095eebc94">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2505">#2505</a></p>
</p>
</li>
<li><p id="change-0.8.0b1-110"><span class="target" id="change-12e7c07b97df9409c6cb6b31012fa796"><strong>[firebird] [bug] </strong></span>Firebird now uses strict &#8220;ansi bind rules&#8221;
so that bound parameters don&#8217;t render in the
columns clause of a statement - they render
literally instead.<a class="changeset-link reference internal" href="#change-12e7c07b97df9409c6cb6b31012fa796">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-111"><span class="target" id="change-41375c1893b68568e7e9fca8159598fc"><strong>[firebird] [bug] </strong></span>Support for passing datetime as date when
using the DateTime type with Firebird; other
dialects support this.<a class="changeset-link reference internal" href="#change-41375c1893b68568e7e9fca8159598fc">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.8.0b1-misc">
<h3>misc<a class="headerlink" href="#change-0.8.0b1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.8.0b1-112"><span class="target" id="change-fd39f8f8e11ef48c87654cb42253c2bc"><strong>[feature] [access] </strong></span>the MS Access dialect has been
moved to its own project on Bitbucket,
taking advantage of the new SQLAlchemy
dialect compliance suite.   The dialect is
still in very rough shape and probably not
ready for general use yet, however
it does have <em>extremely</em> rudimental
functionality now.
<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-access">https://bitbucket.org/zzzeek/sqlalchemy-access</a><a class="changeset-link reference internal" href="#change-fd39f8f8e11ef48c87654cb42253c2bc">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-113"><span class="target" id="change-b7848d7bbe509cb980a185cb57f2a3af"><strong>[moved] [maxdb] </strong></span>The MaxDB dialect, which hasn&#8217;t been
functional for several years, is
moved out to a pending bitbucket project,
<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-maxdb">https://bitbucket.org/zzzeek/sqlalchemy-maxdb</a>.<a class="changeset-link reference internal" href="#change-b7848d7bbe509cb980a185cb57f2a3af">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.8.0b1-114"><span class="target" id="change-1523176dc77fb5a2a38ee7073b45df68"><strong>[examples] </strong></span>The Beaker caching example has been converted
to use <a class="reference external" href="http://dogpilecache.readthedocs.org/">dogpile.cache</a>.
This is a new caching library written by the same
creator of Beaker&#8217;s caching internals, and represents a
vastly improved, simplified, and modernized system of caching.<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../orm/examples.html#examples-caching"><em>Dogpile Caching</em></a></p>
</div>
<a class="changeset-link reference internal" href="#change-1523176dc77fb5a2a38ee7073b45df68">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2589">#2589</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links">
        Previous:
        <a href="migration_08.html" title="previous chapter">What&#8217;s New in SQLAlchemy 0.8?</a>
        Next:
        <a href="changelog_07.html" title="next chapter">0.7 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2013, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
</div>

</div>

        
    </body>
</html>


