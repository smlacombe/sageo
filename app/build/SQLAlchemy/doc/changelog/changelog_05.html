<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
                0.5 Changelog
             &mdash; 
    SQLAlchemy 0.8 Documentation

        </title>
        
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/docs.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '0.8.1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 0.8 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="0.4 Changelog" href="changelog_04.html" />
        <link rel="prev" title="0.6 Changelog" href="changelog_06.html" />

    </head>
    <body>
        










<div id="docs-container">



<div id="docs-header">
    <h1>SQLAlchemy 0.8 Documentation</h1>

    <div id="docs-search">
    Search:
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>

    <div id="docs-version-header">
        Release: <span class="version-num">0.8.1</span> | Release Date: April 27, 2013


    </div>

</div>

<div id="docs-top-navigation">
    <div id="docs-top-page-control" class="docs-navigation-links">
        <ul>
            <li>Prev:
            <a href="changelog_06.html" title="previous chapter">0.6 Changelog</a>
            </li>
            <li>Next:
            <a href="changelog_04.html" title="next chapter">0.4 Changelog</a>
            </li>

        <li>
            <a href="../contents.html">Table of Contents</a> |
            <a href="../genindex.html">Index</a>
            | <a href="../_sources/changelog/changelog_05.txt">view source
        </li>
        </ul>
    </div>

    <div id="docs-navigation-banner">
        <a href="../index.html">SQLAlchemy 0.8 Documentation</a>
                » <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        » 
                0.5 Changelog
             

        <h2>
            
                0.5 Changelog
            
        </h2>
    </div>

</div>

<div id="docs-body-container">

    <div id="docs-sidebar">
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">0.5 Changelog</a><ul>
<li><a class="reference internal" href="#change-0.5.9">0.5.9</a><ul>
<li><a class="reference internal" href="#change-0.5.9-sql">sql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.8">0.5.8</a><ul>
<li><a class="reference internal" href="#change-0.5.8-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.8-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.5.8-firebird">firebird</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.7">0.5.7</a><ul>
<li><a class="reference internal" href="#change-0.5.7-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.7-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.7-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.5.7-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.7-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.5.7-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.5.7-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.6">0.5.6</a><ul>
<li><a class="reference internal" href="#change-0.5.6-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.6-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.6-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.5.6-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.5">0.5.5</a><ul>
<li><a class="reference internal" href="#change-0.5.5-general">general</a></li>
<li><a class="reference internal" href="#change-0.5.5-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.5-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.5-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.4p2">0.5.4p2</a><ul>
<li><a class="reference internal" href="#change-0.5.4p2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.4p2-postgresql">postgresql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.4p1">0.5.4p1</a><ul>
<li><a class="reference internal" href="#change-0.5.4p1-orm">orm</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.4">0.5.4</a><ul>
<li><a class="reference internal" href="#change-0.5.4-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.4-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.4-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.5.4-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.4-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.4-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.5.4-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.3">0.5.3</a><ul>
<li><a class="reference internal" href="#change-0.5.3-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.3-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.3-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.5.3-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.3-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.5.3-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.2">0.5.2</a><ul>
<li><a class="reference internal" href="#change-0.5.2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.2-mssql">mssql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.1">0.5.1</a><ul>
<li><a class="reference internal" href="#change-0.5.1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.1-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.5.1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.1-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.5.1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.1-mssql">mssql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0">0.5.0</a><ul>
<li><a class="reference internal" href="#change-0.5.0-general">general</a></li>
<li><a class="reference internal" href="#change-0.5.0-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.5.0-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.0-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.5.0-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.5.0-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0rc4">0.5.0rc4</a><ul>
<li><a class="reference internal" href="#change-0.5.0rc4-general">general</a></li>
<li><a class="reference internal" href="#change-0.5.0rc4-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0rc4-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc4-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc4-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0rc3">0.5.0rc3</a><ul>
<li><a class="reference internal" href="#change-0.5.0rc3-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0rc3-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc3-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc3-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.5.0rc3-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0rc2">0.5.0rc2</a><ul>
<li><a class="reference internal" href="#change-0.5.0rc2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0rc2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc2-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc2-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.0rc2-oracle">oracle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0rc1">0.5.0rc1</a><ul>
<li><a class="reference internal" href="#change-0.5.0rc1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0rc1-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.5.0rc1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc1-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.5.0rc1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0rc1-oracle">oracle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0beta3">0.5.0beta3</a><ul>
<li><a class="reference internal" href="#change-0.5.0beta3-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0beta3-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0beta3-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0beta3-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0beta2">0.5.0beta2</a><ul>
<li><a class="reference internal" href="#change-0.5.0beta2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0beta2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0beta2-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.5.0beta2-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.5.0beta2-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.5.0beta1">0.5.0beta1</a><ul>
<li><a class="reference internal" href="#change-0.5.0beta1-general">general</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-firebird">firebird</a></li>
<li><a class="reference internal" href="#change-0.5.0beta1-misc">misc</a></li>
</ul>
</li>
</ul>
</li>
</ul>


    <h4>Previous Topic</h4>
    <p>
    <a href="changelog_06.html" title="previous chapter">0.6 Changelog</a>
    </p>
    <h4>Next Topic</h4>
    <p>
    <a href="changelog_04.html" title="next chapter">0.4 Changelog</a>
    </p>


    <h4>Quick Search</h4>
    <p>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </p>

    </div>

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>0.5 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-0.5.9">
<h2>0.5.9<a class="headerlink" href="#change-0.5.9" title="Permalink to this headline">¶</a></h2>
no release date<div class="section" id="change-0.5.9-sql">
<h3>sql<a class="headerlink" href="#change-0.5.9-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.9-0"><span class="target" id="change-2b3dbc23ccb7c7fba44587cc3e64c2b4"><strong>[sql] </strong></span>Fixed erroneous self_group() call in expression package.<a class="changeset-link reference internal" href="#change-2b3dbc23ccb7c7fba44587cc3e64c2b4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1661">#1661</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.8">
<h2>0.5.8<a class="headerlink" href="#change-0.5.8" title="Permalink to this headline">¶</a></h2>
Released: Sat Jan 16 2010<div class="section" id="change-0.5.8-sql">
<h3>sql<a class="headerlink" href="#change-0.5.8-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.8-0"><span class="target" id="change-cfd691fb4a1a3dc9cc52fbd338afb03e"><strong>[sql] </strong></span>The copy() method on Column now supports uninitialized,
unnamed Column objects. This allows easy creation of
declarative helpers which place common columns on multiple
subclasses.<a class="changeset-link reference internal" href="#change-cfd691fb4a1a3dc9cc52fbd338afb03e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.8-1"><span class="target" id="change-33eee31f1b1df00ed8abad9a8b9bb7d4"><strong>[sql] </strong></span>Default generators like Sequence() translate correctly
across a copy() operation.<a class="changeset-link reference internal" href="#change-33eee31f1b1df00ed8abad9a8b9bb7d4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.8-2"><span class="target" id="change-357782766666ec6efb3f7d938d277a2d"><strong>[sql] </strong></span>Sequence() and other DefaultGenerator objects are accepted
as the value for the &#8220;default&#8221; and &#8220;onupdate&#8221; keyword
arguments of Column, in addition to being accepted
positionally.<a class="changeset-link reference internal" href="#change-357782766666ec6efb3f7d938d277a2d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.8-3"><span class="target" id="change-8bee8818221b5bb1cf4c4108b3aa9610"><strong>[sql] </strong></span>Fixed a column arithmetic bug that affected column
correspondence for cloned selectables which contain
free-standing column expressions.   This bug is
generally only noticeable when exercising newer
ORM behavior only availble in 0.6 via,
but is more correct at the SQL expression level
as well.<a class="changeset-link reference internal" href="#change-8bee8818221b5bb1cf4c4108b3aa9610">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1568">#1568</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1617">#1617</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.8-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.5.8-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.8-4"><span class="target" id="change-dd873689e69524aaf89929bdce508264"><strong>[postgresql] </strong></span>The extract() function, which was slightly improved in
0.5.7, needed a lot more work to generate the correct
typecast (the typecasts appear to be necessary in PG&#8217;s
EXTRACT quite a lot of the time).  The typecast is
now generated using a rule dictionary based
on PG&#8217;s documentation for date/time/interval arithmetic.
It also accepts text() constructs again, which was broken
in 0.5.7.<a class="changeset-link reference internal" href="#change-dd873689e69524aaf89929bdce508264">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1647">#1647</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.8-firebird">
<h3>firebird<a class="headerlink" href="#change-0.5.8-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.8-5"><span class="target" id="change-9083459c05e2b92c9fefe9ca76cd36db"><strong>[firebird] </strong></span>Recognize more errors as disconnections.<a class="changeset-link reference internal" href="#change-9083459c05e2b92c9fefe9ca76cd36db">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1646">#1646</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.7">
<h2>0.5.7<a class="headerlink" href="#change-0.5.7" title="Permalink to this headline">¶</a></h2>
Released: Sat Dec 26 2009<div class="section" id="change-0.5.7-orm">
<h3>orm<a class="headerlink" href="#change-0.5.7-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-0"><span class="target" id="change-560431e6a014d0ad8ba45deb990b3e40"><strong>[orm] </strong></span>contains_eager() now works with the automatically
generated subquery that results when you say
&#8220;query(Parent).join(Parent.somejoinedsubclass)&#8221;, i.e.
when Parent joins to a joined-table-inheritance subclass.
Previously contains_eager() would erroneously add the
subclass table to the query separately producing a
cartesian product.  An example is in the ticket
description.<a class="changeset-link reference internal" href="#change-560431e6a014d0ad8ba45deb990b3e40">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1543">#1543</a></p>
</p>
</li>
<li><p id="change-0.5.7-1"><span class="target" id="change-b39b877f6bf39bfdf655bc9f19edbbe0"><strong>[orm] </strong></span>query.options() now only propagate to loaded objects
for potential further sub-loads only for options where
such behavior is relevant, keeping
various unserializable options like those generated
by contains_eager() out of individual instance states.<a class="changeset-link reference internal" href="#change-b39b877f6bf39bfdf655bc9f19edbbe0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1553">#1553</a></p>
</p>
</li>
<li><p id="change-0.5.7-2"><span class="target" id="change-af73d67063a48f3d8eb60df156646a1d"><strong>[orm] </strong></span>Session.execute() now locates table- and
mapper-specific binds based on a passed
in expression which is an insert()/update()/delete()
construct.<a class="changeset-link reference internal" href="#change-af73d67063a48f3d8eb60df156646a1d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1054">#1054</a></p>
</p>
</li>
<li><p id="change-0.5.7-3"><span class="target" id="change-5f51b3a5ed232849fed023e0e50c68c0"><strong>[orm] </strong></span>Session.merge() now properly overwrites a many-to-one or
uselist=False attribute to None if the attribute
is also None in the given object to be merged.<a class="changeset-link reference internal" href="#change-5f51b3a5ed232849fed023e0e50c68c0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.7-4"><span class="target" id="change-7971259a1cd52e28cfaaca415345964d"><strong>[orm] </strong></span>Fixed a needless select which would occur when merging
transient objects that contained a null primary key
identifier.<a class="changeset-link reference internal" href="#change-7971259a1cd52e28cfaaca415345964d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1618">#1618</a></p>
</p>
</li>
<li><p id="change-0.5.7-5"><span class="target" id="change-4250173297f3d118a49e5b7b3dabe57e"><strong>[orm] </strong></span>Mutable collection passed to the &#8220;extension&#8221; attribute
of relation(), column_property() etc. will not be mutated
or shared among multiple instrumentation calls, preventing
duplicate extensions, such as backref populators,
from being inserted into the list.<a class="changeset-link reference internal" href="#change-4250173297f3d118a49e5b7b3dabe57e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1585">#1585</a></p>
</p>
</li>
<li><p id="change-0.5.7-6"><span class="target" id="change-1dc4c6e7d74bb61d6fa728e67a228d6d"><strong>[orm] </strong></span>Fixed the call to get_committed_value() on CompositeProperty.<a class="changeset-link reference internal" href="#change-1dc4c6e7d74bb61d6fa728e67a228d6d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1504">#1504</a></p>
</p>
</li>
<li><p id="change-0.5.7-7"><span class="target" id="change-0f42893b8a0ff586bba4d1d1b7a1b642"><strong>[orm] </strong></span>Fixed bug where Query would crash if a join() with no clear
&#8220;left&#8221; side were called when a non-mapped column entity
appeared in the columns list.<a class="changeset-link reference internal" href="#change-0f42893b8a0ff586bba4d1d1b7a1b642">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1602">#1602</a></p>
</p>
</li>
<li><p id="change-0.5.7-8"><span class="target" id="change-83dc5691a5f7015fc10d5cf5d8cc181f"><strong>[orm] </strong></span>Fixed bug whereby composite columns wouldn&#8217;t load properly
when configured on a joined-table subclass, introduced in
version 0.5.6 as a result of the fix for. thx to Scott Torborg.<a class="changeset-link reference internal" href="#change-83dc5691a5f7015fc10d5cf5d8cc181f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1616">#1616</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1480">#1480</a></p>
</p>
</li>
<li><p id="change-0.5.7-9"><span class="target" id="change-56b79c2153a808998c71d6d836429bd8"><strong>[orm] </strong></span>The &#8220;use get&#8221; behavior of many-to-one relations, i.e. that a
lazy load will fallback to the possibly cached query.get()
value, now works across join conditions where the two compared
types are not exactly the same class, but share the same
&#8220;affinity&#8221; - i.e. Integer and SmallInteger.  Also allows
combinations of reflected and non-reflected types to work
with 0.5 style type reflection, such as PGText/Text (note 0.6
reflects types as their generic versions).<a class="changeset-link reference internal" href="#change-56b79c2153a808998c71d6d836429bd8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1556">#1556</a></p>
</p>
</li>
<li><p id="change-0.5.7-10"><span class="target" id="change-0e7c7e57cbf63637c2c6d7e339b898d2"><strong>[orm] </strong></span>Fixed bug in query.update() when passing Cls.attribute
as keys in the value dict and using synchronize_session=&#8217;expire&#8217;
(&#8216;fetch&#8217; in 0.6).<a class="changeset-link reference internal" href="#change-0e7c7e57cbf63637c2c6d7e339b898d2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1436">#1436</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-sql">
<h3>sql<a class="headerlink" href="#change-0.5.7-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-11"><span class="target" id="change-90ddd20ebdf9aa18aa6b46e383828843"><strong>[sql] </strong></span>Fixed bug in two-phase transaction whereby commit() method
didn&#8217;t set the full state which allows subsequent close()
call to succeed.<a class="changeset-link reference internal" href="#change-90ddd20ebdf9aa18aa6b46e383828843">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1603">#1603</a></p>
</p>
</li>
<li><p id="change-0.5.7-12"><span class="target" id="change-dea36b8a8804bde0500e3de803341e81"><strong>[sql] </strong></span>Fixed the &#8220;numeric&#8221; paramstyle, which apparently is the
default paramstyle used by Informixdb.<a class="changeset-link reference internal" href="#change-dea36b8a8804bde0500e3de803341e81">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.7-13"><span class="target" id="change-1113d645a6af6e994b228afb6af6d0cc"><strong>[sql] </strong></span>Repeat expressions in the columns clause of a select
are deduped based on the identity of each clause element,
not the actual string.  This allows positional
elements to render correctly even if they all render
identically, such as &#8220;qmark&#8221; style bind parameters.<a class="changeset-link reference internal" href="#change-1113d645a6af6e994b228afb6af6d0cc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1574">#1574</a></p>
</p>
</li>
<li><p id="change-0.5.7-14"><span class="target" id="change-282c334839ec8fc95e85b310efe0b0ec"><strong>[sql] </strong></span>The cursor associated with connection pool connections
(i.e. _CursorFairy) now proxies <cite>__iter__()</cite> to the
underlying cursor correctly.<a class="changeset-link reference internal" href="#change-282c334839ec8fc95e85b310efe0b0ec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1632">#1632</a></p>
</p>
</li>
<li><p id="change-0.5.7-15"><span class="target" id="change-6447c5455b1dc2e4085905562e5a90d7"><strong>[sql] </strong></span>types now support an &#8220;affinity comparison&#8221; operation, i.e.
that an Integer/SmallInteger are &#8220;compatible&#8221;, or
a Text/String, PickleType/Binary, etc.  Part of.<a class="changeset-link reference internal" href="#change-6447c5455b1dc2e4085905562e5a90d7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1556">#1556</a></p>
</p>
</li>
<li><p id="change-0.5.7-16"><span class="target" id="change-e3d9eb142cd6308934879b26398c804a"><strong>[sql] </strong></span>Fixed bug preventing alias() of an alias() from being
cloned or adapted (occurs frequently in ORM operations).<a class="changeset-link reference internal" href="#change-e3d9eb142cd6308934879b26398c804a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1641">#1641</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.5.7-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-17"><span class="target" id="change-285f02813a233d1a64010965c7e7d46e"><strong>[postgresql] </strong></span>Added support for reflecting the DOUBLE PRECISION type,
via a new postgres.PGDoublePrecision object.
This is postgresql.DOUBLE_PRECISION in 0.6.<a class="changeset-link reference internal" href="#change-285f02813a233d1a64010965c7e7d46e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1085">#1085</a></p>
</p>
</li>
<li><p id="change-0.5.7-18"><span class="target" id="change-9869dc611263b6a47738adeb046e8e92"><strong>[postgresql] </strong></span>Added support for reflecting the INTERVAL YEAR TO MONTH
and INTERVAL DAY TO SECOND syntaxes of the INTERVAL
type.<a class="changeset-link reference internal" href="#change-9869dc611263b6a47738adeb046e8e92">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/460">#460</a></p>
</p>
</li>
<li><p id="change-0.5.7-19"><span class="target" id="change-348276082502e7ee642501b51e87b609"><strong>[postgresql] </strong></span>Corrected the &#8220;has_sequence&#8221; query to take current schema,
or explicit sequence-stated schema, into account.<a class="changeset-link reference internal" href="#change-348276082502e7ee642501b51e87b609">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1576">#1576</a></p>
</p>
</li>
<li><p id="change-0.5.7-20"><span class="target" id="change-16cb8f29ef1c6da912d1c738ae74068d"><strong>[postgresql] </strong></span>Fixed the behavior of extract() to apply operator
precedence rules to the &#8221;::&#8221; operator when applying
the &#8220;timestamp&#8221; cast - ensures proper parenthesization.<a class="changeset-link reference internal" href="#change-16cb8f29ef1c6da912d1c738ae74068d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1611">#1611</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.7-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-21"><span class="target" id="change-38abbb1aa83741482b4943a46d20a835"><strong>[sqlite] </strong></span>sqlite dialect properly generates CREATE INDEX for a table
that is in an alternate schema.<a class="changeset-link reference internal" href="#change-38abbb1aa83741482b4943a46d20a835">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1439">#1439</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.7-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-22"><span class="target" id="change-b91807fd16a6879d886a98e03172a36b"><strong>[mssql] </strong></span>Changed the name of TrustedConnection to
Trusted_Connection when constructing pyodbc connect
arguments<a class="changeset-link reference internal" href="#change-b91807fd16a6879d886a98e03172a36b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1561">#1561</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.7-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-23"><span class="target" id="change-8da4a36b631015a25392cbcab3c7ad04"><strong>[oracle] </strong></span>The &#8220;table_names&#8221; dialect function, used by MetaData
.reflect(), omits &#8220;index overflow tables&#8221;, a system
table generated by Oracle when &#8220;index only tables&#8221;
with overflow are used.  These tables aren&#8217;t accessible
via SQL and can&#8217;t be reflected.<a class="changeset-link reference internal" href="#change-8da4a36b631015a25392cbcab3c7ad04">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1637">#1637</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.7-misc">
<h3>misc<a class="headerlink" href="#change-0.5.7-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.7-24"><span class="target" id="change-ed2a389aec169db8a34e5c988818084f"><strong>[ext] </strong></span>A column can be added to a joined-table declarative
superclass after the class has been constructed
(i.e. via class-level attribute assignment), and
the column will be propagated down to
subclasses.  This is the reverse
situation as that of, fixed in 0.5.6.<a class="changeset-link reference internal" href="#change-ed2a389aec169db8a34e5c988818084f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1570">#1570</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1523">#1523</a></p>
</p>
</li>
<li><p id="change-0.5.7-25"><span class="target" id="change-e611ebfe687b0c2ef99c6348a9a40b35"><strong>[ext] </strong></span>Fixed a slight inaccuracy in the sharding example.
Comparing equivalence of columns in the ORM is best
accomplished using col1.shares_lineage(col2).<a class="changeset-link reference internal" href="#change-e611ebfe687b0c2ef99c6348a9a40b35">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1491">#1491</a></p>
</p>
</li>
<li><p id="change-0.5.7-26"><span class="target" id="change-c23faacc23d4d5d4fcf2fbc5a6a00340"><strong>[ext] </strong></span>Removed unused <cite>load()</cite> method from ShardedQuery.<a class="changeset-link reference internal" href="#change-c23faacc23d4d5d4fcf2fbc5a6a00340">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1606">#1606</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.6">
<h2>0.5.6<a class="headerlink" href="#change-0.5.6" title="Permalink to this headline">¶</a></h2>
Released: Sat Sep 12 2009<div class="section" id="change-0.5.6-orm">
<h3>orm<a class="headerlink" href="#change-0.5.6-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.6-0"><span class="target" id="change-e377a6ac781cb62d4d6abf3473c81a24"><strong>[orm] </strong></span>Fixed bug whereby inheritance discriminator part of a
composite primary key would fail on updates.
Continuation of.<a class="changeset-link reference internal" href="#change-e377a6ac781cb62d4d6abf3473c81a24">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1300">#1300</a></p>
</p>
</li>
<li><p id="change-0.5.6-1"><span class="target" id="change-21bec2bccd75a800dce74b993437f025"><strong>[orm] </strong></span>Fixed bug which disallowed one side of a many-to-many
bidirectional reference to declare itself as &#8220;viewonly&#8221;<a class="changeset-link reference internal" href="#change-21bec2bccd75a800dce74b993437f025">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1507">#1507</a></p>
</p>
</li>
<li><p id="change-0.5.6-2"><span class="target" id="change-413bce465d70e4b30ba74d205de21bbc"><strong>[orm] </strong></span>Added an assertion that prevents a &#64;validates function
or other AttributeExtension from loading an unloaded
collection such that internal state may be corrupted.<a class="changeset-link reference internal" href="#change-413bce465d70e4b30ba74d205de21bbc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1526">#1526</a></p>
</p>
</li>
<li><p id="change-0.5.6-3"><span class="target" id="change-939ca7047297631279649cb4be7ffa8a"><strong>[orm] </strong></span>Fixed bug which prevented two entities from mutually
replacing each other&#8217;s primary key values within a single
flush() for some orderings of operations.<a class="changeset-link reference internal" href="#change-939ca7047297631279649cb4be7ffa8a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1519">#1519</a></p>
</p>
</li>
<li><p id="change-0.5.6-4"><span class="target" id="change-9e614f68926a2f9caf784974ef2ab8d6"><strong>[orm] </strong></span>Fixed an obscure issue whereby a joined-table subclass
with a self-referential eager load on the base class
would populate the related object&#8217;s &#8220;subclass&#8221; table with
data from the &#8220;subclass&#8221; table of the parent.<a class="changeset-link reference internal" href="#change-9e614f68926a2f9caf784974ef2ab8d6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1485">#1485</a></p>
</p>
</li>
<li><p id="change-0.5.6-5"><span class="target" id="change-36501830fd25288209b9374d875ddde6"><strong>[orm] </strong></span>relations() now have greater ability to be &#8220;overridden&#8221;,
meaning a subclass that explicitly specifies a relation()
overriding that of the parent class will be honored
during a flush.  This is currently to support
many-to-many relations from concrete inheritance setups.
Outside of that use case, YMMV.<a class="changeset-link reference internal" href="#change-36501830fd25288209b9374d875ddde6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1477">#1477</a></p>
</p>
</li>
<li><p id="change-0.5.6-6"><span class="target" id="change-271faabb70c445bb48c86563489eabe9"><strong>[orm] </strong></span>Squeezed a few more unnecessary &#8220;lazy loads&#8221; out of
relation().  When a collection is mutated, many-to-one
backrefs on the other side will not fire off to load
the &#8220;old&#8221; value, unless &#8220;single_parent=True&#8221; is set.
A direct assignment of a many-to-one still loads
the &#8220;old&#8221; value in order to update backref collections
on that value, which may be present in the session
already, thus maintaining the 0.5 behavioral contract.<a class="changeset-link reference internal" href="#change-271faabb70c445bb48c86563489eabe9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1483">#1483</a></p>
</p>
</li>
<li><p id="change-0.5.6-7"><span class="target" id="change-b11ab392a8221aaae324a0b843f92436"><strong>[orm] </strong></span>Fixed bug whereby a load/refresh of joined table
inheritance attributes which were based on
column_property() or similar would fail to evaluate.<a class="changeset-link reference internal" href="#change-b11ab392a8221aaae324a0b843f92436">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1480">#1480</a></p>
</p>
</li>
<li><p id="change-0.5.6-8"><span class="target" id="change-0a60b4eab11c772d6c8d654d52bf3c4b"><strong>[orm] </strong></span>Improved support for MapperProperty objects overriding
that of an inherited mapper for non-concrete
inheritance setups - attribute extensions won&#8217;t randomly
collide with each other.<a class="changeset-link reference internal" href="#change-0a60b4eab11c772d6c8d654d52bf3c4b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1488">#1488</a></p>
</p>
</li>
<li><p id="change-0.5.6-9"><span class="target" id="change-0d4f1ab1ab6b39d352893b946e2af9d9"><strong>[orm] </strong></span>UPDATE and DELETE do not support ORDER BY, LIMIT, OFFSET,
etc. in standard SQL.  Query.update() and Query.delete()
now raise an exception if any of limit(), offset(),
order_by(), group_by(), or distinct() have been
called.<a class="changeset-link reference internal" href="#change-0d4f1ab1ab6b39d352893b946e2af9d9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1487">#1487</a></p>
</p>
</li>
<li><p id="change-0.5.6-10"><span class="target" id="change-cd80ef9fe6dc09fc2205346b05be66a4"><strong>[orm] </strong></span>Added AttributeExtension to sqlalchemy.orm.__all__<a class="changeset-link reference internal" href="#change-cd80ef9fe6dc09fc2205346b05be66a4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.6-11"><span class="target" id="change-ec7f05f44d5c54351798f563518bf6e5"><strong>[orm] </strong></span>Improved error message when query() is called with
a non-SQL /entity expression.<a class="changeset-link reference internal" href="#change-ec7f05f44d5c54351798f563518bf6e5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1476">#1476</a></p>
</p>
</li>
<li><p id="change-0.5.6-12"><span class="target" id="change-622cc5e00f4af851cab2ca4cdbe9816a"><strong>[orm] </strong></span>Using False or 0 as a polymorphic discriminator now
works on the base class as well as a subclass.<a class="changeset-link reference internal" href="#change-622cc5e00f4af851cab2ca4cdbe9816a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1440">#1440</a></p>
</p>
</li>
<li><p id="change-0.5.6-13"><span class="target" id="change-86add61f8d0b31f3db1dafe61599f9fd"><strong>[orm] </strong></span>Added enable_assertions(False) to Query which disables
the usual assertions for expected state - used
by Query subclasses to engineer custom state..  See
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/PreFilteredQuery">http://www.sqlalchemy.org/trac/wiki/UsageRecipes/PreFilteredQuery</a>
for an example.<a class="changeset-link reference internal" href="#change-86add61f8d0b31f3db1dafe61599f9fd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1424">#1424</a></p>
</p>
</li>
<li><p id="change-0.5.6-14"><span class="target" id="change-c18d700e059c8b6470b7052533741017"><strong>[orm] </strong></span>Fixed recursion issue which occured if a mapped object&#8217;s
<cite>__len__()</cite> or <cite>__nonzero__()</cite> method resulted in state
changes.<a class="changeset-link reference internal" href="#change-c18d700e059c8b6470b7052533741017">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1501">#1501</a></p>
</p>
</li>
<li><p id="change-0.5.6-15"><span class="target" id="change-492e04471392666b62e00c94cf43b82e"><strong>[orm] </strong></span>Fixed incorrect exception raise in
Weak/StrongIdentityMap.add()<a class="changeset-link reference internal" href="#change-492e04471392666b62e00c94cf43b82e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1506">#1506</a></p>
</p>
</li>
<li><p id="change-0.5.6-16"><span class="target" id="change-79f7955b6626dd510154f8e555b4f143"><strong>[orm] </strong></span>Fixed the error message for &#8220;could not find a FROM clause&#8221;
in query.join() which would fail to issue correctly
if the query was against a pure SQL construct.<a class="changeset-link reference internal" href="#change-79f7955b6626dd510154f8e555b4f143">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1522">#1522</a></p>
</p>
</li>
<li><p id="change-0.5.6-17"><span class="target" id="change-06567c7b80f2bf5f775fcdac8f4fb117"><strong>[orm] </strong></span>Fixed a somewhat hypothetical issue which would result
in the wrong primary key being calculated for a mapper
using the old polymorphic_union function - but this
is old stuff.<a class="changeset-link reference internal" href="#change-06567c7b80f2bf5f775fcdac8f4fb117">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1486">#1486</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.6-sql">
<h3>sql<a class="headerlink" href="#change-0.5.6-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.6-18"><span class="target" id="change-3a5e144720affd0b71e0cea44d85fa80"><strong>[sql] </strong></span>Fixed column.copy() to copy defaults and onupdates.<a class="changeset-link reference internal" href="#change-3a5e144720affd0b71e0cea44d85fa80">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1373">#1373</a></p>
</p>
</li>
<li><p id="change-0.5.6-19"><span class="target" id="change-99749b627af38a3ab394a246b4f50b4e"><strong>[sql] </strong></span>Fixed a bug in extract() introduced in 0.5.4 whereby
the string &#8220;field&#8221; argument was getting treated as a
ClauseElement, causing various errors within more
complex SQL transformations.<a class="changeset-link reference internal" href="#change-99749b627af38a3ab394a246b4f50b4e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.6-20"><span class="target" id="change-a2da94cbd3d65ae38ac60a995fca7496"><strong>[sql] </strong></span>Unary expressions such as DISTINCT propagate their
type handling to result sets, allowing conversions like
unicode and such to take place.<a class="changeset-link reference internal" href="#change-a2da94cbd3d65ae38ac60a995fca7496">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1420">#1420</a></p>
</p>
</li>
<li><p id="change-0.5.6-21"><span class="target" id="change-42423bddc5c58508e18ba4802e3cfd52"><strong>[sql] </strong></span>Fixed bug in Table and Column whereby passing empty
dict for &#8220;info&#8221; argument would raise an exception.<a class="changeset-link reference internal" href="#change-42423bddc5c58508e18ba4802e3cfd52">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1482">#1482</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.6-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.6-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.6-22"><span class="target" id="change-2cbd246043e6f11db78ec4d9bcf2b6cd"><strong>[oracle] </strong></span>Backported 0.6 fix for Oracle alias names not getting
truncated.<a class="changeset-link reference internal" href="#change-2cbd246043e6f11db78ec4d9bcf2b6cd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1309">#1309</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.6-misc">
<h3>misc<a class="headerlink" href="#change-0.5.6-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.6-23"><span class="target" id="change-4093be8cbdab495564f9ccc28298b34f"><strong>[ext] </strong></span>The collection proxies produced by associationproxy are now
pickleable.  A user-defined proxy_factory however
is still not pickleable unless it defines __getstate__
and __setstate__.<a class="changeset-link reference internal" href="#change-4093be8cbdab495564f9ccc28298b34f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1446">#1446</a></p>
</p>
</li>
<li><p id="change-0.5.6-24"><span class="target" id="change-fda92ddefb6831ca7c8303d4489d964a"><strong>[ext] </strong></span>Declarative will raise an informative exception if
__table_args__ is passed as a tuple with no dict argument.
Improved documentation.<a class="changeset-link reference internal" href="#change-fda92ddefb6831ca7c8303d4489d964a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1468">#1468</a></p>
</p>
</li>
<li><p id="change-0.5.6-25"><span class="target" id="change-8fc95671d45876214d8e04f575f2981b"><strong>[ext] </strong></span>Table objects declared in the MetaData can now be used
in string expressions sent to primaryjoin/secondaryjoin/
secondary - the name is pulled from the MetaData of the
declarative base.<a class="changeset-link reference internal" href="#change-8fc95671d45876214d8e04f575f2981b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1527">#1527</a></p>
</p>
</li>
<li><p id="change-0.5.6-26"><span class="target" id="change-d11b075fc91fd14dae4a242abd35198a"><strong>[ext] </strong></span>A column can be added to a joined-table subclass after
the class has been constructed (i.e. via class-level
attribute assignment).  The column is added to the underlying
Table as always, but now the mapper will rebuild its
&#8220;join&#8221; to include the new column, instead of raising
an error about &#8220;no such column, use column_property()
instead&#8221;.<a class="changeset-link reference internal" href="#change-d11b075fc91fd14dae4a242abd35198a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1523">#1523</a></p>
</p>
</li>
<li><p id="change-0.5.6-27"><span class="target" id="change-94585ae176a1f269e4d1db5e4819e921"><strong>[test] </strong></span>Added examples into the test suite so they get exercised
regularly and cleaned up a couple deprecation warnings.<a class="changeset-link reference internal" href="#change-94585ae176a1f269e4d1db5e4819e921">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.5">
<h2>0.5.5<a class="headerlink" href="#change-0.5.5" title="Permalink to this headline">¶</a></h2>
Released: Mon Jul 13 2009<div class="section" id="change-0.5.5-general">
<h3>general<a class="headerlink" href="#change-0.5.5-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.5-0"><span class="target" id="change-b291919579ac2922c1861f30d9c48534"><strong>[general] </strong></span>unit tests have been migrated from unittest to nose.  See
README.unittests for information on how to run the tests.<a class="changeset-link reference internal" href="#change-b291919579ac2922c1861f30d9c48534">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/970">#970</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.5-orm">
<h3>orm<a class="headerlink" href="#change-0.5.5-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.5-1"><span class="target" id="change-4e7cee15f685dfecf68097230f6e27be"><strong>[orm] </strong></span>The &#8220;foreign_keys&#8221; argument of relation() will now propagate
automatically to the backref in the same way that primaryjoin
and secondaryjoin do.  For the extremely rare use case where
the backref of a relation() has intentionally different
&#8220;foreign_keys&#8221; configured, both sides now need to be
configured explicity (if they do in fact require this setting,
see the next note...).<a class="changeset-link reference internal" href="#change-4e7cee15f685dfecf68097230f6e27be">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-2"><span class="target" id="change-24fc47177d47aae7dc806a78788115f0"><strong>[orm] </strong></span>...the only known (and really, really rare) use case where a
different foreign_keys setting was used on the
forwards/backwards side, a composite foreign key that
partially points to its own columns, has been enhanced such
that the fk-&gt;itself aspect of the relation won&#8217;t be used to
determine relation direction.<a class="changeset-link reference internal" href="#change-24fc47177d47aae7dc806a78788115f0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-3"><span class="target" id="change-5ec7b4a36de5fda6af191af1682064eb"><strong>[orm] </strong></span>Session.mapper is now <em>deprecated</em>.<p>Call session.add() if you&#8217;d like a free-standing object to be
part of your session.  Otherwise, a DIY version of
Session.mapper is now documented at
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper">http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper</a>
The method will remain deprecated throughout 0.6.</p>
<a class="changeset-link reference internal" href="#change-5ec7b4a36de5fda6af191af1682064eb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-4"><span class="target" id="change-17862f643537dcbc4df0471a4553a0bd"><strong>[orm] </strong></span>Fixed Query being able to join() from individual columns of a
joined-table subclass entity, i.e.  query(SubClass.foo,
SubcClass.bar).join(&lt;anything&gt;).  In most cases, an error
&#8220;Could not find a FROM clause to join from&#8221; would be
raised. In a few others, the result would be returned in terms
of the base class rather than the subclass - so applications
which relied on this erroneous result need to be
adjusted.<a class="changeset-link reference internal" href="#change-17862f643537dcbc4df0471a4553a0bd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1431">#1431</a></p>
</p>
</li>
<li><p id="change-0.5.5-5"><span class="target" id="change-45cab12e273914c4095fe6753eb613b7"><strong>[orm] </strong></span>Fixed a bug involving contains_eager(), which would apply
itself to a secondary (i.e. lazy) load in a particular rare
case, producing cartesian products.  improved the targeting of
query.options() on secondary loads overall.<a class="changeset-link reference internal" href="#change-45cab12e273914c4095fe6753eb613b7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1461">#1461</a></p>
</p>
</li>
<li><p id="change-0.5.5-6"><span class="target" id="change-103ff88cc328345956bf43128d6228a2"><strong>[orm] </strong></span>Fixed bug introduced in 0.5.4 whereby Composite types fail
when default-holding columns are flushed.<a class="changeset-link reference internal" href="#change-103ff88cc328345956bf43128d6228a2">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-7"><span class="target" id="change-a4bd6f267de2ee8961aca6a80454335c"><strong>[orm] </strong></span>Fixed another 0.5.4 bug whereby mutable attributes
(i.e. PickleType) wouldn&#8217;t be deserialized correctly when the
whole object was serialized.<a class="changeset-link reference internal" href="#change-a4bd6f267de2ee8961aca6a80454335c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1426">#1426</a></p>
</p>
</li>
<li><p id="change-0.5.5-8"><span class="target" id="change-9786df0adacfa866cdc2f8a7e8ef1ba4"><strong>[orm] </strong></span>Fixed bug whereby session.is_modified() would raise an
exception if any synonyms were in use.<a class="changeset-link reference internal" href="#change-9786df0adacfa866cdc2f8a7e8ef1ba4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-9"><span class="target" id="change-41602c4224b47194b140b47ade7dc16f"><strong>[orm] </strong></span>Fixed potential memory leak whereby previously pickled objects
placed back in a session would not be fully garbage collected
unless the Session were explicitly closed out.<a class="changeset-link reference internal" href="#change-41602c4224b47194b140b47ade7dc16f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-10"><span class="target" id="change-c44cbe8c9a172ffd50841eca0f7e0e4b"><strong>[orm] </strong></span>Fixed bug whereby list-based attributes, like pickletype and
PGArray, failed to be merged() properly.<a class="changeset-link reference internal" href="#change-c44cbe8c9a172ffd50841eca0f7e0e4b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-11"><span class="target" id="change-fddc914c8b585115272b6107670f7d9a"><strong>[orm] </strong></span>Repaired non-working attributes.set_committed_value function.<a class="changeset-link reference internal" href="#change-fddc914c8b585115272b6107670f7d9a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-12"><span class="target" id="change-38276e4fa1687abecb695e85c17bf6c0"><strong>[orm] </strong></span>Trimmed the pickle format for InstanceState which should
further reduce the memory footprint of pickled instances.  The
format should be backwards compatible with that of 0.5.4 and
previous.<a class="changeset-link reference internal" href="#change-38276e4fa1687abecb695e85c17bf6c0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.5-13"><span class="target" id="change-938ee7f755114d272d61da8161799836"><strong>[orm] </strong></span>sqlalchemy.orm.join and sqlalchemy.orm.outerjoin are now
added to __all__ in sqlalchemy.orm.*.<a class="changeset-link reference internal" href="#change-938ee7f755114d272d61da8161799836">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1463">#1463</a></p>
</p>
</li>
<li><p id="change-0.5.5-14"><span class="target" id="change-e4350e9ef86688cbc129c52b3135c7af"><strong>[orm] </strong></span>Fixed bug where Query exception raise would fail when
a too-short composite primary key value were passed to
get().<a class="changeset-link reference internal" href="#change-e4350e9ef86688cbc129c52b3135c7af">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1458">#1458</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.5-sql">
<h3>sql<a class="headerlink" href="#change-0.5.5-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.5-15"><span class="target" id="change-b94ba806169e988459d7239aad691687"><strong>[sql] </strong></span>Removed an obscure feature of execute() (including connection,
engine, Session) whereby a bindparam() construct can be sent
as a key to the params dictionary.  This usage is undocumented
and is at the core of an issue whereby the bindparam() object
created implicitly by a text() construct may have the same
hash value as a string placed in the params dictionary and may
result in an inappropriate match when computing the final bind
parameters.  Internal checks for this condition would add
significant latency to the critical task of parameter
rendering, so the behavior is removed.  This is a backwards
incompatible change for any application that may have been
using this feature, however the feature has never been
documented.<a class="changeset-link reference internal" href="#change-b94ba806169e988459d7239aad691687">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.5-misc">
<h3>misc<a class="headerlink" href="#change-0.5.5-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.5-16"><span class="target" id="change-8d79519ee7c9700dfa29d6abe4cdc84f"><strong>[engine/pool] </strong></span>Implemented recreate() for StaticPool.<a class="changeset-link reference internal" href="#change-8d79519ee7c9700dfa29d6abe4cdc84f">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.4p2">
<h2>0.5.4p2<a class="headerlink" href="#change-0.5.4p2" title="Permalink to this headline">¶</a></h2>
Released: Tue May 26 2009<div class="section" id="change-0.5.4p2-sql">
<h3>sql<a class="headerlink" href="#change-0.5.4p2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4p2-0"><span class="target" id="change-62b7b5ea2627c1a58405b73e6485a68a"><strong>[sql] </strong></span>Repaired the printing of SQL exceptions which are not
based on parameters or are not executemany() style.<a class="changeset-link reference internal" href="#change-62b7b5ea2627c1a58405b73e6485a68a">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4p2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.5.4p2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4p2-1"><span class="target" id="change-bb7bb4c34e0e00220dd3155755cebe15"><strong>[postgresql] </strong></span>Deprecated the hardcoded TIMESTAMP function, which when
used as func.TIMESTAMP(value) would render &#8220;TIMESTAMP value&#8221;.
This breaks on some platforms as PostgreSQL doesn&#8217;t allow
bind parameters to be used in this context.  The hard-coded
uppercase is also inappropriate and there&#8217;s lots of other
PG casts that we&#8217;d need to support.  So instead, use
text constructs i.e. select([&#8220;timestamp &#8216;12/05/09&#8217;&#8221;]).<a class="changeset-link reference internal" href="#change-bb7bb4c34e0e00220dd3155755cebe15">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.4p1">
<h2>0.5.4p1<a class="headerlink" href="#change-0.5.4p1" title="Permalink to this headline">¶</a></h2>
Released: Mon May 18 2009<div class="section" id="change-0.5.4p1-orm">
<h3>orm<a class="headerlink" href="#change-0.5.4p1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4p1-0"><span class="target" id="change-fe8595c476f4a3e16ce1856812832d7c"><strong>[orm] </strong></span>Fixed an attribute error introduced in 0.5.4 which would
occur when merge() was used with an incomplete object.<a class="changeset-link reference internal" href="#change-fe8595c476f4a3e16ce1856812832d7c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.4">
<h2>0.5.4<a class="headerlink" href="#change-0.5.4" title="Permalink to this headline">¶</a></h2>
Released: Sun May 17 2009<div class="section" id="change-0.5.4-orm">
<h3>orm<a class="headerlink" href="#change-0.5.4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-0"><span class="target" id="change-8c507593c28a9c706a8b28b9bb6a4906"><strong>[orm] </strong></span>Significant performance enhancements regarding Sessions/flush()
in conjunction with large mapper graphs, large numbers of
objects:<ul>
<li>Removed all* O(N) scanning behavior from the flush() process,
i.e. operations that were scanning the full session,
including an extremely expensive one that was erroneously
assuming primary key values were changing when this
was not the case.<ul>
<li>one edge case remains which may invoke a full scan,
if an existing primary key attribute is modified
to a new value.</li>
</ul>
</li>
<li>The Session&#8217;s &#8220;weak referencing&#8221; behavior is now <em>full</em> -
no strong references whatsoever are made to a mapped object
or related items/collections in its __dict__.  Backrefs and
other cycles in objects no longer affect the Session&#8217;s ability
to lose all references to unmodified objects.  Objects with
pending changes still are maintained strongly until flush.<p>The implementation also improves performance by moving
the &#8220;resurrection&#8221; process of garbage collected items
to only be relevant for mappings that map &#8220;mutable&#8221;
attributes (i.e. PickleType, composite attrs).  This removes
overhead from the gc process and simplifies internal
behavior.</p>
<p>If a &#8220;mutable&#8221; attribute change is the sole change on an object
which is then dereferenced, the mapper will not have access to
other attribute state when the UPDATE is issued.  This may present
itself differently to some MapperExtensions.</p>
<p>The change also affects the internal attribute API, but not
the AttributeExtension interface nor any of the publically
documented attribute functions.</p>
</li>
<li>The unit of work no longer genererates a graph of &#8220;dependency&#8221;
processors for the full graph of mappers during flush(), instead
creating such processors only for those mappers which represent
objects with pending changes.  This saves a tremendous number
of method calls in the context of a large interconnected
graph of mappers.</li>
<li>Cached a wasteful &#8220;table sort&#8221; operation that previously
occured multiple times per flush, also removing significant
method call count from flush().</li>
<li>Other redundant behaviors have been simplified in
mapper._save_obj().</li>
</ul>
<a class="changeset-link reference internal" href="#change-8c507593c28a9c706a8b28b9bb6a4906">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1398">#1398</a></p>
</p>
</li>
<li><p id="change-0.5.4-1"><span class="target" id="change-02d1af2be8f7649b6004f9e563fc9e85"><strong>[orm] </strong></span>Modified query_cls on DynamicAttributeImpl to accept a full
mixin version of the AppenderQuery, which allows subclassing
the AppenderMixin.<a class="changeset-link reference internal" href="#change-02d1af2be8f7649b6004f9e563fc9e85">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-2"><span class="target" id="change-9afb5ea823566aaac340ca1fdcd9d108"><strong>[orm] </strong></span>The &#8220;polymorphic discriminator&#8221; column may be part of a
primary key, and it will be populated with the correct
discriminator value.<a class="changeset-link reference internal" href="#change-9afb5ea823566aaac340ca1fdcd9d108">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1300">#1300</a></p>
</p>
</li>
<li><p id="change-0.5.4-3"><span class="target" id="change-765bf6633bf8d6d51c59b3bf1dc71045"><strong>[orm] </strong></span>Fixed the evaluator not being able to evaluate IS NULL clauses.<a class="changeset-link reference internal" href="#change-765bf6633bf8d6d51c59b3bf1dc71045">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-4"><span class="target" id="change-33e14ebeceaa52fab11e805acf5eb04e"><strong>[orm] </strong></span>Fixed the &#8220;set collection&#8221; function on &#8220;dynamic&#8221; relations to
initiate events correctly.  Previously a collection could only
be assigned to a pending parent instance, otherwise modified
events would not be fired correctly.  Set collection is now
compatible with merge(), fixes.<a class="changeset-link reference internal" href="#change-33e14ebeceaa52fab11e805acf5eb04e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1352">#1352</a></p>
</p>
</li>
<li><p id="change-0.5.4-5"><span class="target" id="change-0f4934965e99f59451b514175a5478a7"><strong>[orm] </strong></span>Allowed pickling of PropertyOption objects constructed with
instrumented descriptors; previously, pickle errors would occur
when pickling an object which was loaded with a descriptor-based
option, such as query.options(eagerload(MyClass.foo)).<a class="changeset-link reference internal" href="#change-0f4934965e99f59451b514175a5478a7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-6"><span class="target" id="change-08b2a4944a9b24faa36cfd730f464541"><strong>[orm] </strong></span>Lazy loader will not use get() if the &#8220;lazy load&#8221; SQL clause
matches the clause used by get(), but contains some parameters
hardcoded.  Previously the lazy strategy would fail with the
get().  Ideally get() would be used with the hardcoded
parameters but this would require further development.<a class="changeset-link reference internal" href="#change-08b2a4944a9b24faa36cfd730f464541">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1357">#1357</a></p>
</p>
</li>
<li><p id="change-0.5.4-7"><span class="target" id="change-ede32bc8bf8a18fb1c656d4d0d19c2de"><strong>[orm] </strong></span>MapperOptions and other state associated with query.options()
is no longer bundled within callables associated with each
lazy/deferred-loading attribute during a load.
The options are now associated with the instance&#8217;s
state object just once when it&#8217;s populated.  This removes
the need in most cases for per-instance/attribute loader
objects, improving load speed and memory overhead for
individual instances.<a class="changeset-link reference internal" href="#change-ede32bc8bf8a18fb1c656d4d0d19c2de">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1391">#1391</a></p>
</p>
</li>
<li><p id="change-0.5.4-8"><span class="target" id="change-68a6b0a8471cb14cc06532a4b3ee39ec"><strong>[orm] </strong></span>Fixed another location where autoflush was interfering
with session.merge().  autoflush is disabled completely
for the duration of merge() now.<a class="changeset-link reference internal" href="#change-68a6b0a8471cb14cc06532a4b3ee39ec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1360">#1360</a></p>
</p>
</li>
<li><p id="change-0.5.4-9"><span class="target" id="change-c143a7896b6a700568186ae4cdd28302"><strong>[orm] </strong></span>Fixed bug which prevented &#8220;mutable primary key&#8221; dependency
logic from functioning properly on a one-to-one
relation().<a class="changeset-link reference internal" href="#change-c143a7896b6a700568186ae4cdd28302">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1406">#1406</a></p>
</p>
</li>
<li><p id="change-0.5.4-10"><span class="target" id="change-a29f9754bc238d3a72cda15f442d153b"><strong>[orm] </strong></span>Fixed bug in relation(), introduced in 0.5.3,
whereby a self referential relation
from a base class to a joined-table subclass would
not configure correctly.<a class="changeset-link reference internal" href="#change-a29f9754bc238d3a72cda15f442d153b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-11"><span class="target" id="change-b92b0b122859758ffdb16e6c35539077"><strong>[orm] </strong></span>Fixed obscure mapper compilation issue when inheriting
mappers are used which would result in un-initialized
attributes.<a class="changeset-link reference internal" href="#change-b92b0b122859758ffdb16e6c35539077">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-12"><span class="target" id="change-fa6a44199fecae4da34ff430bf581a4c"><strong>[orm] </strong></span>Fixed documentation for session weak_identity_map -
the default value is True, indicating a weak
referencing map in use.<a class="changeset-link reference internal" href="#change-fa6a44199fecae4da34ff430bf581a4c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-13"><span class="target" id="change-8e34b36b4b2a7c1908d3d1f8d9dc789f"><strong>[orm] </strong></span>Fixed a unit of work issue whereby the foreign
key attribute on an item contained within a collection
owned by an object being deleted would not be set to
None if the relation() was self-referential.<a class="changeset-link reference internal" href="#change-8e34b36b4b2a7c1908d3d1f8d9dc789f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1376">#1376</a></p>
</p>
</li>
<li><p id="change-0.5.4-14"><span class="target" id="change-98f3b9a092c02fbbc7ad6057d90ff7b9"><strong>[orm] </strong></span>Fixed Query.update() and Query.delete() failures with eagerloaded
relations.<a class="changeset-link reference internal" href="#change-98f3b9a092c02fbbc7ad6057d90ff7b9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1378">#1378</a></p>
</p>
</li>
<li><p id="change-0.5.4-15"><span class="target" id="change-dc9f22bb714dcf5a5310cb3c1a45ec33"><strong>[orm] </strong></span>It is now an error to specify both columns of a binary primaryjoin
condition in the foreign_keys or remote_side collection.  Whereas
previously it was just nonsensical, but would succeed in a
non-deterministic way.<a class="changeset-link reference internal" href="#change-dc9f22bb714dcf5a5310cb3c1a45ec33">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-sql">
<h3>sql<a class="headerlink" href="#change-0.5.4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-16"><span class="target" id="change-89258126655ed4679dfaa9df772ac8ba"><strong>[sql] </strong></span>Back-ported the &#8220;compiler&#8221; extension from SQLA 0.6.  This
is a standardized interface which allows the creation of custom
ClauseElement subclasses and compilers.  In particular it&#8217;s
handy as an alternative to text() when you&#8217;d like to
build a construct that has database-specific compilations.
See the extension docs for details.<a class="changeset-link reference internal" href="#change-89258126655ed4679dfaa9df772ac8ba">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-17"><span class="target" id="change-6a264288f4c28d189d06b156158f75f9"><strong>[sql] </strong></span>Exception messages are truncated when the list of bound
parameters is larger than 10, preventing enormous
multi-page exceptions from filling up screens and logfiles
for large executemany() statements.<a class="changeset-link reference internal" href="#change-6a264288f4c28d189d06b156158f75f9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1413">#1413</a></p>
</p>
</li>
<li><p id="change-0.5.4-18"><span class="target" id="change-01d31f576dc5491eb4674d5a24c5dd32"><strong>[sql] </strong></span><tt class="docutils literal"><span class="pre">sqlalchemy.extract()</span></tt> is now dialect sensitive and can
extract components of timestamps idiomatically across the
supported databases, including SQLite.<a class="changeset-link reference internal" href="#change-01d31f576dc5491eb4674d5a24c5dd32">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-19"><span class="target" id="change-898794cdf1dd9645bd1fd9efac46a7f0"><strong>[sql] </strong></span>Fixed __repr__() and other _get_colspec() methods on
ForeignKey constructed from __clause_element__() style
construct (i.e. declarative columns).<a class="changeset-link reference internal" href="#change-898794cdf1dd9645bd1fd9efac46a7f0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1353">#1353</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-schema">
<h3>schema<a class="headerlink" href="#change-0.5.4-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-20"><span class="target" id="change-794d23381cdd544ab4c3b79eab6cac16"><strong>[schema] [1341] [ticket: 594] </strong></span>Added a quote_schema() method to the IdentifierPreparer class
so that dialects can override how schemas get handled. This
enables the MSSQL dialect to treat schemas as multipart
identifiers, such as &#8216;database.owner&#8217;.<a class="changeset-link reference internal" href="#change-794d23381cdd544ab4c3b79eab6cac16">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.4-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-21"><span class="target" id="change-e9757b5037798376d36b7052c50712f6"><strong>[mysql] </strong></span>Reflecting a FOREIGN KEY construct will take into account
a dotted schema.tablename combination, if the foreign key
references a table in a remote schema.<a class="changeset-link reference internal" href="#change-e9757b5037798376d36b7052c50712f6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1405">#1405</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.4-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-22"><span class="target" id="change-4450dd533e773dd96f7a084af9a2a7ca"><strong>[sqlite] </strong></span>Corrected the SLBoolean type so that it properly treats only 1
as True.<a class="changeset-link reference internal" href="#change-4450dd533e773dd96f7a084af9a2a7ca">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1402">#1402</a></p>
</p>
</li>
<li><p id="change-0.5.4-23"><span class="target" id="change-7cd77e4e92c89a03ee8a6bd01ea65288"><strong>[sqlite] </strong></span>Corrected the float type so that it correctly maps to a
SLFloat type when being reflected.<a class="changeset-link reference internal" href="#change-7cd77e4e92c89a03ee8a6bd01ea65288">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1273">#1273</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-24"><span class="target" id="change-34b2f02d462e1dad2f952dfca3b176d2"><strong>[mssql] </strong></span>Modified how savepoint logic works to prevent it from
stepping on non-savepoint oriented routines. Savepoint
support is still very experimental.<a class="changeset-link reference internal" href="#change-34b2f02d462e1dad2f952dfca3b176d2">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.4-25"><span class="target" id="change-2dfd6cf98bed7b00fa27c24db33e98ef"><strong>[mssql] </strong></span>Added in reserved words for MSSQL that covers version 2008
and all prior versions.<a class="changeset-link reference internal" href="#change-2dfd6cf98bed7b00fa27c24db33e98ef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1310">#1310</a></p>
</p>
</li>
<li><p id="change-0.5.4-26"><span class="target" id="change-a58e32c6e4a30bcfc4a03e4bb2997895"><strong>[mssql] </strong></span>Corrected problem with information schema not working with a
binary collation based database. Cleaned up information schema
since it is only used by mssql now.<a class="changeset-link reference internal" href="#change-a58e32c6e4a30bcfc4a03e4bb2997895">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1343">#1343</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.4-misc">
<h3>misc<a class="headerlink" href="#change-0.5.4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.4-27"><span class="target" id="change-6142a6736e533364992dc02fc1bd2905"><strong>[extensions] </strong></span>Fixed adding of deferred or other column properties to a
declarative class.<a class="changeset-link reference internal" href="#change-6142a6736e533364992dc02fc1bd2905">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1379">#1379</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.3">
<h2>0.5.3<a class="headerlink" href="#change-0.5.3" title="Permalink to this headline">¶</a></h2>
Released: Tue Mar 24 2009<div class="section" id="change-0.5.3-orm">
<h3>orm<a class="headerlink" href="#change-0.5.3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-0"><span class="target" id="change-db1d72103852cfcb972a2119cd1e8100"><strong>[orm] </strong></span>The &#8220;objects&#8221; argument to session.flush() is deprecated.
State which represents the linkage between a parent and
child object does not support &#8220;flushed&#8221; status on
one side of the link and not the other, so supporting
this operation leads to misleading results.<a class="changeset-link reference internal" href="#change-db1d72103852cfcb972a2119cd1e8100">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1315">#1315</a></p>
</p>
</li>
<li><p id="change-0.5.3-1"><span class="target" id="change-e7587d306012f7b240f0e8d0b47973bd"><strong>[orm] </strong></span>Query now implements __clause_element__() which produces
its selectable, which means a Query instance can be accepted
in many SQL expressions, including col.in_(query),
union(query1, query2), select([foo]).select_from(query),
etc.<a class="changeset-link reference internal" href="#change-e7587d306012f7b240f0e8d0b47973bd">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-2"><span class="target" id="change-1ea1a46ef46bddd4113e372777bbdd7b"><strong>[orm] </strong></span>Query.join() can now construct multiple FROM clauses, if
needed.  Such as, query(A, B).join(A.x).join(B.y)
might say SELECT A.*, B.* FROM A JOIN X, B JOIN Y.
Eager loading can also tack its joins onto those
multiple FROM clauses.<a class="changeset-link reference internal" href="#change-1ea1a46ef46bddd4113e372777bbdd7b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1337">#1337</a></p>
</p>
</li>
<li><p id="change-0.5.3-3"><span class="target" id="change-87e7bf3e238b44f6f2d0b81211ee2d90"><strong>[orm] </strong></span>Fixed bug in dynamic_loader() where append/remove events
after construction time were not being propagated to the
UOW to pick up on flush().<a class="changeset-link reference internal" href="#change-87e7bf3e238b44f6f2d0b81211ee2d90">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1347">#1347</a></p>
</p>
</li>
<li><p id="change-0.5.3-4"><span class="target" id="change-ee1b0cf4caa20be816da0374ad4e7fe9"><strong>[orm] </strong></span>Fixed bug where column_prefix wasn&#8217;t being checked before
not mapping an attribute that already had class-level
name present.<a class="changeset-link reference internal" href="#change-ee1b0cf4caa20be816da0374ad4e7fe9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-5"><span class="target" id="change-442895d66bb3ffff66fa2aaa04e5a00f"><strong>[orm] </strong></span>a session.expire() on a particular collection attribute
will clear any pending backref additions as well, so that
the next access correctly returns only what was present
in the database.  Presents some degree of a workaround for, although we are considering removing the
flush([objects]) feature altogether.<a class="changeset-link reference internal" href="#change-442895d66bb3ffff66fa2aaa04e5a00f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1315">#1315</a></p>
</p>
</li>
<li><p id="change-0.5.3-6"><span class="target" id="change-e39483da4bef1d4c9c7a2563d9fd396f"><strong>[orm] </strong></span>Session.scalar() now converts raw SQL strings to text()
the same way Session.execute() does and accepts same
alternative <a href="#id1"><span class="problematic" id="id2">**</span></a>kw args.<a class="changeset-link reference internal" href="#change-e39483da4bef1d4c9c7a2563d9fd396f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-7"><span class="target" id="change-a502af23359ad8929b580406382ab22f"><strong>[orm] </strong></span>improvements to the &#8220;determine direction&#8221; logic of
relation() such that the direction of tricky situations
like mapper(A.join(B)) -&gt; relation-&gt; mapper(B) can be
determined.<a class="changeset-link reference internal" href="#change-a502af23359ad8929b580406382ab22f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-8"><span class="target" id="change-d959719a53bc430983e9bdfb60ed473c"><strong>[orm] </strong></span>When flushing partial sets of objects using session.flush([somelist]),
pending objects which remain pending after the operation won&#8217;t
inadvertently be added as persistent.<a class="changeset-link reference internal" href="#change-d959719a53bc430983e9bdfb60ed473c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1306">#1306</a></p>
</p>
</li>
<li><p id="change-0.5.3-9"><span class="target" id="change-1e7641278419404b4ccff781a8493eef"><strong>[orm] </strong></span>Added &#8220;post_configure_attribute&#8221; method to InstrumentationManager,
so that the &#8220;listen_for_events.py&#8221; example works again.<a class="changeset-link reference internal" href="#change-1e7641278419404b4ccff781a8493eef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1314">#1314</a></p>
</p>
</li>
<li><p id="change-0.5.3-10"><span class="target" id="change-1416ba36c9a6db7488347ac2f1836434"><strong>[orm] </strong></span>a forward and complementing backwards reference which are both
of the same direction, i.e. ONETOMANY or MANYTOONE,
is now detected, and an error message is raised.
Saves crazy CircularDependencyErrors later on.<a class="changeset-link reference internal" href="#change-1416ba36c9a6db7488347ac2f1836434">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-11"><span class="target" id="change-82634554436213406975972cc9a9185f"><strong>[orm] </strong></span>Fixed bugs in Query regarding simultaneous selection of
multiple joined-table inheritance entities with common base
classes:<ul>
<li>previously the adaption applied to &#8220;B&#8221; on
&#8220;A JOIN B&#8221; would be erroneously partially applied
to &#8220;A&#8221;.</li>
<li>comparisons on relations (i.e. A.related==someb)
were not getting adapted when they should.</li>
<li>Other filterings, like
query(A).join(A.bs).filter(B.foo==&#8217;bar&#8217;), were erroneously
adapting &#8220;B.foo&#8221; as though it were an &#8220;A&#8221;.</li>
</ul>
<a class="changeset-link reference internal" href="#change-82634554436213406975972cc9a9185f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-12"><span class="target" id="change-192d36e5463caf99edcc9d7d3b1d9ccc"><strong>[orm] </strong></span>Fixed adaptation of EXISTS clauses via any(), has(), etc.
in conjunction with an aliased object on the left and
of_type() on the right.<a class="changeset-link reference internal" href="#change-192d36e5463caf99edcc9d7d3b1d9ccc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1325">#1325</a></p>
</p>
</li>
<li><p id="change-0.5.3-13"><span class="target" id="change-2a46f035edea7feda9d9d6a572b6975f"><strong>[orm] </strong></span>Added an attribute helper method <tt class="docutils literal"><span class="pre">set_committed_value</span></tt> in
sqlalchemy.orm.attributes.  Given an object, attribute name,
and value, will set the value on the object as part of its
&#8220;committed&#8221; state, i.e. state that is understood to have
been loaded from the database.   Helps with the creation of
homegrown collection loaders and such.<a class="changeset-link reference internal" href="#change-2a46f035edea7feda9d9d6a572b6975f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-14"><span class="target" id="change-7dae2aa4d2d51b88a2c767d11a880027"><strong>[orm] </strong></span>Query won&#8217;t fail with weakref error when a non-mapper/class
instrumented descriptor is passed, raises
&#8220;Invalid column expession&#8221;.<a class="changeset-link reference internal" href="#change-7dae2aa4d2d51b88a2c767d11a880027">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-15"><span class="target" id="change-0d291e026106f5b96e459c08e07d64ef"><strong>[orm] </strong></span>Query.group_by() properly takes into account aliasing applied
to the FROM clause, such as with select_from(), using
with_polymorphic(), or using from_self().<a class="changeset-link reference internal" href="#change-0d291e026106f5b96e459c08e07d64ef">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.3-sql">
<h3>sql<a class="headerlink" href="#change-0.5.3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-16"><span class="target" id="change-f4c329ebf5d4f8d39ed26796f4776135"><strong>[sql] </strong></span>An alias() of a select() will convert to a &#8220;scalar subquery&#8221;
when used in an unambiguously scalar context, i.e. it&#8217;s used
in a comparison operation.  This applies to
the ORM when using query.subquery() as well.<a class="changeset-link reference internal" href="#change-f4c329ebf5d4f8d39ed26796f4776135">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-17"><span class="target" id="change-3a5a52f698452fd0c3775848413f0a4b"><strong>[sql] </strong></span>Fixed missing _label attribute on Function object, others
when used in a select() with use_labels (such as when used
in an ORM column_property()).<a class="changeset-link reference internal" href="#change-3a5a52f698452fd0c3775848413f0a4b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1302">#1302</a></p>
</p>
</li>
<li><p id="change-0.5.3-18"><span class="target" id="change-f925a1a1d2ef2848907b27d9344a9157"><strong>[sql] </strong></span>anonymous alias names now truncate down to the max length
allowed by the dialect.  More significant on DBs like
Oracle with very small character limits.<a class="changeset-link reference internal" href="#change-f925a1a1d2ef2848907b27d9344a9157">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1309">#1309</a></p>
</p>
</li>
<li><p id="change-0.5.3-19"><span class="target" id="change-add28ca90a6f17b7082c1f017ab736eb"><strong>[sql] </strong></span>the __selectable__() interface has been replaced entirely
by __clause_element__().<a class="changeset-link reference internal" href="#change-add28ca90a6f17b7082c1f017ab736eb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-20"><span class="target" id="change-c60dd590c50147430235f1343500fc91"><strong>[sql] </strong></span>The per-dialect cache used by TypeEngine to cache
dialect-specific types is now a WeakKeyDictionary.
This to prevent dialect objects from
being referenced forever for an application that
creates an arbitrarily large number of engines
or dialects.   There is a small performance penalty
which will be resolved in 0.6.<a class="changeset-link reference internal" href="#change-c60dd590c50147430235f1343500fc91">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1299">#1299</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.5.3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-21"><span class="target" id="change-dcbcca3e16a72bb4257afe818c178a07"><strong>[postgresql] </strong></span>Index reflection won&#8217;t fail when an index with
multiple expressions is encountered.<a class="changeset-link reference internal" href="#change-dcbcca3e16a72bb4257afe818c178a07">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-22"><span class="target" id="change-a08e9891d7c2750db9f6802c3d168768"><strong>[postgresql] </strong></span>Added PGUuid and PGBit types to
sqlalchemy.databases.postgres.<a class="changeset-link reference internal" href="#change-a08e9891d7c2750db9f6802c3d168768">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1327">#1327</a></p>
</p>
</li>
<li><p id="change-0.5.3-23"><span class="target" id="change-23ab1c01c10410310246fe16a0c49afe"><strong>[postgresql] </strong></span>Refection of unknown PG types won&#8217;t crash when those
types are specified within a domain.<a class="changeset-link reference internal" href="#change-23ab1c01c10410310246fe16a0c49afe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1327">#1327</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.3-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.3-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-24"><span class="target" id="change-bce03de137e528e4dc184cd2d6a2c750"><strong>[sqlite] </strong></span>Fixed SQLite reflection methods so that non-present
cursor.description, which triggers an auto-cursor
close, will be detected so that no results doesn&#8217;t
fail on recent versions of pysqlite which raise
an error when fetchone() called with no rows present.<a class="changeset-link reference internal" href="#change-bce03de137e528e4dc184cd2d6a2c750">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.3-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.3-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-25"><span class="target" id="change-3194055f787560d6f9ffd8ff886494d5"><strong>[mssql] </strong></span>Preliminary support for pymssql 1.0.1<a class="changeset-link reference internal" href="#change-3194055f787560d6f9ffd8ff886494d5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-26"><span class="target" id="change-deccb81a88d339fadb2c73679aa3bdb9"><strong>[mssql] </strong></span>Corrected issue on mssql where max_identifier_length was
not being respected.<a class="changeset-link reference internal" href="#change-deccb81a88d339fadb2c73679aa3bdb9">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.3-misc">
<h3>misc<a class="headerlink" href="#change-0.5.3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.3-27"><span class="target" id="change-d808456099666feebbfc2d6d0319c26f"><strong>[extensions] </strong></span>Fixed a recursive pickling issue in serializer, triggered
by an EXISTS or other embedded FROM construct.<a class="changeset-link reference internal" href="#change-d808456099666feebbfc2d6d0319c26f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-28"><span class="target" id="change-8ff5afad7258930672d81ad7e55e1cd4"><strong>[extensions] </strong></span>Declarative locates the &#8220;inherits&#8221; class using a search
through __bases__, to skip over mixins that are local
to subclasses.<a class="changeset-link reference internal" href="#change-8ff5afad7258930672d81ad7e55e1cd4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-29"><span class="target" id="change-5b4c354d7202eb0cead4c9fdac357c17"><strong>[extensions] </strong></span>Declarative figures out joined-table inheritance primary join
condition even if &#8220;inherits&#8221; mapper argument is given
explicitly.<a class="changeset-link reference internal" href="#change-5b4c354d7202eb0cead4c9fdac357c17">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-30"><span class="target" id="change-4c8e2bad941cf4481721c166b8fc630d"><strong>[extensions] </strong></span>Declarative will properly interpret the &#8220;foreign_keys&#8221; argument
on a backref() if it&#8217;s a string.<a class="changeset-link reference internal" href="#change-4c8e2bad941cf4481721c166b8fc630d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.3-31"><span class="target" id="change-3b8983c231c5a078b26bdd1615b26546"><strong>[extensions] </strong></span>Declarative will accept a table-bound column as a property
when used in conjunction with __table__, if the column is already
present in __table__.  The column will be remapped to the given
key the same way as when added to the mapper() properties dict.<a class="changeset-link reference internal" href="#change-3b8983c231c5a078b26bdd1615b26546">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.2">
<h2>0.5.2<a class="headerlink" href="#change-0.5.2" title="Permalink to this headline">¶</a></h2>
Released: Sat Jan 24 2009<div class="section" id="change-0.5.2-orm">
<h3>orm<a class="headerlink" href="#change-0.5.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.2-0"><span class="target" id="change-5cdc10aa381b945a9fb6df668bae7f5c"><strong>[orm] </strong></span>Further refined 0.5.1&#8217;s warning about delete-orphan cascade
placed on a many-to-many relation.   First, the bad news:
the warning will apply to both many-to-many as well as
many-to-one relations.  This is necessary since in both
cases, SQLA does not scan the full set of potential parents
when determining &#8220;orphan&#8221; status - for a persistent object
it only detects an in-python de-association event to establish
the object as an &#8220;orphan&#8221;.  Next, the good news: to support
one-to-one via a foreign key or assocation table, or to
support one-to-many via an association table, a new flag
single_parent=True may be set which indicates objects
linked to the relation are only meant to have a single parent.
The relation will raise an error if multiple parent-association
events occur within Python.<a class="changeset-link reference internal" href="#change-5cdc10aa381b945a9fb6df668bae7f5c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.2-1"><span class="target" id="change-ac6a6c886cc28b8a4624799f3a67e800"><strong>[orm] </strong></span>Adjusted the attribute instrumentation change from 0.5.1 to
fully establish instrumentation for subclasses where the mapper
was created after the superclass had already been fully
instrumented.<a class="changeset-link reference internal" href="#change-ac6a6c886cc28b8a4624799f3a67e800">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1292">#1292</a></p>
</p>
</li>
<li><p id="change-0.5.2-2"><span class="target" id="change-252f8ac693af8a64d5cbaa517d732448"><strong>[orm] </strong></span>Fixed bug in delete-orphan cascade whereby two one-to-one
relations from two different parent classes to the same target
class would prematurely expunge the instance.<a class="changeset-link reference internal" href="#change-252f8ac693af8a64d5cbaa517d732448">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.2-3"><span class="target" id="change-e2b026833b662fec2ba7e60e9fd8dba1"><strong>[orm] </strong></span>Fixed an eager loading bug whereby self-referential eager
loading would prevent other eager loads, self referential or not,
from joining to the parent JOIN properly.  Thanks to Alex K
for creating a great test case.<a class="changeset-link reference internal" href="#change-e2b026833b662fec2ba7e60e9fd8dba1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.2-4"><span class="target" id="change-8feb07e7f3baa53af64fcf4a674c0511"><strong>[orm] </strong></span>session.expire() and related methods will not expire() unloaded
deferred attributes.  This prevents them from being needlessly
loaded when the instance is refreshed.<a class="changeset-link reference internal" href="#change-8feb07e7f3baa53af64fcf4a674c0511">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.2-5"><span class="target" id="change-03ac4ea79a651b4ca097f9c08aa6a490"><strong>[orm] </strong></span>query.join()/outerjoin() will now properly join an aliased()
construct to the existing left side, even if query.from_self()
or query.select_from(someselectable) has been called.<a class="changeset-link reference internal" href="#change-03ac4ea79a651b4ca097f9c08aa6a490">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1293">#1293</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.2-sql">
<h3>sql<a class="headerlink" href="#change-0.5.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.2-6"><span class="target" id="change-5e680aeeda4bbf301e587736a84ba9ed"><strong>[sql] </strong></span><dl class="docutils">
<dt>Further fixes to the &#8220;percent signs and spaces in column/table</dt>
<dd>names&#8221; functionality.</dd>
</dl>
<a class="changeset-link reference internal" href="#change-5e680aeeda4bbf301e587736a84ba9ed">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1284">#1284</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.2-7"><span class="target" id="change-0c390545c0b67d6ec4a1bc02bbd89894"><strong>[mssql] </strong></span>Restored convert_unicode handling. Results were being passed
on through without conversion.<a class="changeset-link reference internal" href="#change-0c390545c0b67d6ec4a1bc02bbd89894">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1291">#1291</a></p>
</p>
</li>
<li><p id="change-0.5.2-8"><span class="target" id="change-507536fb87345f67009c56fd2bf3b89c"><strong>[mssql] </strong></span>Really fixing the decimal handling this time..<a class="changeset-link reference internal" href="#change-507536fb87345f67009c56fd2bf3b89c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1282">#1282</a></p>
</p>
</li>
<li><p id="change-0.5.2-9"><span class="target" id="change-2db326e86e2e0155290796bca98be830"><strong>[mssql] [Ticket:1289] </strong></span>Modified table reflection code to use only kwargs when
constructing tables.<a class="changeset-link reference internal" href="#change-2db326e86e2e0155290796bca98be830">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.1">
<h2>0.5.1<a class="headerlink" href="#change-0.5.1" title="Permalink to this headline">¶</a></h2>
Released: Sat Jan 17 2009<div class="section" id="change-0.5.1-orm">
<h3>orm<a class="headerlink" href="#change-0.5.1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-0"><span class="target" id="change-5f7ebabe0cc040a9dfe4ff0e48f322df"><strong>[orm] </strong></span>Removed an internal join cache which could potentially leak
memory when issuing query.join() repeatedly to ad-hoc
selectables.<a class="changeset-link reference internal" href="#change-5f7ebabe0cc040a9dfe4ff0e48f322df">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-1"><span class="target" id="change-77cb4815db5b7492e88c260f9285a6d9"><strong>[orm] </strong></span>The &#8220;clear()&#8221;, &#8220;save()&#8221;, &#8220;update()&#8221;, &#8220;save_or_update()&#8221;
Session methods have been deprecated, replaced by
&#8220;expunge_all()&#8221; and &#8220;add()&#8221;.  &#8220;expunge_all()&#8221; has also
been added to ScopedSession.<a class="changeset-link reference internal" href="#change-77cb4815db5b7492e88c260f9285a6d9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-2"><span class="target" id="change-c83d9cf2b7e16bf5f23858a2629cdc3c"><strong>[orm] </strong></span>Modernized the &#8220;no mapped table&#8221; exception and added a more
explicit __table__/__tablename__ exception to declarative.<a class="changeset-link reference internal" href="#change-c83d9cf2b7e16bf5f23858a2629cdc3c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-3"><span class="target" id="change-69f3da8d1cbab03f36506ddf26ba16fe"><strong>[orm] </strong></span>Concrete inheriting mappers now instrument attributes which
are inherited from the superclass, but are not defined for
the concrete mapper itself, with an InstrumentedAttribute that
issues a descriptive error when accessed.<a class="changeset-link reference internal" href="#change-69f3da8d1cbab03f36506ddf26ba16fe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">#1237</a></p>
</p>
</li>
<li><p id="change-0.5.1-4"><span class="target" id="change-3a079ea5d41a22d7814b5d922e478025"><strong>[orm] </strong></span>Added a new <cite>relation()</cite> keyword <cite>back_populates</cite>. This
allows configuation of backreferences using explicit
relations. This is required when creating
bidirectional relations between a hierarchy of concrete
mappers and another class.<a class="changeset-link reference internal" href="#change-3a079ea5d41a22d7814b5d922e478025">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">#1237</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/781">#781</a></p>
</p>
</li>
<li><p id="change-0.5.1-5"><span class="target" id="change-9d5221a68f4c01b3524dfd39940a7643"><strong>[orm] </strong></span>Test coverage added for <cite>relation()</cite> objects specified on
concrete mappers.<a class="changeset-link reference internal" href="#change-9d5221a68f4c01b3524dfd39940a7643">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">#1237</a></p>
</p>
</li>
<li><p id="change-0.5.1-6"><span class="target" id="change-f7d09fa52c66733af926a77dcc6889b8"><strong>[orm] </strong></span>Query.from_self() as well as query.subquery() both disable
the rendering of eager joins inside the subquery produced.
The &#8220;disable all eager joins&#8221; feature is available publically
via a new query.enable_eagerloads() generative.<a class="changeset-link reference internal" href="#change-f7d09fa52c66733af926a77dcc6889b8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1276">#1276</a></p>
</p>
</li>
<li><p id="change-0.5.1-7"><span class="target" id="change-d84677c9459d45a1aa0c69a534f2dcf6"><strong>[orm] </strong></span>Added a rudimental series of set operations to Query that
receive Query objects as arguments, including union(),
union_all(), intersect(), except_(), insertsect_all(),
except_all().  See the API documentation for
Query.union() for examples.<a class="changeset-link reference internal" href="#change-d84677c9459d45a1aa0c69a534f2dcf6">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-8"><span class="target" id="change-a390ebca59496b69af528a1f6dcd1882"><strong>[orm] </strong></span>Fixed bug that prevented Query.join() and eagerloads from
attaching to a query that selected from a union or aliased union.<a class="changeset-link reference internal" href="#change-a390ebca59496b69af528a1f6dcd1882">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-9"><span class="target" id="change-4e519ca0bc4a46ef1572da0ad263a948"><strong>[orm] </strong></span>A short documentation example added for bidirectional
relations specified on concrete mappers.<a class="changeset-link reference internal" href="#change-4e519ca0bc4a46ef1572da0ad263a948">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">#1237</a></p>
</p>
</li>
<li><p id="change-0.5.1-10"><span class="target" id="change-d942c9f0feaf7f8fe8d86dd5f3846838"><strong>[orm] </strong></span>Mappers now instrument class attributes upon construction
with the final InstrumentedAttribute object which remains
persistent. The <cite>_CompileOnAttr</cite>/<cite>__getattribute__()</cite>
methodology has been removed. The net effect is that
Column-based mapped class attributes can now be used fully
at the class level without invoking a mapper compilation
operation, greatly simplifying typical usage patterns
within declarative.<a class="changeset-link reference internal" href="#change-d942c9f0feaf7f8fe8d86dd5f3846838">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1269">#1269</a></p>
</p>
</li>
<li><p id="change-0.5.1-11"><span class="target" id="change-416c9d23f7d9c487d7528a094d184204"><strong>[orm] </strong></span>ColumnProperty (and front-end helpers such as <tt class="docutils literal"><span class="pre">deferred</span></tt>) no
longer ignores unknown <a href="#id3"><span class="problematic" id="id4">**</span></a>keyword arguments.<a class="changeset-link reference internal" href="#change-416c9d23f7d9c487d7528a094d184204">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-12"><span class="target" id="change-1cae8adff596e0421b11143747cac92f"><strong>[orm] </strong></span>Fixed a bug with the unitofwork&#8217;s &#8220;row switch&#8221; mechanism,
i.e. the conversion of INSERT/DELETE into an UPDATE, when
combined with joined-table inheritance and an object
which contained no defined values for the child table where
an UPDATE with no SET clause would be rendered.<a class="changeset-link reference internal" href="#change-1cae8adff596e0421b11143747cac92f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-13"><span class="target" id="change-12c056541bc4fd04c59756c40cb8e530"><strong>[orm] </strong></span>Using delete-orphan on a many-to-many relation is deprecated.
This produces misleading or erroneous results since SQLA does
not retrieve the full list of &#8220;parents&#8221; for m2m.  To get delete-orphan
behavior with an m2m table, use an explcit association class
so that the individual association row is treated as a parent.<a class="changeset-link reference internal" href="#change-12c056541bc4fd04c59756c40cb8e530">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1281">#1281</a></p>
</p>
</li>
<li><p id="change-0.5.1-14"><span class="target" id="change-1bfde55510fa78321ebc2a86ed56639d"><strong>[orm] </strong></span>delete-orphan cascade always requires delete cascade.  Specifying
delete-orphan without delete now raises a deprecation warning.<a class="changeset-link reference internal" href="#change-1bfde55510fa78321ebc2a86ed56639d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1281">#1281</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.1-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.5.1-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-15"><span class="target" id="change-1576364825a1be661c97e91433441123"><strong>[declarative] [orm] </strong></span>Can now specify Column objects on subclasses which have no
table of their own (i.e. use single table inheritance).
The columns will be appended to the base table, but only
mapped by the subclass.<a class="changeset-link reference internal" href="#change-1576364825a1be661c97e91433441123">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-16"><span class="target" id="change-adcaa17526d45c7edf13c8a1451209c3"><strong>[declarative] [orm] </strong></span>For both joined and single inheriting subclasses, the subclass
will only map those columns which are already mapped on the
superclass and those explicit on the subclass.  Other
columns that are present on the <cite>Table</cite> will be excluded
from the mapping by default, which can be disabled
by passing a blank <cite>exclude_properties</cite> collection to the
<cite>__mapper_args__</cite>.  This is so that single-inheriting
classes which define their own columns are the only classes
to map those columns.   The effect is actually a more organized
mapping than you&#8217;d normally get with explicit <cite>mapper()</cite>
calls unless you set up the <cite>exclude_properties</cite> arguments
explicitly.<a class="changeset-link reference internal" href="#change-adcaa17526d45c7edf13c8a1451209c3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-17"><span class="target" id="change-5aa4c8c1650f1958b4b640fd1d5b28e8"><strong>[declarative] [orm] </strong></span>It&#8217;s an error to add new Column objects to a declarative class
that specified an existing table using __table__.<a class="changeset-link reference internal" href="#change-5aa4c8c1650f1958b4b640fd1d5b28e8">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.1-sql">
<h3>sql<a class="headerlink" href="#change-0.5.1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-18"><span class="target" id="change-f22d8d0a0f98407735a67c6d3dcc1181"><strong>[sql] </strong></span>Improved the methodology to handling percent signs in column
names from.  Added more tests.  MySQL and
PostgreSQL dialects still do not issue correct CREATE TABLE
statements for identifiers with percent signs in them.<a class="changeset-link reference internal" href="#change-f22d8d0a0f98407735a67c6d3dcc1181">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1256">#1256</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.1-schema">
<h3>schema<a class="headerlink" href="#change-0.5.1-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-19"><span class="target" id="change-2cbce9f8f05e9d65a6b86934e8c67a99"><strong>[schema] </strong></span>Index now accepts column-oriented InstrumentedAttributes
(i.e. column-based mapped class attributes) as column
arguments.<a class="changeset-link reference internal" href="#change-2cbce9f8f05e9d65a6b86934e8c67a99">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1214">#1214</a></p>
</p>
</li>
<li><p id="change-0.5.1-20"><span class="target" id="change-fd3c08eaa45b51c81fd0bd4406f196c7"><strong>[schema] </strong></span>Column with no name (as in declarative) won&#8217;t raise a
NoneType error when it&#8217;s string output is requsted
(such as in a stack trace).<a class="changeset-link reference internal" href="#change-fd3c08eaa45b51c81fd0bd4406f196c7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-21"><span class="target" id="change-a3dad3ae16e7410704efd7b0ac6e059f"><strong>[schema] </strong></span>Fixed bug when overriding a Column with a ForeignKey
on a reflected table, where derived columns (i.e. the
&#8220;virtual&#8221; columns of a select, etc.) would inadvertently
call upon schema-level cleanup logic intended only
for the original column.<a class="changeset-link reference internal" href="#change-a3dad3ae16e7410704efd7b0ac6e059f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1278">#1278</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-22"><span class="target" id="change-72b1b1a78ead597e7b1f225bc193c234"><strong>[mysql] </strong></span>Added the missing keywords from MySQL 4.1 so they get escaped
properly.<a class="changeset-link reference internal" href="#change-72b1b1a78ead597e7b1f225bc193c234">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.1-23"><span class="target" id="change-34cdd9f929bd0dca34a8aca677e572d2"><strong>[mssql] </strong></span>Corrected handling of large decimal values with more robust
tests. Removed string manipulation on floats.<a class="changeset-link reference internal" href="#change-34cdd9f929bd0dca34a8aca677e572d2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1280">#1280</a></p>
</p>
</li>
<li><p id="change-0.5.1-24"><span class="target" id="change-f6267ad5ec64ce02c5d649e0a9656e15"><strong>[mssql] </strong></span>Modified the do_begin handling in mssql to use the Cursor not
the Connection so it is DBAPI compatible.<a class="changeset-link reference internal" href="#change-f6267ad5ec64ce02c5d649e0a9656e15">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.1-25"><span class="target" id="change-50f4cc34e316267b64a62baad731764e"><strong>[mssql] </strong></span>Corrected SAVEPOINT support on adodbapi by changing the
handling of savepoint_release, which is unsupported on mssql.<a class="changeset-link reference internal" href="#change-50f4cc34e316267b64a62baad731764e">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0">
<h2>0.5.0<a class="headerlink" href="#change-0.5.0" title="Permalink to this headline">¶</a></h2>
Released: Tue Jan 06 2009<div class="section" id="change-0.5.0-general">
<h3>general<a class="headerlink" href="#change-0.5.0-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-0"><span class="target" id="change-eea66a331a882cd7bbab29da2a14aace"><strong>[general] </strong></span>Documentation has been converted to Sphinx.  In particular,
the generated API documentation has been constructed into a
full blown &#8220;API Reference&#8221; section which organizes editorial
documentation combined with generated docstrings.  Cross
linking between sections and API docs are vastly improved, a
javascript-powered search feature is provided, and a full
index of all classes, functions and members is provided.<a class="changeset-link reference internal" href="#change-eea66a331a882cd7bbab29da2a14aace">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-1"><span class="target" id="change-3a9d633de48ce51f826b6d7223742ad6"><strong>[general] </strong></span>setup.py now imports setuptools only optionally.  If not
present, distutils is used.  The new &#8220;pip&#8221; installer is
recommended over easy_install as it installs in a more
simplified way.<a class="changeset-link reference internal" href="#change-3a9d633de48ce51f826b6d7223742ad6">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-2"><span class="target" id="change-32af7159db8d14dc32feb73b2f845e43"><strong>[general] </strong></span>added an extremely basic illustration of a PostGIS integration
to the examples folder.<a class="changeset-link reference internal" href="#change-32af7159db8d14dc32feb73b2f845e43">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-3"><span class="target" id="change-b7910c83dd3b7784efb8dc7292ea337b"><strong>[orm] </strong></span>Query.with_polymorphic() now accepts a third argument
&#8220;discriminator&#8221; which will replace the value of
mapper.polymorphic_on for that query.  Mappers themselves no
longer require polymorphic_on to be set, even if the mapper
has a polymorphic_identity.  When not set, the mapper will
load non-polymorphically by default. Together, these two
features allow a non-polymorphic concrete inheritance setup to
use polymorphic loading on a per-query basis, since concrete
setups are prone to many issues when used polymorphically in
all cases.<a class="changeset-link reference internal" href="#change-b7910c83dd3b7784efb8dc7292ea337b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-4"><span class="target" id="change-e31793af1ffe0503ed92f4a18d66ec82"><strong>[orm] </strong></span>dynamic_loader accepts a query_class= to customize the Query
classes used for both the dynamic collection and the queries
built from it.<a class="changeset-link reference internal" href="#change-e31793af1ffe0503ed92f4a18d66ec82">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-5"><span class="target" id="change-06ef25b63d4278d910e873a167d4ce8a"><strong>[orm] </strong></span>query.order_by() accepts None which will remove any pending
order_by state from the query, as well as cancel out any
mapper/relation configured ordering. This is primarily useful
for overriding the ordering specified on a dynamic_loader().<a class="changeset-link reference internal" href="#change-06ef25b63d4278d910e873a167d4ce8a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1079">#1079</a></p>
</p>
</li>
<li><p id="change-0.5.0-6"><span class="target" id="change-02567c4d2f0747eb216a42367bcec8c7"><strong>[orm] </strong></span>Exceptions raised during compile_mappers() are now preserved
to provide &#8220;sticky behavior&#8221; - if a hasattr() call on a
pre-compiled mapped attribute triggers a failing compile and
suppresses the exception, subsequent compilation is blocked
and the exception will be reiterated on the next compile()
call.  This issue occurs frequently when using declarative.<a class="changeset-link reference internal" href="#change-02567c4d2f0747eb216a42367bcec8c7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-7"><span class="target" id="change-a84f7f35a63cff6eef0ed8514b84e187"><strong>[orm] </strong></span>property.of_type() is now recognized on a single-table
inheriting target, when used in the context of
prop.of_type(..).any()/has(), as well as
query.join(prop.of_type(...)).<a class="changeset-link reference internal" href="#change-a84f7f35a63cff6eef0ed8514b84e187">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-8"><span class="target" id="change-2440c5dcd446cdd0047720b5de4cffa5"><strong>[orm] </strong></span>query.join() raises an error when the target of the join
doesn&#8217;t match the property-based attribute - while it&#8217;s
unlikely anyone is doing this, the SQLAlchemy author was
guilty of this particular loosey-goosey behavior.<a class="changeset-link reference internal" href="#change-2440c5dcd446cdd0047720b5de4cffa5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-9"><span class="target" id="change-079005f18e95c701b36d4bbb9dbc1224"><strong>[orm] </strong></span>Fixed bug when using weak_instance_map=False where modified
events would not be intercepted for a flush().<a class="changeset-link reference internal" href="#change-079005f18e95c701b36d4bbb9dbc1224">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1272">#1272</a></p>
</p>
</li>
<li><p id="change-0.5.0-10"><span class="target" id="change-493f00822d5a6a6c58ff9b68a83154e9"><strong>[orm] </strong></span>Fixed some deep &#8220;column correspondence&#8221; issues which could
impact a Query made against a selectable containing multiple
versions of the same table, as well as unions and similar
which contained the same table columns in different column
positions at different levels.<a class="changeset-link reference internal" href="#change-493f00822d5a6a6c58ff9b68a83154e9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1268">#1268</a></p>
</p>
</li>
<li><p id="change-0.5.0-11"><span class="target" id="change-5fb674658bd173367fadd8284d26c377"><strong>[orm] </strong></span>Custom comparator classes used in conjunction with
column_property(), relation() etc. can define new comparison
methods on the Comparator, which will become available via
__getattr__() on the InstrumentedAttribute.  In the case of
synonym() or comparable_property(), attributes are resolved
first on the user-defined descriptor, then on the user-defined
comparator.<a class="changeset-link reference internal" href="#change-5fb674658bd173367fadd8284d26c377">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-12"><span class="target" id="change-6421b8358dfa43d30aa98dd6a905645a"><strong>[orm] </strong></span>Added ScopedSession.is_active accessor.<a class="changeset-link reference internal" href="#change-6421b8358dfa43d30aa98dd6a905645a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/976">#976</a></p>
</p>
</li>
<li><p id="change-0.5.0-13"><span class="target" id="change-aaabaeccae30500a5e174c86899db3d5"><strong>[orm] </strong></span>Can pass mapped attributes and column objects as keys to
query.update({}).<a class="changeset-link reference internal" href="#change-aaabaeccae30500a5e174c86899db3d5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1262">#1262</a></p>
</p>
</li>
<li><p id="change-0.5.0-14"><span class="target" id="change-2176eccd58bfc9b9738a8f634805d5bb"><strong>[orm] </strong></span>Mapped attributes passed to the values() of an expression
level insert() or update() will use the keys of the mapped
columns, not that of the mapped attribute.<a class="changeset-link reference internal" href="#change-2176eccd58bfc9b9738a8f634805d5bb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-15"><span class="target" id="change-4249b9419e01bc5e574864acd9dbd888"><strong>[orm] </strong></span>Corrected problem with Query.delete() and Query.update() not
working properly with bind parameters.<a class="changeset-link reference internal" href="#change-4249b9419e01bc5e574864acd9dbd888">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1242">#1242</a></p>
</p>
</li>
<li><p id="change-0.5.0-16"><span class="target" id="change-48951eb96c4072874e12e9ef16b39e5c"><strong>[orm] </strong></span>Query.select_from(), from_statement() ensure that the given
argument is a FromClause, or Text/Select/Union, respectively.<a class="changeset-link reference internal" href="#change-48951eb96c4072874e12e9ef16b39e5c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-17"><span class="target" id="change-5597bdb333fa372d5420afd158bd3093"><strong>[orm] </strong></span>Query() can be passed a &#8220;composite&#8221; attribute as a column
expression and it will be expanded.  Somewhat related to.<a class="changeset-link reference internal" href="#change-5597bdb333fa372d5420afd158bd3093">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1253">#1253</a></p>
</p>
</li>
<li><p id="change-0.5.0-18"><span class="target" id="change-d4125ce6dd00535ad9a7f23d71090246"><strong>[orm] </strong></span>Query() is a little more robust when passed various column
expressions such as strings, clauselists, text() constructs
(which may mean it just raises an error more nicely).<a class="changeset-link reference internal" href="#change-d4125ce6dd00535ad9a7f23d71090246">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-19"><span class="target" id="change-e33b3858481eec706f4b5413f82ce074"><strong>[orm] </strong></span>first() works as expected with Query.from_statement().<a class="changeset-link reference internal" href="#change-e33b3858481eec706f4b5413f82ce074">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-20"><span class="target" id="change-70b5b219f4a11d42cf210ae6ae0d83d3"><strong>[orm] </strong></span>Fixed bug introduced in 0.5rc4 involving eager loading not
functioning for properties which were added to a mapper
post-compile using add_property() or equivalent.<a class="changeset-link reference internal" href="#change-70b5b219f4a11d42cf210ae6ae0d83d3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-21"><span class="target" id="change-2ccb0c45c759877b42064d76bf99bcf7"><strong>[orm] </strong></span>Fixed bug where many-to-many relation() with viewonly=True
would not correctly reference the link between
secondary-&gt;remote.<a class="changeset-link reference internal" href="#change-2ccb0c45c759877b42064d76bf99bcf7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-22"><span class="target" id="change-1a61f53a8bf148ab3f8311330af61a4e"><strong>[orm] </strong></span>Duplicate items in a list-based collection will be maintained
when issuing INSERTs to a &#8220;secondary&#8221; table in a many-to-many
relation.  Assuming the m2m table has a unique or primary key
constraint on it, this will raise the expected constraint
violation instead of silently dropping the duplicate
entries. Note that the old behavior remains for a one-to-many
relation since collection entries in that case don&#8217;t result in
INSERT statements and SQLA doesn&#8217;t manually police
collections.<a class="changeset-link reference internal" href="#change-1a61f53a8bf148ab3f8311330af61a4e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1232">#1232</a></p>
</p>
</li>
<li><p id="change-0.5.0-23"><span class="target" id="change-446311bba6705a3c6633528ee49a0946"><strong>[orm] </strong></span>Query.add_column() can accept FromClause objects in the same
manner as session.query() can.<a class="changeset-link reference internal" href="#change-446311bba6705a3c6633528ee49a0946">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-24"><span class="target" id="change-aaa084b509a29822e580970c9ed27105"><strong>[orm] </strong></span>Comparison of many-to-one relation to NULL is properly
converted to IS NOT NULL based on not_().<a class="changeset-link reference internal" href="#change-aaa084b509a29822e580970c9ed27105">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-25"><span class="target" id="change-19b4a3d892b5556548dee40f3e860baf"><strong>[orm] </strong></span>Extra checks added to ensure explicit
primaryjoin/secondaryjoin are ClauseElement instances, to
prevent more confusing errors later on.<a class="changeset-link reference internal" href="#change-19b4a3d892b5556548dee40f3e860baf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1087">#1087</a></p>
</p>
</li>
<li><p id="change-0.5.0-26"><span class="target" id="change-e8d33d06a02c7657be959fbfa2fe38a6"><strong>[orm] </strong></span>Improved mapper() check for non-class classes.<a class="changeset-link reference internal" href="#change-e8d33d06a02c7657be959fbfa2fe38a6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1236">#1236</a></p>
</p>
</li>
<li><p id="change-0.5.0-27"><span class="target" id="change-e7e5aec7031582afa528f11773cbabef"><strong>[orm] </strong></span>comparator_factory argument is now documented and supported by
all MapperProperty types, including column_property(),
relation(), backref(), and synonym().<a class="changeset-link reference internal" href="#change-e7e5aec7031582afa528f11773cbabef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/5051">#5051</a></p>
</p>
</li>
<li><p id="change-0.5.0-28"><span class="target" id="change-d186907ddc6b3f823c7b0bc6fb4d8b02"><strong>[orm] </strong></span>Changed the name of PropertyLoader to RelationProperty, to be
consistent with all the other names.  PropertyLoader is still
present as a synonym.<a class="changeset-link reference internal" href="#change-d186907ddc6b3f823c7b0bc6fb4d8b02">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-29"><span class="target" id="change-9baac05bdfa8c85bd5e3615095d36406"><strong>[orm] </strong></span>fixed &#8220;double iter()&#8221; call causing bus errors in shard API,
removed errant result.close() left over from the 0.4
version.<a class="changeset-link reference internal" href="#change-9baac05bdfa8c85bd5e3615095d36406">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1099">#1099</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1228">#1228</a></p>
</p>
</li>
<li><p id="change-0.5.0-30"><span class="target" id="change-5e2248787d968939e4e9d2f8e559e18b"><strong>[orm] </strong></span>made Session.merge cascades not trigger autoflush.  Fixes
merged instances getting prematurely inserted with missing
values.<a class="changeset-link reference internal" href="#change-5e2248787d968939e4e9d2f8e559e18b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-31"><span class="target" id="change-6555cfb0451b569305186ee8a0689589"><strong>[orm] </strong></span>Two fixes to help prevent out-of-band columns from being
rendered in polymorphic_union inheritance scenarios (which
then causes extra tables to be rendered in the FROM clause
causing cartesian products):<blockquote>
<div><ul>
<li>improvements to &#8220;column adaption&#8221; for a-&gt;b-&gt;c inheritance
situations to better locate columns that are related to
one another via multiple levels of indirection, rather
than rendering the non-adapted column.</li>
<li>the &#8220;polymorphic discriminator&#8221; column is only rendered
for the actual mapper being queried against. The column
won&#8217;t be &#8220;pulled in&#8221; from a subclass or superclass mapper
since it&#8217;s not needed.</li>
</ul>
</div></blockquote>
<a class="changeset-link reference internal" href="#change-6555cfb0451b569305186ee8a0689589">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-32"><span class="target" id="change-66fe0a8f3b46c831a3b3b83a3f3de315"><strong>[orm] </strong></span>Fixed shard_id argument on ShardedSession.execute().<a class="changeset-link reference internal" href="#change-66fe0a8f3b46c831a3b3b83a3f3de315">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1072">#1072</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.5.0-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-33"><span class="target" id="change-33380ccfcfce84e083d372599c2b9832"><strong>[declarative] [orm] </strong></span>The full list of arguments accepted as string by backref()
includes &#8216;primaryjoin&#8217;, &#8216;secondaryjoin&#8217;, &#8216;secondary&#8217;,
&#8216;foreign_keys&#8217;, &#8216;remote_side&#8217;, &#8216;order_by&#8217;.<a class="changeset-link reference internal" href="#change-33380ccfcfce84e083d372599c2b9832">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-34"><span class="target" id="change-5a0b923b1b514ed25e1500aca2106047"><strong>[sql] </strong></span>RowProxy objects can be used in place of dictionary arguments
sent to connection.execute() and friends.<a class="changeset-link reference internal" href="#change-5a0b923b1b514ed25e1500aca2106047">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/935">#935</a></p>
</p>
</li>
<li><p id="change-0.5.0-35"><span class="target" id="change-719d0771fac124ea77465775b701b8c5"><strong>[sql] </strong></span>Columns can again contain percent signs within their
names.<a class="changeset-link reference internal" href="#change-719d0771fac124ea77465775b701b8c5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1256">#1256</a></p>
</p>
</li>
<li><p id="change-0.5.0-36"><span class="target" id="change-af7e9ecbc72bdb194a01c553c0e3aaaf"><strong>[sql] </strong></span>sqlalchemy.sql.expression.Function is now a public class.  It
can be subclassed to provide user-defined SQL functions in an
imperative style, including with pre-established behaviors.
The postgis.py example illustrates one usage of this.<a class="changeset-link reference internal" href="#change-af7e9ecbc72bdb194a01c553c0e3aaaf">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-37"><span class="target" id="change-79be4984bd311cf1c3cc7aa0ee2c225b"><strong>[sql] </strong></span>PickleType now favors == comparison by default, if the
incoming object (such as a dict) implements __eq__().  If the
object does not implement __eq__() and mutable=True, a
deprecation warning is raised.<a class="changeset-link reference internal" href="#change-79be4984bd311cf1c3cc7aa0ee2c225b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-38"><span class="target" id="change-1c6cd4432680ee3b88d1409ad8a2595a"><strong>[sql] </strong></span>Fixed the import weirdness in sqlalchemy.sql to not export
__names__.<a class="changeset-link reference internal" href="#change-1c6cd4432680ee3b88d1409ad8a2595a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1215">#1215</a></p>
</p>
</li>
<li><p id="change-0.5.0-39"><span class="target" id="change-053010ae5db7a1ef1c0cad28255e6e1a"><strong>[sql] </strong></span>Using the same ForeignKey object repeatedly raises an error
instead of silently failing later.<a class="changeset-link reference internal" href="#change-053010ae5db7a1ef1c0cad28255e6e1a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1238">#1238</a></p>
</p>
</li>
<li><p id="change-0.5.0-40"><span class="target" id="change-b7deff0590fd52cd195b8b32345f2fe9"><strong>[sql] </strong></span>Added NotImplementedError for params() method on
Insert/Update/Delete constructs.  These items currently don&#8217;t
support this functionality, which also would be a little
misleading compared to values().<a class="changeset-link reference internal" href="#change-b7deff0590fd52cd195b8b32345f2fe9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-41"><span class="target" id="change-a1565732582db1a51b3aab75c0add31e"><strong>[sql] </strong></span>Reflected foreign keys will properly locate their referenced
column, even if the column was given a &#8220;key&#8221; attribute
different from the reflected name.  This is achieved via a new
flag on ForeignKey/ForeignKeyConstraint called &#8220;link_to_name&#8221;,
if True means the given name is the referred-to column&#8217;s name,
not its assigned key.<a class="changeset-link reference internal" href="#change-a1565732582db1a51b3aab75c0add31e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/650">#650</a></p>
</p>
</li>
<li><p id="change-0.5.0-42"><span class="target" id="change-0293ff97680a8f6fbee7f294e134068e"><strong>[sql] </strong></span>select() can accept a ClauseList as a column in the same way
as a Table or other selectable and the interior expressions
will be used as column elements.<a class="changeset-link reference internal" href="#change-0293ff97680a8f6fbee7f294e134068e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1253">#1253</a></p>
</p>
</li>
<li><p id="change-0.5.0-43"><span class="target" id="change-7f4d1737378bcea5c89e3882a6828ae0"><strong>[sql] </strong></span>the &#8220;passive&#8221; flag on session.is_modified() is correctly
propagated to the attribute manager.<a class="changeset-link reference internal" href="#change-7f4d1737378bcea5c89e3882a6828ae0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-44"><span class="target" id="change-9aeae9fe877bc5208fc96c2c0187ce15"><strong>[sql] </strong></span>union() and union_all() will not whack any order_by() that has
been applied to the select()s inside.  If you union() a
select() with order_by() (presumably to support LIMIT/OFFSET),
you should also call self_group() on it to apply parenthesis.<a class="changeset-link reference internal" href="#change-9aeae9fe877bc5208fc96c2c0187ce15">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-45"><span class="target" id="change-8658ecc046653e3b8297dd6a91e62d3c"><strong>[mysql] </strong></span>&#8220;%&#8221; signs in text() constructs are automatically escaped to
&#8220;%%&#8221;.  Because of the backwards incompatible nature of this
change, a warning is emitted if &#8216;%%&#8217; is detected in the
string.<a class="changeset-link reference internal" href="#change-8658ecc046653e3b8297dd6a91e62d3c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-46"><span class="target" id="change-dc5635e0b09e6d0ef90551f1458bfa1f"><strong>[mysql] </strong></span>Fixed bug in exception raise when FK columns not present
during reflection.<a class="changeset-link reference internal" href="#change-dc5635e0b09e6d0ef90551f1458bfa1f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1241">#1241</a></p>
</p>
</li>
<li><p id="change-0.5.0-47"><span class="target" id="change-26f82549faec2086390040b56ed67f52"><strong>[mysql] </strong></span>Fixed bug involving reflection of a remote-schema table with a
foreign key ref to another table in that schema.<a class="changeset-link reference internal" href="#change-26f82549faec2086390040b56ed67f52">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.0-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-48"><span class="target" id="change-84584072c8de1c3fe482627927fd714f"><strong>[sqlite] </strong></span>Table reflection now stores the actual DefaultClause value for
the column.<a class="changeset-link reference internal" href="#change-84584072c8de1c3fe482627927fd714f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1266">#1266</a></p>
</p>
</li>
<li><p id="change-0.5.0-49"><span class="target" id="change-93d4830182415e1331aeea24907c3080"><strong>[sqlite] </strong></span>bugfixes, behavioral changes<a class="changeset-link reference internal" href="#change-93d4830182415e1331aeea24907c3080">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-50"><span class="target" id="change-c8d0719e80c9b09957d73e77785af6bd"><strong>[mssql] </strong></span>Added in a new MSGenericBinary type. This maps to the Binary
type so it can implement the specialized behavior of treating
length specified types as fixed-width Binary types and
non-length types as an unbound variable length Binary type.<a class="changeset-link reference internal" href="#change-c8d0719e80c9b09957d73e77785af6bd">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-51"><span class="target" id="change-8f66fc574e3c160f44588cf02ca284e3"><strong>[mssql] </strong></span>Added in new types: MSVarBinary and MSImage.<a class="changeset-link reference internal" href="#change-8f66fc574e3c160f44588cf02ca284e3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1249">#1249</a></p>
</p>
</li>
<li><p id="change-0.5.0-52"><span class="target" id="change-5c00e393c842b417f4285b3a178aadcb"><strong>[mssql] </strong></span>Added in the MSReal, MSNText, MSSmallDateTime, MSTime,
MSDateTimeOffset, and MSDateTime2 types<a class="changeset-link reference internal" href="#change-5c00e393c842b417f4285b3a178aadcb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-53"><span class="target" id="change-b759863e8434ae6cea17a2115098b806"><strong>[mssql] </strong></span>Refactored the Date/Time types. The <tt class="docutils literal"><span class="pre">smalldatetime</span></tt> data
type no longer truncates to a date only, and will now be
mapped to the MSSmallDateTime type.<a class="changeset-link reference internal" href="#change-b759863e8434ae6cea17a2115098b806">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1254">#1254</a></p>
</p>
</li>
<li><p id="change-0.5.0-54"><span class="target" id="change-7ad24f536d7b91e2dd7a3b2b99a19727"><strong>[mssql] </strong></span>Corrected an issue with Numerics to accept an int.<a class="changeset-link reference internal" href="#change-7ad24f536d7b91e2dd7a3b2b99a19727">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-55"><span class="target" id="change-75b12696700d5e57f4fe29cdbc7ec8ac"><strong>[mssql] </strong></span>Mapped <tt class="docutils literal"><span class="pre">char_length</span></tt> to the <tt class="docutils literal"><span class="pre">LEN()</span></tt> function.<a class="changeset-link reference internal" href="#change-75b12696700d5e57f4fe29cdbc7ec8ac">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-56"><span class="target" id="change-ec975da215d6fde5f163e8a064cd4591"><strong>[mssql] </strong></span>If an <tt class="docutils literal"><span class="pre">INSERT</span></tt> includes a subselect the <tt class="docutils literal"><span class="pre">INSERT</span></tt> is
converted from an <tt class="docutils literal"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">VALUES</span></tt> construct to a
<tt class="docutils literal"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">SELECT</span></tt> construct.<a class="changeset-link reference internal" href="#change-ec975da215d6fde5f163e8a064cd4591">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-57"><span class="target" id="change-eaa3b35c76afd357117e3d0dd780ae3f"><strong>[mssql] </strong></span>If the column is part of a <tt class="docutils literal"><span class="pre">primary_key</span></tt> it will be <tt class="docutils literal"><span class="pre">NOT</span>
<span class="pre">NULL</span></tt> since MSSQL doesn&#8217;t allow <tt class="docutils literal"><span class="pre">NULL</span></tt> in primary_key
columns.<a class="changeset-link reference internal" href="#change-eaa3b35c76afd357117e3d0dd780ae3f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-58"><span class="target" id="change-b986d7aae928f54f9c93125d11c52073"><strong>[mssql] </strong></span><tt class="docutils literal"><span class="pre">MSBinary</span></tt> now returns a <tt class="docutils literal"><span class="pre">BINARY</span></tt> instead of an
<tt class="docutils literal"><span class="pre">IMAGE</span></tt>. This is a backwards incompatible change in that
<tt class="docutils literal"><span class="pre">BINARY</span></tt> is a fixed length data type whereas <tt class="docutils literal"><span class="pre">IMAGE</span></tt> is a
variable length data type.<a class="changeset-link reference internal" href="#change-b986d7aae928f54f9c93125d11c52073">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1249">#1249</a></p>
</p>
</li>
<li><p id="change-0.5.0-59"><span class="target" id="change-804ce8c8340ab54b256a14785ec30540"><strong>[mssql] </strong></span><tt class="docutils literal"><span class="pre">get_default_schema_name</span></tt> is now reflected from the database
based on the user&#8217;s default schema. This only works with MSSQL
2005 and later.<a class="changeset-link reference internal" href="#change-804ce8c8340ab54b256a14785ec30540">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1258">#1258</a></p>
</p>
</li>
<li><p id="change-0.5.0-60"><span class="target" id="change-bb18e5b89f2406099a7534d51e13fa2f"><strong>[mssql] </strong></span>Added collation support through the use of a new collation
argument. This is supported on the following types: char,
nchar, varchar, nvarchar, text, ntext.<a class="changeset-link reference internal" href="#change-bb18e5b89f2406099a7534d51e13fa2f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1248">#1248</a></p>
</p>
</li>
<li><p id="change-0.5.0-61"><span class="target" id="change-a286cda677ccfa3f76731e7a3199818b"><strong>[mssql] </strong></span>Changes to the connection string parameters favor DSN as the
default specification for pyodbc. See the mssql.py docstring
for detailed usage instructions.<a class="changeset-link reference internal" href="#change-a286cda677ccfa3f76731e7a3199818b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-62"><span class="target" id="change-4c4a5e9e4b9c08f355846e1f696f9a30"><strong>[mssql] </strong></span>Added experimental support of savepoints. It currently does
not work fully with sessions.<a class="changeset-link reference internal" href="#change-4c4a5e9e4b9c08f355846e1f696f9a30">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-63"><span class="target" id="change-149c046864d1ddbacc3fd459c9370503"><strong>[mssql] </strong></span>Support for three levels of column nullability: NULL, NOT
NULL, and the database&#8217;s configured default.  The default
Column configuration (nullable=True) will now generate NULL in
the DDL. Previously no specification was emitted and the
database default would take effect (usually NULL, but not
always).  To explicitly request the database default,
configure columns with nullable=None and no specification will
be emitted in DDL. This is backwards incompatible
behavior.<a class="changeset-link reference internal" href="#change-149c046864d1ddbacc3fd459c9370503">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1243">#1243</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.0-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-64"><span class="target" id="change-a43e314d4f2cf68b62002484aaf006e4"><strong>[oracle] </strong></span>Adjusted the format of create_xid() to repair two-phase
commit.  We now have field reports of Oracle two-phase commit
working properly with this change.<a class="changeset-link reference internal" href="#change-a43e314d4f2cf68b62002484aaf006e4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-65"><span class="target" id="change-03197feb9b2b7658cf40cfe853e5f05c"><strong>[oracle] </strong></span>Added OracleNVarchar type, produces NVARCHAR2, and also
subclasses Unicode so that convert_unicode=True by default.
NVARCHAR2 reflects into this type automatically so these
columns pass unicode on a reflected table with no explicit
convert_unicode=True flags.<a class="changeset-link reference internal" href="#change-03197feb9b2b7658cf40cfe853e5f05c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1233">#1233</a></p>
</p>
</li>
<li><p id="change-0.5.0-66"><span class="target" id="change-b72444e553b994170040c0428fbf65d0"><strong>[oracle] </strong></span>Fixed bug which was preventing out params of certain types
from being received; thanks a ton to huddlej at wwu.edu !<a class="changeset-link reference internal" href="#change-b72444e553b994170040c0428fbf65d0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1265">#1265</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0-67"><span class="target" id="change-da970a157a1834cd79c819f5c3f2540d"><strong>[dialect] </strong></span>Added a new description_encoding attribute on the dialect that
is used for encoding the column name when processing the
metadata. This usually defaults to utf-8.<a class="changeset-link reference internal" href="#change-da970a157a1834cd79c819f5c3f2540d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-68"><span class="target" id="change-5e7ce396d34dc5ae7ad3f1cb8b384593"><strong>[engine/pool] </strong></span>Connection.invalidate() checks for closed status to avoid
attribute errors.<a class="changeset-link reference internal" href="#change-5e7ce396d34dc5ae7ad3f1cb8b384593">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1246">#1246</a></p>
</p>
</li>
<li><p id="change-0.5.0-69"><span class="target" id="change-bc7d2b0fc90717fe3325c56e15f4283d"><strong>[engine/pool] </strong></span>NullPool supports reconnect on failure behavior.<a class="changeset-link reference internal" href="#change-bc7d2b0fc90717fe3325c56e15f4283d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1094">#1094</a></p>
</p>
</li>
<li><p id="change-0.5.0-70"><span class="target" id="change-75ce0f6341ffdfdd61a122e4b20f355b"><strong>[engine/pool] </strong></span>Added a mutex for the initial pool creation when using
pool.manage(dbapi).  This prevents a minor case of &#8220;dogpile&#8221;
behavior which would otherwise occur upon a heavy load
startup.<a class="changeset-link reference internal" href="#change-75ce0f6341ffdfdd61a122e4b20f355b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/799">#799</a></p>
</p>
</li>
<li><p id="change-0.5.0-71"><span class="target" id="change-0b049b47c08c88cb2921ec8fa213c7dd"><strong>[engine/pool] </strong></span>_execute_clauseelement() goes back to being a private method.
Subclassing Connection is not needed now that ConnectionProxy
is available.<a class="changeset-link reference internal" href="#change-0b049b47c08c88cb2921ec8fa213c7dd">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-72"><span class="target" id="change-8627c67839907a4a8ac4b47976556828"><strong>[documentation] </strong></span>Tickets.<a class="changeset-link reference internal" href="#change-8627c67839907a4a8ac4b47976556828">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1149">#1149</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1200">#1200</a></p>
</p>
</li>
<li><p id="change-0.5.0-73"><span class="target" id="change-e55294d74e10af807807f871712b0880"><strong>[documentation] </strong></span>Added note about create_session() defaults.<a class="changeset-link reference internal" href="#change-e55294d74e10af807807f871712b0880">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-74"><span class="target" id="change-270e327e2fc5e5129363645f1bbf17a9"><strong>[documentation] </strong></span>Added section about metadata.reflect().<a class="changeset-link reference internal" href="#change-270e327e2fc5e5129363645f1bbf17a9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-75"><span class="target" id="change-5fd98e9cb67ac4d2452ca17a5cb7d03f"><strong>[documentation] </strong></span>Updated <cite>TypeDecorator</cite> section.<a class="changeset-link reference internal" href="#change-5fd98e9cb67ac4d2452ca17a5cb7d03f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-76"><span class="target" id="change-bc0ede0d6a7a62f229788a0cc644a33b"><strong>[documentation] </strong></span>Rewrote the &#8220;threadlocal&#8221; strategy section of the docs due to
recent confusion over this feature.<a class="changeset-link reference internal" href="#change-bc0ede0d6a7a62f229788a0cc644a33b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-77"><span class="target" id="change-6f07fa2dced69d5f8b9840955c2152b6"><strong>[documentation] </strong></span>Removed badly out of date &#8216;polymorphic_fetch&#8217; and
&#8216;select_table&#8217; docs from inheritance, reworked the second half
of &#8220;joined table inheritance&#8221;.<a class="changeset-link reference internal" href="#change-6f07fa2dced69d5f8b9840955c2152b6">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-78"><span class="target" id="change-38b473492814598fc57602ec7a2e240a"><strong>[documentation] </strong></span>Documented <cite>comparator_factory</cite> kwarg, added new doc section
&#8220;Custom Comparators&#8221;.<a class="changeset-link reference internal" href="#change-38b473492814598fc57602ec7a2e240a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-79"><span class="target" id="change-8658ecc046653e3b8297dd6a91e62d3c"><strong>[postgres] </strong></span>&#8220;%&#8221; signs in text() constructs are automatically escaped to
&#8220;%%&#8221;.  Because of the backwards incompatible nature of this
change, a warning is emitted if &#8216;%%&#8217; is detected in the
string.<a class="changeset-link reference internal" href="#change-8658ecc046653e3b8297dd6a91e62d3c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1267">#1267</a></p>
</p>
</li>
<li><p id="change-0.5.0-80"><span class="target" id="change-4632b52224527c408a498d9cd920b87f"><strong>[postgres] </strong></span>Calling alias.execute() in conjunction with
server_side_cursors won&#8217;t raise AttributeError.<a class="changeset-link reference internal" href="#change-4632b52224527c408a498d9cd920b87f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0-81"><span class="target" id="change-7f7eca144e08cf2cfce5a0ea42a49236"><strong>[postgres] </strong></span>Added Index reflection support to PostgreSQL, using a great
patch we long neglected, submitted by Ken
Kuhlman.<a class="changeset-link reference internal" href="#change-7f7eca144e08cf2cfce5a0ea42a49236">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/714">#714</a></p>
</p>
</li>
<li><p id="change-0.5.0-82"><span class="target" id="change-5b9a3396875da1271c6cb891adaaaa46"><strong>[associationproxy] </strong></span>The association proxy properties are make themselves available
at the class level, e.g. MyClass.aproxy.  Previously this
evaluated to None.<a class="changeset-link reference internal" href="#change-5b9a3396875da1271c6cb891adaaaa46">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0rc4">
<h2>0.5.0rc4<a class="headerlink" href="#change-0.5.0rc4" title="Permalink to this headline">¶</a></h2>
Released: Fri Nov 14 2008<div class="section" id="change-0.5.0rc4-general">
<h3>general<a class="headerlink" href="#change-0.5.0rc4-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc4-0"><span class="target" id="change-8a6aec8fb7018c963d0184c84264d310"><strong>[general] </strong></span>global &#8220;propigate&#8221;-&gt;&#8221;propagate&#8221; change.<a class="changeset-link reference internal" href="#change-8a6aec8fb7018c963d0184c84264d310">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc4-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0rc4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc4-1"><span class="target" id="change-e706abaafd4163571c3b5fcd73799ba3"><strong>[orm] </strong></span>Query.count() has been enhanced to do the &#8220;right thing&#8221; in a
wider variety of cases. It can now count multiple-entity
queries, as well as column-based queries. Note that this means
if you say query(A, B).count() without any joining criterion,
it&#8217;s going to count the cartesian product of A*B. Any query
which is against column-based entities will automatically
issue &#8220;SELECT count(1) FROM (SELECT...)&#8221; so that the real
rowcount is returned, meaning a query such as
query(func.count(A.name)).count() will return a value of one,
since that query would return one row.<a class="changeset-link reference internal" href="#change-e706abaafd4163571c3b5fcd73799ba3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-2"><span class="target" id="change-849958bf53fe31d2e33d918bdfd33bdd"><strong>[orm] </strong></span>Lots of performance tuning.  A rough guesstimate over various
ORM operations places it 10% faster over 0.5.0rc3, 25-30% over
0.4.8.<a class="changeset-link reference internal" href="#change-849958bf53fe31d2e33d918bdfd33bdd">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-3"><span class="target" id="change-999726fd1a9b23baf51053bd59286402"><strong>[orm] </strong></span>bugfixes and behavioral changes<a class="changeset-link reference internal" href="#change-999726fd1a9b23baf51053bd59286402">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-4"><span class="target" id="change-89395a39a61e30e16768f166ecf74f13"><strong>[orm] </strong></span>Adjustments to the enhanced garbage collection on
InstanceState to better guard against errors due to lost
state.<a class="changeset-link reference internal" href="#change-89395a39a61e30e16768f166ecf74f13">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-5"><span class="target" id="change-f42b51bc7c7c3769ecbdf41f431dd6e7"><strong>[orm] </strong></span>Query.get() returns a more informative error message when
executed against multiple entities.<a class="changeset-link reference internal" href="#change-f42b51bc7c7c3769ecbdf41f431dd6e7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1220">#1220</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-6"><span class="target" id="change-ab894d2d68d342df5dc9eeb9cbd09b0c"><strong>[orm] </strong></span>Restored NotImplementedError on Cls.relation.in_()<a class="changeset-link reference internal" href="#change-ab894d2d68d342df5dc9eeb9cbd09b0c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1140">#1140</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1221">#1221</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-7"><span class="target" id="change-22fe0443a88de30a1342a3a099b22329"><strong>[orm] </strong></span>Fixed PendingDeprecationWarning involving order_by parameter
on relation().<a class="changeset-link reference internal" href="#change-22fe0443a88de30a1342a3a099b22329">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1226">#1226</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc4-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0rc4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc4-8"><span class="target" id="change-5224b4a3507abcf1fe778389eaf02902"><strong>[sql] </strong></span>Removed the &#8216;properties&#8217; attribute of the Connection object,
Connection.info should be used.<a class="changeset-link reference internal" href="#change-5224b4a3507abcf1fe778389eaf02902">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-9"><span class="target" id="change-6f2b6ddaa306d06266d2c436ea5ca0e9"><strong>[sql] </strong></span>Restored &#8220;active rowcount&#8221; fetch before ResultProxy autocloses
the cursor.  This was removed in 0.5rc3.<a class="changeset-link reference internal" href="#change-6f2b6ddaa306d06266d2c436ea5ca0e9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-10"><span class="target" id="change-6ef99ec88220d96a834e5814ff6f2d2f"><strong>[sql] </strong></span>Rearranged the <cite>load_dialect_impl()</cite> method in <cite>TypeDecorator</cite>
such that it will take effect even if the user-defined
<cite>TypeDecorator</cite> uses another <cite>TypeDecorator</cite> as its impl.<a class="changeset-link reference internal" href="#change-6ef99ec88220d96a834e5814ff6f2d2f">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc4-mssql">
<h3>mssql<a class="headerlink" href="#change-0.5.0rc4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc4-11"><span class="target" id="change-02d361683d4caaf79aca978254b4d825"><strong>[mssql] </strong></span>Lots of cleanup and fixes to correct problems with limit and
offset.<a class="changeset-link reference internal" href="#change-02d361683d4caaf79aca978254b4d825">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-12"><span class="target" id="change-614a34b39f33b0ee777ad0be205f9d25"><strong>[mssql] </strong></span>Correct situation where subqueries as part of a binary
expression need to be translated to use the IN and NOT IN
syntax.<a class="changeset-link reference internal" href="#change-614a34b39f33b0ee777ad0be205f9d25">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-13"><span class="target" id="change-c54f50ebca87d4604d60f5e0f79671a9"><strong>[mssql] </strong></span>Fixed E Notation issue that prevented the ability to insert
decimal values less than 1E-6.<a class="changeset-link reference internal" href="#change-c54f50ebca87d4604d60f5e0f79671a9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1216">#1216</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-14"><span class="target" id="change-c306dde89a40d3eb755ee92c176e2071"><strong>[mssql] </strong></span>Corrected problems with reflection when dealing with schemas,
particularly when those schemas are the default
schema.<a class="changeset-link reference internal" href="#change-c306dde89a40d3eb755ee92c176e2071">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1217">#1217</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-15"><span class="target" id="change-602cb2c9da1ddce66cf973e04b4f44fa"><strong>[mssql] </strong></span>Corrected problem with casting a zero length item to a
varchar. It now correctly adjusts the CAST.<a class="changeset-link reference internal" href="#change-602cb2c9da1ddce66cf973e04b4f44fa">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc4-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0rc4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc4-16"><span class="target" id="change-0609f1d794bed5620afd2c5fcfe4485c"><strong>[access] </strong></span>Added support for Currency type.<a class="changeset-link reference internal" href="#change-0609f1d794bed5620afd2c5fcfe4485c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-17"><span class="target" id="change-4871138a9e4725231382a94cadc641fa"><strong>[access] </strong></span>Functions were not return their result.<a class="changeset-link reference internal" href="#change-4871138a9e4725231382a94cadc641fa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1017">#1017</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-18"><span class="target" id="change-629213dc9d8caec224eab7efaf0c9e8c"><strong>[access] </strong></span>Corrected problem with joins. Access only support LEFT OUTER
or INNER not just JOIN by itself.<a class="changeset-link reference internal" href="#change-629213dc9d8caec224eab7efaf0c9e8c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1017">#1017</a></p>
</p>
</li>
<li><p id="change-0.5.0rc4-19"><span class="target" id="change-ead812e3dcdf543e63ae4eb41cb6e786"><strong>[ext] </strong></span>Can now use a custom &#8220;inherit_condition&#8221; in __mapper_args__
when using declarative.<a class="changeset-link reference internal" href="#change-ead812e3dcdf543e63ae4eb41cb6e786">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc4-20"><span class="target" id="change-d703da716eeb441018b2fabb134131b1"><strong>[ext] </strong></span>fixed string-based &#8220;remote_side&#8221;, &#8220;order_by&#8221; and others not
propagating correctly when used in backref().<a class="changeset-link reference internal" href="#change-d703da716eeb441018b2fabb134131b1">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0rc3">
<h2>0.5.0rc3<a class="headerlink" href="#change-0.5.0rc3" title="Permalink to this headline">¶</a></h2>
Released: Fri Nov 07 2008<div class="section" id="change-0.5.0rc3-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0rc3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc3-0"><span class="target" id="change-38a7a9ceedebd3ec3a3cd628c4cbae6c"><strong>[orm] </strong></span>Added two new hooks to SessionExtension: after_bulk_delete()
and after_bulk_update().  after_bulk_delete() is called after
a bulk delete() operation on a query. after_bulk_update() is
called after a bulk update() operation on a query.<a class="changeset-link reference internal" href="#change-38a7a9ceedebd3ec3a3cd628c4cbae6c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-1"><span class="target" id="change-5dc36955ff448a52543110b78b8fb9a8"><strong>[orm] </strong></span>&#8220;not equals&#8221; comparisons of simple many-to-one relation to an
instance will not drop into an EXISTS clause and will compare
foreign key columns instead.<a class="changeset-link reference internal" href="#change-5dc36955ff448a52543110b78b8fb9a8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-2"><span class="target" id="change-bcd58afe9c7ed7adbd952b916c4cd2c3"><strong>[orm] </strong></span>Removed not-really-working use cases of comparing a collection
to an iterable. Use contains() to test for collection
membership.<a class="changeset-link reference internal" href="#change-bcd58afe9c7ed7adbd952b916c4cd2c3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-3"><span class="target" id="change-d85456f650e249dc2dcf7b525c28e126"><strong>[orm] </strong></span>Improved the behavior of aliased() objects such that they more
accurately adapt the expressions generated, which helps
particularly with self-referential comparisons.<a class="changeset-link reference internal" href="#change-d85456f650e249dc2dcf7b525c28e126">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1171">#1171</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-4"><span class="target" id="change-d57fdc182451c7d14e3421d47a7355d7"><strong>[orm] </strong></span>Fixed bug involving primaryjoin/secondaryjoin conditions
constructed from class-bound attributes (as often occurs when
using declarative), which later would be inappropriately
aliased by Query, particularly with the various EXISTS based
comparators.<a class="changeset-link reference internal" href="#change-d57fdc182451c7d14e3421d47a7355d7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-5"><span class="target" id="change-3d6adbfb55e19cfd355c9cbb5c452e23"><strong>[orm] </strong></span>Fixed bug when using multiple query.join() with an
aliased-bound descriptor which would lose the left alias.<a class="changeset-link reference internal" href="#change-3d6adbfb55e19cfd355c9cbb5c452e23">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-6"><span class="target" id="change-2fdd25ee1e71530dd4e6a0e6a5d7634e"><strong>[orm] </strong></span>Improved weakref identity map memory management to no longer
require mutexing, resurrects garbage collected instance on a
lazy basis for an InstanceState with pending changes.<a class="changeset-link reference internal" href="#change-2fdd25ee1e71530dd4e6a0e6a5d7634e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-7"><span class="target" id="change-0fcd457e5ee2b0c4d942be9f0514327b"><strong>[orm] </strong></span>InstanceState object now removes circular references to itself
upon disposal to keep it outside of cyclic garbage collection.<a class="changeset-link reference internal" href="#change-0fcd457e5ee2b0c4d942be9f0514327b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-8"><span class="target" id="change-87f1da0275cd2fbc5c4c593a2be9bfd6"><strong>[orm] </strong></span>relation() won&#8217;t hide unrelated ForeignKey errors inside of
the &#8220;please specify primaryjoin&#8221; message when determining join
condition.<a class="changeset-link reference internal" href="#change-87f1da0275cd2fbc5c4c593a2be9bfd6">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-9"><span class="target" id="change-05f11c467432dec3f888c0cf94d79a0f"><strong>[orm] </strong></span>Fixed bug in Query involving order_by() in conjunction with
multiple aliases of the same class (will add tests in)<a class="changeset-link reference internal" href="#change-05f11c467432dec3f888c0cf94d79a0f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1218">#1218</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-10"><span class="target" id="change-b4f0becdc69679a440af05ec27cbafc7"><strong>[orm] </strong></span>When using Query.join() with an explicit clause for the ON
clause, the clause will be aliased in terms of the left side
of the join, allowing scenarios like query(Source).
from_self().join((Dest, Source.id==Dest.source_id)) to work
properly.<a class="changeset-link reference internal" href="#change-b4f0becdc69679a440af05ec27cbafc7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-11"><span class="target" id="change-c5c461585564866cc3949fdeadb64475"><strong>[orm] </strong></span>polymorphic_union() function respects the &#8220;key&#8221; of each Column
if they differ from the column&#8217;s name.<a class="changeset-link reference internal" href="#change-c5c461585564866cc3949fdeadb64475">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-12"><span class="target" id="change-e90fa35d010065cc1fc98b81f72ff089"><strong>[orm] </strong></span>Repaired support for &#8220;passive-deletes&#8221; on a many-to-one
relation() with &#8220;delete&#8221; cascade.<a class="changeset-link reference internal" href="#change-e90fa35d010065cc1fc98b81f72ff089">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1183">#1183</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-13"><span class="target" id="change-8b474b31c4dce5478119b8d2d994d20e"><strong>[orm] </strong></span>Fixed bug in composite types which prevented a primary-key
composite type from being mutated.<a class="changeset-link reference internal" href="#change-8b474b31c4dce5478119b8d2d994d20e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1213">#1213</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-14"><span class="target" id="change-e08ca53c8d86d8b83e4a311722d70cd9"><strong>[orm] </strong></span>Added more granularity to internal attribute access, such that
cascade and flush operations will not initialize unloaded
attributes and collections, leaving them intact for a
lazy-load later on. Backref events still initialize attrbutes
and collections for pending instances.<a class="changeset-link reference internal" href="#change-e08ca53c8d86d8b83e4a311722d70cd9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1202">#1202</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc3-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0rc3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc3-15"><span class="target" id="change-4e7f0b4700c725c4a2c9cc64c36318a6"><strong>[sql] </strong></span>SQL compiler optimizations and complexity reduction. The call
count for compiling a typical select() construct is 20% less
versus 0.5.0rc2.<a class="changeset-link reference internal" href="#change-4e7f0b4700c725c4a2c9cc64c36318a6">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-16"><span class="target" id="change-c5d75ff2e08bff5447d3ee8f93bd1820"><strong>[sql] </strong></span>Dialects can now generate label names of adjustable
length. Pass in the argument &#8220;label_length=&lt;value&gt;&#8221; to
create_engine() to adjust how many characters max will be
present in dynamically generated column labels, i.e.
&#8220;somecolumn AS somelabel&#8221;. Any value less than 6 will result
in a label of minimal size, consisting of an underscore and a
numeric counter. The compiler uses the value of
dialect.max_identifier_length as a default.<a class="changeset-link reference internal" href="#change-c5d75ff2e08bff5447d3ee8f93bd1820">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1211">#1211</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-17"><span class="target" id="change-cf6a1fa1ded84fbb9322d461f0a8bfeb"><strong>[sql] </strong></span>Simplified the check for ResultProxy &#8220;autoclose without
results&#8221; to be based solely on presence of
cursor.description. All the regexp-based guessing about
statements returning rows has been removed.<a class="changeset-link reference internal" href="#change-cf6a1fa1ded84fbb9322d461f0a8bfeb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1212">#1212</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-18"><span class="target" id="change-8542c7fbeca3c824f9292b2c0c753b65"><strong>[sql] </strong></span>Direct execution of a union() construct will properly set up
result-row processing.<a class="changeset-link reference internal" href="#change-8542c7fbeca3c824f9292b2c0c753b65">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1194">#1194</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-19"><span class="target" id="change-19fdbca4f61b7fc504e390b8b486bd95"><strong>[sql] </strong></span>The internal notion of an &#8220;OID&#8221; or &#8220;ROWID&#8221; column has been
removed. It&#8217;s basically not used by any dialect, and the
possibility of its usage with psycopg2&#8217;s cursor.lastrowid is
basically gone now that INSERT..RETURNING is available.<a class="changeset-link reference internal" href="#change-19fdbca4f61b7fc504e390b8b486bd95">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-20"><span class="target" id="change-746ae8a34836c9f89ff26e4dfefd0801"><strong>[sql] </strong></span>Removed &#8220;default_order_by()&#8221; method on all FromClause objects.<a class="changeset-link reference internal" href="#change-746ae8a34836c9f89ff26e4dfefd0801">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-21"><span class="target" id="change-7d19f5c441dd8c3c88fde27a171a6170"><strong>[sql] </strong></span>Repaired the table.tometadata() method so that a passed-in
schema argument is propagated to ForeignKey constructs.<a class="changeset-link reference internal" href="#change-7d19f5c441dd8c3c88fde27a171a6170">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-22"><span class="target" id="change-7c5ade464b6936417497cfde871aad5e"><strong>[sql] </strong></span>Slightly changed behavior of IN operator for comparing to
empty collections. Now results in inequality comparison
against self. More portable, but breaks with stored procedures
that aren&#8217;t pure functions.<a class="changeset-link reference internal" href="#change-7c5ade464b6936417497cfde871aad5e">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0rc3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc3-23"><span class="target" id="change-71d35a417c7941d33fa99cd0465a0727"><strong>[mysql] </strong></span>Fixed foreign key reflection in the edge case where a Table&#8217;s
explicit schema= is the same as the schema (database) the
connection is attached to.<a class="changeset-link reference internal" href="#change-71d35a417c7941d33fa99cd0465a0727">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-24"><span class="target" id="change-99f4355bd2b87a5f286bbf59cf8bc8a5"><strong>[mysql] </strong></span>No longer expects include_columns in table reflection to be
lower case.<a class="changeset-link reference internal" href="#change-99f4355bd2b87a5f286bbf59cf8bc8a5">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc3-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.0rc3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc3-25"><span class="target" id="change-b2d74160c560863704ae165259a375be"><strong>[oracle] </strong></span>Wrote a docstring for Oracle dialect. Apparently that Ohloh
&#8220;few source code comments&#8221; label is starting to sting :).<a class="changeset-link reference internal" href="#change-b2d74160c560863704ae165259a375be">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-26"><span class="target" id="change-f410ff5e98d4f8304757e7b80a9fc89f"><strong>[oracle] </strong></span>Removed FIRST_ROWS() optimize flag when using LIMIT/OFFSET,
can be reenabled with optimize_limits=True create_engine()
flag.<a class="changeset-link reference internal" href="#change-f410ff5e98d4f8304757e7b80a9fc89f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/536">#536</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-27"><span class="target" id="change-008e6e9fe2ae6723730008d372f3e2b3"><strong>[oracle] </strong></span>bugfixes and behavioral changes<a class="changeset-link reference internal" href="#change-008e6e9fe2ae6723730008d372f3e2b3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-28"><span class="target" id="change-6230e778d3864d6e75bfb537df9f4019"><strong>[oracle] </strong></span>Setting the auto_convert_lobs to False on create_engine() will
also instruct the OracleBinary type to return the cx_oracle
LOB object unchanged.<a class="changeset-link reference internal" href="#change-6230e778d3864d6e75bfb537df9f4019">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc3-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0rc3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc3-29"><span class="target" id="change-8744852a94323ea2fbca283f3a688d6d"><strong>[ext] </strong></span>Added a new extension sqlalchemy.ext.serializer.  Provides
Serializer/Deserializer &#8220;classes&#8221; which mirror
Pickle/Unpickle, as well as dumps() and loads(). This
serializer implements an &#8220;external object&#8221; pickler which keeps
key context-sensitive objects, including engines, sessions,
metadata, Tables/Columns, and mappers, outside of the pickle
stream, and can later restore the pickle using any
engine/metadata/session provider. This is used not for
pickling regular object instances, which are pickleable
without any special logic, but for pickling expression objects
and full Query objects, such that all mapper/engine/session
dependencies can be restored at unpickle time.<a class="changeset-link reference internal" href="#change-8744852a94323ea2fbca283f3a688d6d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc3-30"><span class="target" id="change-bd744cf8b70f47e4b21c501000d5ed0c"><strong>[ext] </strong></span>Fixed bug preventing declarative-bound &#8220;column&#8221; objects from
being used in column_mapped_collection().<a class="changeset-link reference internal" href="#change-bd744cf8b70f47e4b21c501000d5ed0c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1174">#1174</a></p>
</p>
</li>
<li><p id="change-0.5.0rc3-31"><span class="target" id="change-5f7bc358f6dd8a36286e4a3e296d02c1"><strong>[misc] </strong></span>util.flatten_iterator() func doesn&#8217;t interpret strings with
__iter__() methods as iterators, such as in pypy.<a class="changeset-link reference internal" href="#change-5f7bc358f6dd8a36286e4a3e296d02c1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1077">#1077</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0rc2">
<h2>0.5.0rc2<a class="headerlink" href="#change-0.5.0rc2" title="Permalink to this headline">¶</a></h2>
Released: Sun Oct 12 2008<div class="section" id="change-0.5.0rc2-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0rc2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc2-0"><span class="target" id="change-f5b0922d748f836bf849faf609f236fb"><strong>[orm] </strong></span>Fixed bug involving read/write relation()s that contain
literal or other non-column expressions within their
primaryjoin condition equated to a foreign key column.<a class="changeset-link reference internal" href="#change-f5b0922d748f836bf849faf609f236fb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-1"><span class="target" id="change-6f0c82ba7e9d929eb20bf24b7363ad34"><strong>[orm] </strong></span>&#8220;non-batch&#8221; mode in mapper(), a feature which allows mapper
extension methods to be called as each instance is
updated/inserted, now honors the insert order of the objects
given.<a class="changeset-link reference internal" href="#change-6f0c82ba7e9d929eb20bf24b7363ad34">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-2"><span class="target" id="change-0809d581f494798f25857c9aae8d002b"><strong>[orm] </strong></span>Fixed RLock-related bug in mapper which could deadlock upon
reentrant mapper compile() calls, something that occurs when
using declarative constructs inside of ForeignKey objects.<a class="changeset-link reference internal" href="#change-0809d581f494798f25857c9aae8d002b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-3"><span class="target" id="change-c54cba17c56398a1c5b08c1b84a02ddf"><strong>[orm] </strong></span>ScopedSession.query_property now accepts a query_cls factory,
overriding the session&#8217;s configured query_cls.<a class="changeset-link reference internal" href="#change-c54cba17c56398a1c5b08c1b84a02ddf">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-4"><span class="target" id="change-32756406d7766861ec920823351f7333"><strong>[orm] </strong></span>Fixed shared state bug interfering with ScopedSession.mapper&#8217;s
ability to apply default __init__ implementations on object
subclasses.<a class="changeset-link reference internal" href="#change-32756406d7766861ec920823351f7333">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-5"><span class="target" id="change-e1cf8921386e47618a71f91c9f397141"><strong>[orm] </strong></span>Fixed up slices on Query (i.e. query[x:y]) to work properly
for zero length slices, slices with None on either end.<a class="changeset-link reference internal" href="#change-e1cf8921386e47618a71f91c9f397141">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1177">#1177</a></p>
</p>
</li>
<li><p id="change-0.5.0rc2-6"><span class="target" id="change-7481c2d6bb456c0af61a6a6c09fba5f1"><strong>[orm] </strong></span>Added an example illustrating Celko&#8217;s &#8220;nested sets&#8221; as a
SQLA mapping.<a class="changeset-link reference internal" href="#change-7481c2d6bb456c0af61a6a6c09fba5f1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-7"><span class="target" id="change-73a352c45698be882a53ca36f295ef17"><strong>[orm] </strong></span>contains_eager() with an alias argument works even when
the alias is embedded in a SELECT, as when sent to the
Query via query.select_from().<a class="changeset-link reference internal" href="#change-73a352c45698be882a53ca36f295ef17">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-8"><span class="target" id="change-48074ef8f2ae70e97dd4181ed0391fc0"><strong>[orm] </strong></span>contains_eager() usage is now compatible with a Query that
also contains a regular eager load and limit/offset, in that
the columns are added to the Query-generated subquery.<a class="changeset-link reference internal" href="#change-48074ef8f2ae70e97dd4181ed0391fc0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1180">#1180</a></p>
</p>
</li>
<li><p id="change-0.5.0rc2-9"><span class="target" id="change-85bf1511ee8b4b14e75649f2b44a7e13"><strong>[orm] </strong></span>session.execute() will execute a Sequence object passed to
it (regression from 0.4).<a class="changeset-link reference internal" href="#change-85bf1511ee8b4b14e75649f2b44a7e13">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-10"><span class="target" id="change-0e2181a984be58fab18171e6dfaa9cb8"><strong>[orm] </strong></span>Removed the &#8220;raiseerror&#8221; keyword argument from object_mapper()
and class_mapper().  These functions raise in all cases
if the given class/instance is not mapped.<a class="changeset-link reference internal" href="#change-0e2181a984be58fab18171e6dfaa9cb8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-11"><span class="target" id="change-73e385a22a5f13ca33fa594da9156975"><strong>[orm] </strong></span>Fixed session.transaction.commit() on a autocommit=False
session not starting a new transaction.<a class="changeset-link reference internal" href="#change-73e385a22a5f13ca33fa594da9156975">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-12"><span class="target" id="change-b1a04e4b706f1e6f85dc123694f84b1b"><strong>[orm] </strong></span>Some adjustments to Session.identity_map&#8217;s weak referencing
behavior to reduce asynchronous GC side effects.<a class="changeset-link reference internal" href="#change-b1a04e4b706f1e6f85dc123694f84b1b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc2-13"><span class="target" id="change-5f0c28140f7322c81248e44c6f16543f"><strong>[orm] </strong></span>Adjustment to Session&#8217;s post-flush accounting of newly
&#8220;clean&#8221; objects to better protect against operating on
objects as they&#8217;re asynchronously gc&#8217;ed.<a class="changeset-link reference internal" href="#change-5f0c28140f7322c81248e44c6f16543f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1182">#1182</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc2-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0rc2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc2-14"><span class="target" id="change-c19f10ddecf8af41aa89725ac892e5d1"><strong>[sql] </strong></span>column.in_(someselect) can now be used as a columns-clause
expression without the subquery bleeding into the FROM clause<a class="changeset-link reference internal" href="#change-c19f10ddecf8af41aa89725ac892e5d1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1074">#1074</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc2-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0rc2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc2-15"><span class="target" id="change-e747128d425bac8915c3340c83f4bfcd"><strong>[mysql] </strong></span>Temporary tables are now reflectable.<a class="changeset-link reference internal" href="#change-e747128d425bac8915c3340c83f4bfcd">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.0rc2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc2-16"><span class="target" id="change-de2f3457a9881a2d5d58e60866dca3ee"><strong>[sqlite] </strong></span>Overhauled SQLite date/time bind/result processing to use
regular expressions and format strings, rather than
strptime/strftime, to generically support pre-1900 dates,
dates with microseconds.<a class="changeset-link reference internal" href="#change-de2f3457a9881a2d5d58e60866dca3ee">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/968">#968</a></p>
</p>
</li>
<li><p id="change-0.5.0rc2-17"><span class="target" id="change-4b26a6e311de808b495a135487eb4a35"><strong>[sqlite] </strong></span>String&#8217;s (and Unicode&#8217;s, UnicodeText&#8217;s, etc.) convert_unicode
logic disabled in the sqlite dialect, to adjust for pysqlite
2.5.0&#8217;s new requirement that only Python unicode objects are
accepted;
<a class="reference external" href="http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html">http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html</a><a class="changeset-link reference internal" href="#change-4b26a6e311de808b495a135487eb4a35">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.0rc2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc2-18"><span class="target" id="change-7baa28a7c8c206ace952a46829cdb59d"><strong>[oracle] </strong></span>Oracle will detect string-based statements which contain
comments at the front before a SELECT as SELECT statements.<a class="changeset-link reference internal" href="#change-7baa28a7c8c206ace952a46829cdb59d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1187">#1187</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0rc1">
<h2>0.5.0rc1<a class="headerlink" href="#change-0.5.0rc1" title="Permalink to this headline">¶</a></h2>
Released: Thu Sep 11 2008<div class="section" id="change-0.5.0rc1-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0rc1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-0"><span class="target" id="change-8c84c46f35760eb2ceb74f595d9c2088"><strong>[orm] </strong></span>Query now has delete() and update(values) methods. This allows
to perform bulk deletes/updates with the Query object.<a class="changeset-link reference internal" href="#change-8c84c46f35760eb2ceb74f595d9c2088">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-1"><span class="target" id="change-fa65abea280fdd090a1388d966f791ec"><strong>[orm] </strong></span>The RowTuple object returned by Query(<a href="#id5"><span class="problematic" id="id6">*</span></a>cols) now features
keynames which prefer mapped attribute names over column keys,
column keys over column names, i.e.  Query(Class.foo,
Class.bar) will have names &#8220;foo&#8221; and &#8220;bar&#8221; even if those are
not the names of the underlying Column objects.  Direct Column
objects such as Query(table.c.col) will return the &#8220;key&#8221;
attribute of the Column.<a class="changeset-link reference internal" href="#change-fa65abea280fdd090a1388d966f791ec">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-2"><span class="target" id="change-bc299fb9b9d12f2bc21df15e57b86e7d"><strong>[orm] </strong></span>Added scalar() and value() methods to Query, each return a
single scalar value.  scalar() takes no arguments and is
roughly equivalent to first()[0], value()
takes a single column expression and is roughly equivalent to
values(expr).next()[0].<a class="changeset-link reference internal" href="#change-bc299fb9b9d12f2bc21df15e57b86e7d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-3"><span class="target" id="change-aa571bda5c49dd455a2b376e55d22ccf"><strong>[orm] </strong></span>Improved the determination of the FROM clause when placing SQL
expressions in the query() list of entities.  In particular
scalar subqueries should not &#8220;leak&#8221; their inner FROM objects
out into the enclosing query.<a class="changeset-link reference internal" href="#change-aa571bda5c49dd455a2b376e55d22ccf">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-4"><span class="target" id="change-d69b4c7364bc587c6c1f189243e71ada"><strong>[orm] </strong></span>Joins along a relation() from a mapped class to a mapped
subclass, where the mapped subclass is configured with single
table inheritance, will include an IN clause which limits the
subtypes of the joined class to those requested, within the ON
clause of the join.  This takes effect for eager load joins as
well as query.join().  Note that in some scenarios the IN
clause will appear in the WHERE clause of the query as well
since this discrimination has multiple trigger points.<a class="changeset-link reference internal" href="#change-d69b4c7364bc587c6c1f189243e71ada">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-5"><span class="target" id="change-5284be0f6bd79911d5fbc38bb1d9844e"><strong>[orm] </strong></span>AttributeExtension has been refined such that the event
is fired before the mutation actually occurs.  Additionally,
the append() and set() methods must now return the given value,
which is used as the value to be used in the mutation operation.
This allows creation of validating AttributeListeners which
raise before the action actually occurs, and which can change
the given value into something else before its used.<a class="changeset-link reference internal" href="#change-5284be0f6bd79911d5fbc38bb1d9844e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-6"><span class="target" id="change-5e040c7be045989474bef052f124b0e7"><strong>[orm] </strong></span>column_property(), composite_property(), and relation() now
accept a single or list of AttributeExtensions using the
&#8220;extension&#8221; keyword argument.<a class="changeset-link reference internal" href="#change-5e040c7be045989474bef052f124b0e7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-7"><span class="target" id="change-bc9ecda64807b38920f7cb6826c2c4d4"><strong>[orm] </strong></span>query.order_by().get() silently drops the &#8220;ORDER BY&#8221; from
the query issued by GET but does not raise an exception.<a class="changeset-link reference internal" href="#change-bc9ecda64807b38920f7cb6826c2c4d4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-8"><span class="target" id="change-ef2dee6873ef902b11bbee01803f4ae5"><strong>[orm] </strong></span>Added a Validator AttributeExtension, as well as a
&#64;validates decorator which is used in a similar fashion
as &#64;reconstructor, and marks a method as validating
one or more mapped attributes.<a class="changeset-link reference internal" href="#change-ef2dee6873ef902b11bbee01803f4ae5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-9"><span class="target" id="change-c002193ca635a30c27ec4425b7e5e4fd"><strong>[orm] </strong></span>class.someprop.in_() raises NotImplementedError pending the
implementation of &#8220;<a href="#id9"><span class="problematic" id="id10">in_</span></a>&#8221; for relation<a class="changeset-link reference internal" href="#change-c002193ca635a30c27ec4425b7e5e4fd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1140">#1140</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-10"><span class="target" id="change-e53c35f85da237cfc80b6dd06a426a1d"><strong>[orm] </strong></span>Fixed primary key update for many-to-many collections where
the collection had not been loaded yet<a class="changeset-link reference internal" href="#change-e53c35f85da237cfc80b6dd06a426a1d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1127">#1127</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-11"><span class="target" id="change-224716a1dadbeb6f1866db3440a6ff30"><strong>[orm] </strong></span>Fixed bug whereby deferred() columns with a group in conjunction
with an otherwise unrelated synonym() would produce
an AttributeError during deferred load.<a class="changeset-link reference internal" href="#change-224716a1dadbeb6f1866db3440a6ff30">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-12"><span class="target" id="change-ba4c025060cc6553792a05a302be7322"><strong>[orm] </strong></span>The before_flush() hook on SessionExtension takes place before
the list of new/dirty/deleted is calculated for the final
time, allowing routines within before_flush() to further
change the state of the Session before the flush proceeds.<a class="changeset-link reference internal" href="#change-ba4c025060cc6553792a05a302be7322">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1128">#1128</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-13"><span class="target" id="change-37fc8438846c6b43c7d59ef8a7a828d4"><strong>[orm] </strong></span>The &#8220;extension&#8221; argument to Session and others can now
optionally be a list, supporting events sent to multiple
SessionExtension instances.  Session places SessionExtensions
in Session.extensions.<a class="changeset-link reference internal" href="#change-37fc8438846c6b43c7d59ef8a7a828d4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-14"><span class="target" id="change-011d4fb8d5a8e138821dc28600012a05"><strong>[orm] </strong></span>Reentrant calls to flush() raise an error.  This also serves
as a rudimentary, but not foolproof, check against concurrent
calls to Session.flush().<a class="changeset-link reference internal" href="#change-011d4fb8d5a8e138821dc28600012a05">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-15"><span class="target" id="change-c25ec40209007cd9ba2064bebfb34232"><strong>[orm] </strong></span>Improved the behavior of query.join() when joining to
joined-table inheritance subclasses, using explicit join
criteria (i.e. not on a relation).<a class="changeset-link reference internal" href="#change-c25ec40209007cd9ba2064bebfb34232">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-16"><span class="target" id="change-1fb74025f94dc7b21831167635777693"><strong>[orm] </strong></span>&#64;orm.attributes.reconstitute and
MapperExtension.reconstitute have been renamed to
&#64;orm.reconstructor and MapperExtension.reconstruct_instance<a class="changeset-link reference internal" href="#change-1fb74025f94dc7b21831167635777693">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-17"><span class="target" id="change-cd79264b3790d04f0e63b83903fa5ed8"><strong>[orm] </strong></span>Fixed &#64;reconstructor hook for subclasses which inherit from a
base class.<a class="changeset-link reference internal" href="#change-cd79264b3790d04f0e63b83903fa5ed8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1129">#1129</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-18"><span class="target" id="change-508bd3c6df6fae18dd5395584def48c6"><strong>[orm] </strong></span>The composite() property type now supports a
__set_composite_values__() method on the composite class which
is required if the class represents state using attribute
names other than the column&#8217;s keynames; default-generated
values now get populated properly upon flush.  Also,
composites with attributes set to None compare correctly.<a class="changeset-link reference internal" href="#change-508bd3c6df6fae18dd5395584def48c6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1132">#1132</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-19"><span class="target" id="change-178fc756263765b259ff38672eac1c02"><strong>[orm] </strong></span>The 3-tuple of iterables returned by attributes.get_history()
may now be a mix of lists and tuples.  (Previously members
were always lists.)<a class="changeset-link reference internal" href="#change-178fc756263765b259ff38672eac1c02">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-20"><span class="target" id="change-4056d1b03d6c9596e7ca59f94acca718"><strong>[orm] </strong></span>Fixed bug whereby changing a primary key attribute on an
entity where the attribute&#8217;s previous value had been expired
would produce an error upon flush().<a class="changeset-link reference internal" href="#change-4056d1b03d6c9596e7ca59f94acca718">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1151">#1151</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-21"><span class="target" id="change-ef27e7fe8139e580bcb3c9ce33434365"><strong>[orm] </strong></span>Fixed custom instrumentation bug whereby get_instance_dict()
was not called for newly constructed instances not loaded
by the ORM.<a class="changeset-link reference internal" href="#change-ef27e7fe8139e580bcb3c9ce33434365">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-22"><span class="target" id="change-3c5325abcfbe1c8301b63a8ec8e57185"><strong>[orm] </strong></span>Session.delete() adds the given object to the session if
not already present.  This was a regression bug from 0.4.<a class="changeset-link reference internal" href="#change-3c5325abcfbe1c8301b63a8ec8e57185">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1150">#1150</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-23"><span class="target" id="change-5e86c8cc2cb9ead3e00ebc093e0a7715"><strong>[orm] </strong></span>The <cite>echo_uow</cite> flag on <cite>Session</cite> is deprecated, and unit-of-work
logging is now application-level only, not per-session level.<a class="changeset-link reference internal" href="#change-5e86c8cc2cb9ead3e00ebc093e0a7715">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-24"><span class="target" id="change-da6822c97f484346929c37f0beaa3376"><strong>[orm] </strong></span>Removed conflicting <cite>contains()</cite> operator from
<cite>InstrumentedAttribute</cite> which didn&#8217;t accept <cite>escape</cite> kwaarg.<a class="changeset-link reference internal" href="#change-da6822c97f484346929c37f0beaa3376">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1153">#1153</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc1-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.5.0rc1-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-25"><span class="target" id="change-25609b96aad470dfee53cfa4658bb8ea"><strong>[declarative] [orm] </strong></span>Fixed bug whereby mapper couldn&#8217;t initialize if a composite
primary key referenced another table that was not defined
yet.<a class="changeset-link reference internal" href="#change-25609b96aad470dfee53cfa4658bb8ea">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1161">#1161</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-26"><span class="target" id="change-0ba243ba7ed677b185afb4d1c3d0e1ff"><strong>[declarative] [orm] </strong></span>Fixed exception throw which would occur when string-based
primaryjoin condition was used in conjunction with backref.<a class="changeset-link reference internal" href="#change-0ba243ba7ed677b185afb4d1c3d0e1ff">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc1-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0rc1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-27"><span class="target" id="change-3cbba3907af4febdae6339124e49bbf1"><strong>[sql] </strong></span>Temporarily rolled back the &#8220;ORDER BY&#8221; enhancement from.  This feature is on hold pending further
development.<a class="changeset-link reference internal" href="#change-3cbba3907af4febdae6339124e49bbf1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1068">#1068</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-28"><span class="target" id="change-73494969fdc62e43dc91f1870944fca3"><strong>[sql] </strong></span>The exists() construct won&#8217;t &#8220;export&#8221; its contained list
of elements as FROM clauses, allowing them to be used more
effectively in the columns clause of a SELECT.<a class="changeset-link reference internal" href="#change-73494969fdc62e43dc91f1870944fca3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-29"><span class="target" id="change-a1129d13e840176ff64e74f0dffc726c"><strong>[sql] </strong></span>and_() and or_() now generate a ColumnElement, allowing
boolean expressions as result columns, i.e.
select([and_(1, 0)]).<a class="changeset-link reference internal" href="#change-a1129d13e840176ff64e74f0dffc726c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/798">#798</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-30"><span class="target" id="change-671d11640be75b25d117c6f76193c982"><strong>[sql] </strong></span>Bind params now subclass ColumnElement which allows them to be
selectable by orm.query (they already had most ColumnElement
semantics).<a class="changeset-link reference internal" href="#change-671d11640be75b25d117c6f76193c982">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-31"><span class="target" id="change-f5e8b1bf0c1545cc9b8fc7694e96dae5"><strong>[sql] </strong></span>Added select_from() method to exists() construct, which becomes
more and more compatible with a regular select().<a class="changeset-link reference internal" href="#change-f5e8b1bf0c1545cc9b8fc7694e96dae5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-32"><span class="target" id="change-53f291443975e20e506406053e65f6cf"><strong>[sql] </strong></span>Added func.min(), func.max(), func.sum() as &#8220;generic functions&#8221;,
which basically allows for their return type to be determined
automatically.  Helps with dates on SQLite, decimal types,
others.<a class="changeset-link reference internal" href="#change-53f291443975e20e506406053e65f6cf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1160">#1160</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-33"><span class="target" id="change-6ff5aacb0dc2056dbbd9f12959e418ce"><strong>[sql] </strong></span>added decimal.Decimal as an &#8220;auto-detect&#8221; type; bind parameters
and generic functions will set their type to Numeric when a
Decimal is used.<a class="changeset-link reference internal" href="#change-6ff5aacb0dc2056dbbd9f12959e418ce">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc1-schema">
<h3>schema<a class="headerlink" href="#change-0.5.0rc1-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-34"><span class="target" id="change-118cc36016ff77010dc9ebd38a2678f8"><strong>[schema] </strong></span>Added &#8220;sorted_tables&#8221; accessor to MetaData, which returns
Table objects sorted in order of dependency as a list.
This deprecates the MetaData.table_iterator() method.
The &#8220;reverse=False&#8221; keyword argument has also been
removed from util.sort_tables(); use the Python
&#8216;reversed&#8217; function to reverse the results.<a class="changeset-link reference internal" href="#change-118cc36016ff77010dc9ebd38a2678f8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1033">#1033</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-35"><span class="target" id="change-3df1db57d8636e669fca26f35905d319"><strong>[schema] </strong></span>The &#8216;length&#8217; argument to all Numeric types has been renamed
to &#8216;scale&#8217;.  &#8216;length&#8217; is deprecated and is still accepted
with a warning.<a class="changeset-link reference internal" href="#change-3df1db57d8636e669fca26f35905d319">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-36"><span class="target" id="change-82b664ad8775fd4fd75ba2bb61a042fa"><strong>[schema] </strong></span>Dropped 0.3-compatibility for user defined types
(convert_result_value, convert_bind_param).<a class="changeset-link reference internal" href="#change-82b664ad8775fd4fd75ba2bb61a042fa">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0rc1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-37"><span class="target" id="change-9c928b587925101f54296fee7112b28f"><strong>[mysql] </strong></span>The &#8216;length&#8217; argument to MSInteger, MSBigInteger, MSTinyInteger,
MSSmallInteger and MSYear has been renamed to &#8216;display_width&#8217;.<a class="changeset-link reference internal" href="#change-9c928b587925101f54296fee7112b28f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0rc1-38"><span class="target" id="change-3399af5fdccc23ec4d96046c565e26d0"><strong>[mysql] </strong></span>Added MSMediumInteger type.<a class="changeset-link reference internal" href="#change-3399af5fdccc23ec4d96046c565e26d0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1146">#1146</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-39"><span class="target" id="change-b6f48386c65fadd6348b47240cc99ec7"><strong>[mysql] </strong></span>the function func.utc_timestamp() compiles to UTC_TIMESTAMP, without
the parenthesis, which seem to get in the way when using in
conjunction with executemany().<a class="changeset-link reference internal" href="#change-b6f48386c65fadd6348b47240cc99ec7">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0rc1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.0rc1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0rc1-40"><span class="target" id="change-d9478b7f320c9377cddae1d8f9c36234"><strong>[oracle] </strong></span>limit/offset no longer uses ROW NUMBER OVER to limit rows,
and instead uses subqueries in conjunction with a special
Oracle optimization comment.  Allows LIMIT/OFFSET to work
in conjunction with DISTINCT.<a class="changeset-link reference internal" href="#change-d9478b7f320c9377cddae1d8f9c36234">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/536">#536</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-41"><span class="target" id="change-abf436d902521e8408645b37f90e121d"><strong>[oracle] </strong></span>has_sequence() now takes the current &#8220;schema&#8221; argument into
account<a class="changeset-link reference internal" href="#change-abf436d902521e8408645b37f90e121d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1155">#1155</a></p>
</p>
</li>
<li><p id="change-0.5.0rc1-42"><span class="target" id="change-2fa10c574344332c1b619fb675705c5f"><strong>[oracle] </strong></span>added BFILE to reflected type names<a class="changeset-link reference internal" href="#change-2fa10c574344332c1b619fb675705c5f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1121">#1121</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0beta3">
<h2>0.5.0beta3<a class="headerlink" href="#change-0.5.0beta3" title="Permalink to this headline">¶</a></h2>
Released: Mon Aug 04 2008<div class="section" id="change-0.5.0beta3-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0beta3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta3-0"><span class="target" id="change-8d0377fde42fb91d7baf63fb6d636deb"><strong>[orm] </strong></span>The &#8220;entity_name&#8221; feature of SQLAlchemy mappers has been
removed.  For rationale, see <a class="reference external" href="http://tinyurl.com/6nm2ne">http://tinyurl.com/6nm2ne</a><a class="changeset-link reference internal" href="#change-8d0377fde42fb91d7baf63fb6d636deb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-1"><span class="target" id="change-bec0f44885ce43df3d6ec5dc39c4df0b"><strong>[orm] </strong></span>the &#8220;autoexpire&#8221; flag on Session, sessionmaker(), and
scoped_session() has been renamed to &#8220;expire_on_commit&#8221;.  It
does not affect the expiration behavior of rollback().<a class="changeset-link reference internal" href="#change-bec0f44885ce43df3d6ec5dc39c4df0b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-2"><span class="target" id="change-ed7c40591d86e7dfb1b66e9045605828"><strong>[orm] </strong></span>fixed endless loop bug which could occur within a mapper&#8217;s
deferred load of inherited attributes.<a class="changeset-link reference internal" href="#change-ed7c40591d86e7dfb1b66e9045605828">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-3"><span class="target" id="change-3f45c3231436d347592f6b1ae72ebb22"><strong>[orm] </strong></span>a legacy-support flag &#8220;_enable_transaction_accounting&#8221; flag
added to Session which when False, disables all
transaction-level object accounting, including expire on
rollback, expire on commit, new/deleted list maintenance, and
autoflush on begin.<a class="changeset-link reference internal" href="#change-3f45c3231436d347592f6b1ae72ebb22">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-4"><span class="target" id="change-0491ac7a585bbfa7d31851026a02f775"><strong>[orm] </strong></span>The &#8216;cascade&#8217; parameter to relation() accepts None as a value,
which is equivalent to no cascades.<a class="changeset-link reference internal" href="#change-0491ac7a585bbfa7d31851026a02f775">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-5"><span class="target" id="change-1cdefc4329206214d319913c733149d1"><strong>[orm] </strong></span>A critical fix to dynamic relations allows the &#8220;modified&#8221;
history to be properly cleared after a flush().<a class="changeset-link reference internal" href="#change-1cdefc4329206214d319913c733149d1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-6"><span class="target" id="change-0bfbb308a2e6b5996f8f092eecc39f27"><strong>[orm] </strong></span>user-defined &#64;properties on a class are detected and left in
place during mapper initialization.  This means that a
table-bound column of the same name will not be mapped at all
if a &#64;property is in the way (and the column is not remapped
to a different name), nor will an instrumented attribute from
an inherited class be applied.  The same rules apply for names
excluded using the include_properties/exclude_properties
collections.<a class="changeset-link reference internal" href="#change-0bfbb308a2e6b5996f8f092eecc39f27">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-7"><span class="target" id="change-8052b127a0d4287b2c71b35d67278832"><strong>[orm] </strong></span>Added a new SessionExtension hook called after_attach().  This
is called at the point of attachment for objects via add(),
add_all(), delete(), and merge().<a class="changeset-link reference internal" href="#change-8052b127a0d4287b2c71b35d67278832">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-8"><span class="target" id="change-bd87173d091ba1e2327191216517b2ef"><strong>[orm] </strong></span>A mapper which inherits from another, when inheriting the
columns of its inherited mapper, will use any reassigned
property names specified in that inheriting mapper.
Previously, if &#8220;Base&#8221; had reassigned &#8220;base_id&#8221; to the name
&#8220;id&#8221;, &#8220;SubBase(Base)&#8221; would still get an attribute called
&#8220;base_id&#8221;.  This could be worked around by explicitly stating
the column in each submapper as well but this is fairly
unworkable and also impossible when using declarative.<a class="changeset-link reference internal" href="#change-bd87173d091ba1e2327191216517b2ef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1111">#1111</a></p>
</p>
</li>
<li><p id="change-0.5.0beta3-9"><span class="target" id="change-4a50d6aaca19e04da5b39026834f7ed1"><strong>[orm] </strong></span>Fixed a series of potential race conditions in Session whereby
asynchronous GC could remove unmodified, no longer referenced
items from the session as they were present in a list of items
to be processed, typically during session.expunge_all() and
dependent methods.<a class="changeset-link reference internal" href="#change-4a50d6aaca19e04da5b39026834f7ed1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-10"><span class="target" id="change-b9a53af1efbb14f9f161dc08e827613b"><strong>[orm] </strong></span>Some improvements to the _CompileOnAttr mechanism which should
reduce the probability of &#8220;Attribute x was not replaced during
compile&#8221; warnings. (this generally applies to SQLA hackers,
like Elixir devs).<a class="changeset-link reference internal" href="#change-b9a53af1efbb14f9f161dc08e827613b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-11"><span class="target" id="change-69d1b37aec0edbfa5bdf17121da26777"><strong>[orm] </strong></span>Fixed bug whereby the &#8220;unsaved, pending instance&#8221; FlushError
raised for a pending orphan would not take superclass mappers
into account when generating the list of relations responsible
for the error.<a class="changeset-link reference internal" href="#change-69d1b37aec0edbfa5bdf17121da26777">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta3-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0beta3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta3-12"><span class="target" id="change-48ee06eba07274b1974325d19e0ef16c"><strong>[sql] </strong></span>func.count() with no arguments renders as COUNT(*), equivalent
to func.count(text(&#8216;*&#8217;)).<a class="changeset-link reference internal" href="#change-48ee06eba07274b1974325d19e0ef16c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-13"><span class="target" id="change-183ed96a85af7c197f43c2af7c82e74f"><strong>[sql] </strong></span>simple label names in ORDER BY expressions render as
themselves, and not as a re-statement of their corresponding
expression.  This feature is currently enabled only for
SQLite, MySQL, and PostgreSQL.  It can be enabled on other
dialects as each is shown to support this
behavior.<a class="changeset-link reference internal" href="#change-183ed96a85af7c197f43c2af7c82e74f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1068">#1068</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0beta3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta3-14"><span class="target" id="change-e39adf863f851364eaafbfc3b919e72e"><strong>[mysql] </strong></span>Quoting of MSEnum values for use in CREATE TABLE is now
optional &amp; will be quoted on demand as required.  (Quoting was
always optional for use with existing tables.)<a class="changeset-link reference internal" href="#change-e39adf863f851364eaafbfc3b919e72e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1110">#1110</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta3-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0beta3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta3-15"><span class="target" id="change-235189d186b64a7c7ade47234481c74d"><strong>[ext] </strong></span>Class-bound attributes sent as arguments to relation()&#8217;s
remote_side and foreign_keys parameters are now accepted,
allowing them to be used with declarative.  Additionally fixed
bugs involving order_by being specified as a class-bound
attribute in conjunction with eager loading.<a class="changeset-link reference internal" href="#change-235189d186b64a7c7ade47234481c74d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta3-16"><span class="target" id="change-e3f67c763727b1ddccb145473793027a"><strong>[ext] </strong></span>declarative initialization of Columns adjusted so that
non-renamed columns initialize in the same way as a non
declarative mapper.  This allows an inheriting mapper to set
up its same-named &#8220;id&#8221; columns in particular such that the
parent &#8220;id&#8221; column is favored over the child column, reducing
database round trips when this value is requested.<a class="changeset-link reference internal" href="#change-e3f67c763727b1ddccb145473793027a">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0beta2">
<h2>0.5.0beta2<a class="headerlink" href="#change-0.5.0beta2" title="Permalink to this headline">¶</a></h2>
Released: Mon Jul 14 2008<div class="section" id="change-0.5.0beta2-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0beta2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta2-0"><span class="target" id="change-b1e13c6f85e4b8bafe152528e9f9e07a"><strong>[orm] </strong></span>In addition to expired attributes, deferred attributes also
load if their data is present in the result set.<a class="changeset-link reference internal" href="#change-b1e13c6f85e4b8bafe152528e9f9e07a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/870">#870</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-1"><span class="target" id="change-4a5df14e5fb13438d6d240dac1d13e53"><strong>[orm] </strong></span>session.refresh() raises an informative error message if the
list of attributes does not include any column-based
attributes.<a class="changeset-link reference internal" href="#change-4a5df14e5fb13438d6d240dac1d13e53">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta2-2"><span class="target" id="change-fa0caf8275a26fd9e51067cf5d068e20"><strong>[orm] </strong></span>query() raises an informative error message if no columns or
mappers are specified.<a class="changeset-link reference internal" href="#change-fa0caf8275a26fd9e51067cf5d068e20">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta2-3"><span class="target" id="change-d224e9594aed7cff19ba7094b073085e"><strong>[orm] </strong></span>lazy loaders now trigger autoflush before proceeding.  This
allows expire() of a collection or scalar relation to function
properly in the context of autoflush.<a class="changeset-link reference internal" href="#change-d224e9594aed7cff19ba7094b073085e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta2-4"><span class="target" id="change-9892cec5efcb4d7e85039be426750151"><strong>[orm] </strong></span>column_property() attributes which represent SQL expressions
or columns that are not present in the mapped tables (such as
those from views) are automatically expired after an INSERT or
UPDATE, assuming they have not been locally modified, so that
they are refreshed with the most recent data upon access.<a class="changeset-link reference internal" href="#change-9892cec5efcb4d7e85039be426750151">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/887">#887</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-5"><span class="target" id="change-29ed27d1f028bd2967bfda14be68016f"><strong>[orm] </strong></span>Fixed explicit, self-referential joins between two
joined-table inheritance mappers when using query.join(cls,
aliased=True).<a class="changeset-link reference internal" href="#change-29ed27d1f028bd2967bfda14be68016f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1082">#1082</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-6"><span class="target" id="change-d63cb33a19f4116c9b7f614872f5e52f"><strong>[orm] </strong></span>Fixed query.join() when used in conjunction with a
columns-only clause and an SQL-expression ON clause in the
join.<a class="changeset-link reference internal" href="#change-d63cb33a19f4116c9b7f614872f5e52f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta2-7"><span class="target" id="change-1997755407d1a2cb2fe8e85e87a44d98"><strong>[orm] </strong></span>The &#8220;allow_column_override&#8221; flag from mapper() has been
removed.  This flag is virtually always misunderstood.  Its
specific functionality is available via the
include_properties/exclude_properties mapper arguments.<a class="changeset-link reference internal" href="#change-1997755407d1a2cb2fe8e85e87a44d98">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta2-8"><span class="target" id="change-f6f8762af002e7d0e73abc9712199669"><strong>[orm] </strong></span>Repaired <cite>__str__()</cite> method on Query.<a class="changeset-link reference internal" href="#change-f6f8762af002e7d0e73abc9712199669">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1066">#1066</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-9"><span class="target" id="change-94cddf78a6e3719011b7fb8e0fd99f57"><strong>[orm] </strong></span>Session.bind gets used as a default even when table/mapper
specific binds are defined.<a class="changeset-link reference internal" href="#change-94cddf78a6e3719011b7fb8e0fd99f57">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta2-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0beta2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta2-10"><span class="target" id="change-30e5ded1589c7de935e27d16fc9ce66f"><strong>[sql] </strong></span>Added new match() operator that performs a full-text search.
Supported on PostgreSQL, SQLite, MySQL, MS-SQL, and Oracle
backends.<a class="changeset-link reference internal" href="#change-30e5ded1589c7de935e27d16fc9ce66f">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta2-schema">
<h3>schema<a class="headerlink" href="#change-0.5.0beta2-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta2-11"><span class="target" id="change-b49475628d312e4c651103bd44dc0215"><strong>[schema] </strong></span>Added prefixes option to <cite>Table</cite> that accepts a list of
strings to insert after CREATE in the CREATE TABLE statement.<a class="changeset-link reference internal" href="#change-b49475628d312e4c651103bd44dc0215">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1075">#1075</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-12"><span class="target" id="change-8a11f0840cf8a84fce22bd2015c35557"><strong>[schema] </strong></span>Unicode, UnicodeText types now set &#8220;assert_unicode&#8221; and
&#8220;convert_unicode&#8221; by default, but accept overriding
<a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs for these values.<a class="changeset-link reference internal" href="#change-8a11f0840cf8a84fce22bd2015c35557">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.5.0beta2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta2-13"><span class="target" id="change-e9e212bbf32020e1d5b9a70c4bd065ec"><strong>[sqlite] </strong></span>Modified SQLite&#8217;s representation of &#8220;microseconds&#8221; to match
the output of str(somedatetime), i.e. in that the microseconds
are represented as fractional seconds in string format.  This
makes SQLA&#8217;s SQLite date type compatible with datetimes that
were saved directly using Pysqlite (which just calls str()).
Note that this is incompatible with the existing microseconds
values in a SQLA 0.4 generated SQLite database file.<p>To get the old behavior globally:</p>
<blockquote>
<div>from sqlalchemy.databases.sqlite import DateTimeMixin
DateTimeMixin.__legacy_microseconds__ = True</div></blockquote>
<p>To get the behavior on individual DateTime types:</p>
<blockquote>
<div>t = sqlite.SLDateTime()
t.__legacy_microseconds__ = True</div></blockquote>
<p>Then use &#8220;t&#8221; as the type on the Column.</p>
<a class="changeset-link reference internal" href="#change-e9e212bbf32020e1d5b9a70c4bd065ec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1090">#1090</a></p>
</p>
</li>
<li><p id="change-0.5.0beta2-14"><span class="target" id="change-356bd5509442671308af59a77f38afbd"><strong>[sqlite] </strong></span>SQLite Date, DateTime, and Time types only accept Python
datetime objects now, not strings.  If you&#8217;d like to format
dates as strings yourself with SQLite, use a String type.  If
you&#8217;d like them to return datetime objects anyway despite
their accepting strings as input, make a TypeDecorator around
String - SQLA doesn&#8217;t encourage this pattern.<a class="changeset-link reference internal" href="#change-356bd5509442671308af59a77f38afbd">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta2-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0beta2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta2-15"><span class="target" id="change-06ba6db4e394283ba0869cd8dd51438c"><strong>[extensions] </strong></span>Declarative supports a __table_args__ class variable, which is
either a dictionary, or tuple of the form (arg1, arg2, ...,
{kwarg1:value, ...}) which contains positional + kw arguments
to be passed to the Table constructor.<a class="changeset-link reference internal" href="#change-06ba6db4e394283ba0869cd8dd51438c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1096">#1096</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.5.0beta1">
<h2>0.5.0beta1<a class="headerlink" href="#change-0.5.0beta1" title="Permalink to this headline">¶</a></h2>
Released: Thu Jun 12 2008<div class="section" id="change-0.5.0beta1-general">
<h3>general<a class="headerlink" href="#change-0.5.0beta1-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-0"><span class="target" id="change-597be5c4a9e70acebf3140485193fba9"><strong>[general] </strong></span>global &#8220;propigate&#8221;-&gt;&#8221;propagate&#8221; change.<a class="changeset-link reference internal" href="#change-597be5c4a9e70acebf3140485193fba9">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-orm">
<h3>orm<a class="headerlink" href="#change-0.5.0beta1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-1"><span class="target" id="change-82d1bf98ab627972f0337511ff68952a"><strong>[orm] </strong></span>polymorphic_union() function respects the &#8220;key&#8221; of each
Column if they differ from the column&#8217;s name.<a class="changeset-link reference internal" href="#change-82d1bf98ab627972f0337511ff68952a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-2"><span class="target" id="change-40f4ed47012478d45197ff8e06350ea0"><strong>[orm] </strong></span>Fixed 0.4-only bug preventing composite columns
from working properly with inheriting mappers<a class="changeset-link reference internal" href="#change-40f4ed47012478d45197ff8e06350ea0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1199">#1199</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-3"><span class="target" id="change-c716495e2a464fb8ce720403397e97de"><strong>[orm] </strong></span>Fixed RLock-related bug in mapper which could deadlock upon
reentrant mapper compile() calls, something that occurs when
using declarative constructs inside of ForeignKey objects.
Ported from 0.5.<a class="changeset-link reference internal" href="#change-c716495e2a464fb8ce720403397e97de">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-4"><span class="target" id="change-6da5dc80f326fc681ebf9c54a5ffa9c6"><strong>[orm] </strong></span>Fixed bug in composite types which prevented a primary-key
composite type from being mutated.<a class="changeset-link reference internal" href="#change-6da5dc80f326fc681ebf9c54a5ffa9c6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1213">#1213</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-5"><span class="target" id="change-e60b511fbaf0001cde702449ecb0104a"><strong>[orm] </strong></span>Added ScopedSession.is_active accessor.<a class="changeset-link reference internal" href="#change-e60b511fbaf0001cde702449ecb0104a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/976">#976</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-6"><span class="target" id="change-ba55e63a03bb8ec099147f6a87c61615"><strong>[orm] </strong></span>Class-bound accessor can be used as the argument to
relation() order_by.<a class="changeset-link reference internal" href="#change-ba55e63a03bb8ec099147f6a87c61615">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/939">#939</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-7"><span class="target" id="change-bd5038cfd61379dab45f5b5efb96d141"><strong>[orm] </strong></span>Fixed shard_id argument on ShardedSession.execute().<a class="changeset-link reference internal" href="#change-bd5038cfd61379dab45f5b5efb96d141">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1072">#1072</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-sql">
<h3>sql<a class="headerlink" href="#change-0.5.0beta1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-8"><span class="target" id="change-29be44a1f0bc1caa144b8bc1beb51489"><strong>[sql] </strong></span>Connection.invalidate() checks for closed status
to avoid attribute errors.<a class="changeset-link reference internal" href="#change-29be44a1f0bc1caa144b8bc1beb51489">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1246">#1246</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-9"><span class="target" id="change-16e86878cd9e70fedc4666e21ba59cf5"><strong>[sql] </strong></span>NullPool supports reconnect on failure behavior.<a class="changeset-link reference internal" href="#change-16e86878cd9e70fedc4666e21ba59cf5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1094">#1094</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-10"><span class="target" id="change-1a0630c7f407b3faf362899ef82ad169"><strong>[sql] </strong></span>The per-dialect cache used by TypeEngine to cache
dialect-specific types is now a WeakKeyDictionary.
This to prevent dialect objects from
being referenced forever for an application that
creates an arbitrarily large number of engines
or dialects.   There is a small performance penalty
which will be resolved in 0.6.<a class="changeset-link reference internal" href="#change-1a0630c7f407b3faf362899ef82ad169">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1299">#1299</a></p>
</p>
</li>
<li><p id="change-0.5.0beta1-11"><span class="target" id="change-df3932569fdafeb934c94108dca3f10c"><strong>[sql] </strong></span>Fixed SQLite reflection methods so that non-present
cursor.description, which triggers an auto-cursor
close, will be detected so that no results doesn&#8217;t
fail on recent versions of pysqlite which raise
an error when fetchone() called with no rows present.<a class="changeset-link reference internal" href="#change-df3932569fdafeb934c94108dca3f10c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.5.0beta1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-12"><span class="target" id="change-8e90da9f21562be95b0bfbd2c9e027d6"><strong>[mysql] </strong></span>Fixed bug in exception raise when FK columns not present
during reflection.<a class="changeset-link reference internal" href="#change-8e90da9f21562be95b0bfbd2c9e027d6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1241">#1241</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-oracle">
<h3>oracle<a class="headerlink" href="#change-0.5.0beta1-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-13"><span class="target" id="change-4b9a389dc0d41e5883225b92c038f6b6"><strong>[oracle] </strong></span>Fixed bug which was preventing out params of certain types
from being received; thanks a ton to huddlej at wwu.edu !<a class="changeset-link reference internal" href="#change-4b9a389dc0d41e5883225b92c038f6b6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1265">#1265</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.5.0beta1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-14"><span class="target" id="change-f80867c91e5a7fd60be40e84b6b45c1c"><strong>[firebird] </strong></span>Added support for returning values from inserts (2.0+ only),
updates and deletes (2.1+ only).<a class="changeset-link reference internal" href="#change-f80867c91e5a7fd60be40e84b6b45c1c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.5.0beta1-misc">
<h3>misc<a class="headerlink" href="#change-0.5.0beta1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.5.0beta1-15"><span class="target" id="change-4c74f38b423ff53dcd4b7fa1966af84d"></span>The &#8220;__init__&#8221; trigger/decorator added by mapper now attempts
to exactly mirror the argument signature of the original
__init__.  The pass-through for &#8216;_sa_session&#8217; is no longer
implicit- you must allow for this keyword argument in your
constructor.<a class="changeset-link reference internal" href="#change-4c74f38b423ff53dcd4b7fa1966af84d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-16"><span class="target" id="change-980210cb8cdd5ceea64cd04baa489570"></span>ClassState is renamed to ClassManager.<a class="changeset-link reference internal" href="#change-980210cb8cdd5ceea64cd04baa489570">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-17"><span class="target" id="change-9cbc088fadfe2d0e1f287573f9baa15e"></span>Classes may supply their own InstrumentationManager by
providing a __sa_instrumentation_manager__ property.<a class="changeset-link reference internal" href="#change-9cbc088fadfe2d0e1f287573f9baa15e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-18"><span class="target" id="change-e6063cfb03c99c975326810501e82cdc"></span>Custom instrumentation may use any mechanism to associate a
ClassManager with a class and an InstanceState with an
instance.  Attributes on those objects are still the default
association mechanism used by SQLAlchemy&#8217;s native
instrumentation.<a class="changeset-link reference internal" href="#change-e6063cfb03c99c975326810501e82cdc">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-19"><span class="target" id="change-d0e462bbc183d7226f97f17ecbb388a2"></span>Moved entity_name, _sa_session_id, and _instance_key from the
instance object to the instance state.  These values are still
available in the old way, which is now deprecated, using
descriptors attached to the class.  A deprecation warning will
be issued when accessed.<a class="changeset-link reference internal" href="#change-d0e462bbc183d7226f97f17ecbb388a2">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-20"><span class="target" id="change-4c81de802c5b169c064df29a7b362856"></span>The _prepare_instrumentation alias for prepare_instrumentation
has been removed.<a class="changeset-link reference internal" href="#change-4c81de802c5b169c064df29a7b362856">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-21"><span class="target" id="change-f109a7bb053325a3920397d52b10afba"></span>sqlalchemy.exceptions has been renamed to sqlalchemy.exc.  The
module may be imported under either name.<a class="changeset-link reference internal" href="#change-f109a7bb053325a3920397d52b10afba">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-22"><span class="target" id="change-5787d3423a68487bb24c139973934eed"></span>ORM-related exceptions are now defined in sqlalchemy.orm.exc.
ConcurrentModificationError, FlushError, and
UnmappedColumnError compatibility aliases are installed in
sqlalchemy.exc during the import of sqlalchemy.orm.<a class="changeset-link reference internal" href="#change-5787d3423a68487bb24c139973934eed">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-23"><span class="target" id="change-2d6f76209ea09a87b60ecfd470463e1e"></span>sqlalchemy.logging has been renamed to sqlalchemy.log.<a class="changeset-link reference internal" href="#change-2d6f76209ea09a87b60ecfd470463e1e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-24"><span class="target" id="change-11111e8dff7ace83b711108d6ca580af"></span>The transitional sqlalchemy.log.SADeprecationWarning alias for
the warning&#8217;s definition in sqlalchemy.exc has been removed.<a class="changeset-link reference internal" href="#change-11111e8dff7ace83b711108d6ca580af">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-25"><span class="target" id="change-37d168fda1270d938e3c6dbec83f764b"></span>exc.AssertionError has been removed and usage replaced with
Python&#8217;s built-in AssertionError.<a class="changeset-link reference internal" href="#change-37d168fda1270d938e3c6dbec83f764b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-26"><span class="target" id="change-31be20aa80e30309ce588ebcaab5bdab"></span>The behavior of MapperExtensions attached to multiple,
entity_name= primary mappers for a single class has been
altered.  The first mapper() defined for a class is the only
mapper eligible for the MapperExtension &#8216;instrument_class&#8217;,
&#8216;init_instance&#8217; and &#8216;init_failed&#8217; events.  This is backwards
incompatible; previously the extensions of last mapper defined
would receive these events.<a class="changeset-link reference internal" href="#change-31be20aa80e30309ce588ebcaab5bdab">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.5.0beta1-27"><span class="target" id="change-de2200a740660664c93871010b7c242f"><strong>[postgres] </strong></span>Added Index reflection support to Postgres, using a
great patch we long neglected, submitted by
Ken Kuhlman.<a class="changeset-link reference internal" href="#change-de2200a740660664c93871010b7c242f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/714">#714</a></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links">
        Previous:
        <a href="changelog_06.html" title="previous chapter">0.6 Changelog</a>
        Next:
        <a href="changelog_04.html" title="next chapter">0.4 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2013, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
</div>

</div>

        
    </body>
</html>


