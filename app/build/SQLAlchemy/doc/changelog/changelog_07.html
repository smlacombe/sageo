<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
                0.7 Changelog
             &mdash; 
    SQLAlchemy 0.8 Documentation

        </title>
        
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/docs.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '0.8.1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 0.8 Documentation" href="../index.html" />
        <link rel="up" title="Changes and Migration" href="index.html" />
        <link rel="next" title="0.6 Changelog" href="changelog_06.html" />
        <link rel="prev" title="0.8 Changelog" href="changelog_08.html" />

    </head>
    <body>
        










<div id="docs-container">



<div id="docs-header">
    <h1>SQLAlchemy 0.8 Documentation</h1>

    <div id="docs-search">
    Search:
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>

    <div id="docs-version-header">
        Release: <span class="version-num">0.8.1</span> | Release Date: April 27, 2013


    </div>

</div>

<div id="docs-top-navigation">
    <div id="docs-top-page-control" class="docs-navigation-links">
        <ul>
            <li>Prev:
            <a href="changelog_08.html" title="previous chapter">0.8 Changelog</a>
            </li>
            <li>Next:
            <a href="changelog_06.html" title="next chapter">0.6 Changelog</a>
            </li>

        <li>
            <a href="../contents.html">Table of Contents</a> |
            <a href="../genindex.html">Index</a>
            | <a href="../_sources/changelog/changelog_07.txt">view source
        </li>
        </ul>
    </div>

    <div id="docs-navigation-banner">
        <a href="../index.html">SQLAlchemy 0.8 Documentation</a>
                » <a href="index.html" title="Changes and Migration">Changes and Migration</a>
        » 
                0.7 Changelog
             

        <h2>
            
                0.7 Changelog
            
        </h2>
    </div>

</div>

<div id="docs-body-container">

    <div id="docs-sidebar">
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">0.7 Changelog</a><ul>
<li><a class="reference internal" href="#change-0.7.11">0.7.11</a><ul>
<li><a class="reference internal" href="#change-0.7.11-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.11-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.11-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.10">0.7.10</a><ul>
<li><a class="reference internal" href="#change-0.7.10-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.10-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.10-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.10-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.10-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.10-oracle">oracle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.9">0.7.9</a><ul>
<li><a class="reference internal" href="#change-0.7.9-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.9-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.9-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.9-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.9-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.9-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.9-mssql">mssql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.8">0.7.8</a><ul>
<li><a class="reference internal" href="#change-0.7.8-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.8-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.8-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.8-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.8-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.8-oracle">oracle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.7">0.7.7</a><ul>
<li><a class="reference internal" href="#change-0.7.7-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.7-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.7-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.7-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.7-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.7-mssql">mssql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.6">0.7.6</a><ul>
<li><a class="reference internal" href="#change-0.7.6-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.6-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.6-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.6-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.6-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.6-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.6-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.7.6-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.5">0.7.5</a><ul>
<li><a class="reference internal" href="#change-0.7.5-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.5-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.5-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.5-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.5-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.5-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.5-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.7.5-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.4">0.7.4</a><ul>
<li><a class="reference internal" href="#change-0.7.4-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.4-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.4-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.4-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.7.4-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.4-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.4-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.4-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.3">0.7.3</a><ul>
<li><a class="reference internal" href="#change-0.7.3-general">general</a></li>
<li><a class="reference internal" href="#change-0.7.3-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.3-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.3-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.7.3-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.3-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.3-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.3-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.3-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.7.3-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.2">0.7.2</a><ul>
<li><a class="reference internal" href="#change-0.7.2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.2-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.2-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.7.2-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.2-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.2-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.2-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.2-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.7.2-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.1">0.7.1</a><ul>
<li><a class="reference internal" href="#change-0.7.1-general">general</a></li>
<li><a class="reference internal" href="#change-0.7.1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.1-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.1-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.1-sqlite">sqlite</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.0">0.7.0</a><ul>
<li><a class="reference internal" href="#change-0.7.0-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.0-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.0-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.0-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.0-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.0b4">0.7.0b4</a><ul>
<li><a class="reference internal" href="#change-0.7.0b4-general">general</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-schema">schema</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-sqlite">sqlite</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-oracle">oracle</a></li>
<li><a class="reference internal" href="#change-0.7.0b4-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.0b3">0.7.0b3</a><ul>
<li><a class="reference internal" href="#change-0.7.0b3-general">general</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-engine">engine</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-firebird">firebird</a></li>
<li><a class="reference internal" href="#change-0.7.0b3-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.0b2">0.7.0b2</a><ul>
<li><a class="reference internal" href="#change-0.7.0b2-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.0b2-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.7.0b2-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.0b2-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.0b2-misc">misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-0.7.0b1">0.7.0b1</a><ul>
<li><a class="reference internal" href="#change-0.7.0b1-general">general</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-orm">orm</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-orm-declarative">orm declarative</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-sql">sql</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-postgresql">postgresql</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-mysql">mysql</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-mssql">mssql</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-firebird">firebird</a></li>
<li><a class="reference internal" href="#change-0.7.0b1-misc">misc</a></li>
</ul>
</li>
</ul>
</li>
</ul>


    <h4>Previous Topic</h4>
    <p>
    <a href="changelog_08.html" title="previous chapter">0.8 Changelog</a>
    </p>
    <h4>Next Topic</h4>
    <p>
    <a href="changelog_06.html" title="next chapter">0.6 Changelog</a>
    </p>


    <h4>Quick Search</h4>
    <p>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" /> <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </p>

    </div>

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="changelog">
<h1>0.7 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="change-0.7.11">
<h2>0.7.11<a class="headerlink" href="#change-0.7.11" title="Permalink to this headline">¶</a></h2>
no release date<div class="section" id="change-0.7.11-orm">
<h3>orm<a class="headerlink" href="#change-0.7.11-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.11-0"><span class="target" id="change-67c2029e6f187392003eec283687e00e"><strong>[orm] [bug] </strong></span>Fixed bug when a query of the form:
<tt class="docutils literal"><span class="pre">query(SubClass).options(subqueryload(Baseclass.attrname))</span></tt>,
where <tt class="docutils literal"><span class="pre">SubClass</span></tt> is a joined inh of <tt class="docutils literal"><span class="pre">BaseClass</span></tt>,
would fail to apply the <tt class="docutils literal"><span class="pre">JOIN</span></tt> inside the subquery
on the attribute load, producing a cartesian product.
The populated results still tended to be correct as additional
rows are just ignored, so this issue may be present as a
performance degradation in applications that are
otherwise working correctly.<a class="changeset-link reference internal" href="#change-67c2029e6f187392003eec283687e00e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2699">#2699</a></p>
</p>
</li>
<li><p id="change-0.7.11-1"><span class="target" id="change-70b9b9893c9cd22af7e63065e86830bc"><strong>[orm] [bug] </strong></span>Fixed bug in unit of work whereby a joined-inheritance
subclass could insert the row for the &#8220;sub&#8221; table
before the parent table, if the two tables had no
ForeignKey constraints set up between them.<a class="changeset-link reference internal" href="#change-70b9b9893c9cd22af7e63065e86830bc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2689">#2689</a></p>
</p>
</li>
<li><p id="change-0.7.11-2"><span class="target" id="change-8a5e83498c9c0eded67638e01d96e699"><strong>[orm] [bug] </strong></span>Improved the error message emitted when a &#8220;backref loop&#8221; is detected,
that is when an attribute event triggers a bidirectional
assignment between two other attributes with no end.
This condition can occur not just when an object of the wrong
type is assigned, but also when an attribute is mis-configured
to backref into an existing backref pair.<a class="changeset-link reference internal" href="#change-8a5e83498c9c0eded67638e01d96e699">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
<li><p id="change-0.7.11-3"><span class="target" id="change-efb22c6e4fe4f34fd6705e77ab5f9bfa"><strong>[orm] [bug] </strong></span>A warning is emitted when a MapperProperty is assigned to a mapper
that replaces an existing property, if the properties in question
aren&#8217;t plain column-based properties.   Replacement of relationship
properties is rarely (ever?) what is intended and usually refers to a
mapper mis-configuration.   This will also warn if a backref configures
itself on top of an existing one in an inheritance relationship
(which is an error in 0.8).<a class="changeset-link reference internal" href="#change-efb22c6e4fe4f34fd6705e77ab5f9bfa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">#2674</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.11-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.11-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.11-4"><span class="target" id="change-4be83fabc8054be90db8d9ea622ea32c"><strong>[postgresql] [feature] </strong></span>Added support for Postgresql&#8217;s traditional SUBSTRING
function syntax, renders as &#8220;SUBSTRING(x FROM y FOR z)&#8221;
when regular <tt class="docutils literal"><span class="pre">func.substring()</span></tt> is used.
Courtesy Gunnlaugur Þór Briem.<a class="changeset-link reference internal" href="#change-4be83fabc8054be90db8d9ea622ea32c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2676">#2676</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.11-misc">
<h3>misc<a class="headerlink" href="#change-0.7.11-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.11-5"><span class="target" id="change-2f7a576e7a8d284e37a6743b00f108d6"><strong>[bug] [tests] </strong></span>Fixed an import of &#8220;logging&#8221; in test_execute which was not
working on some linux platforms.<a class="changeset-link reference internal" href="#change-2f7a576e7a8d284e37a6743b00f108d6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2669">#2669</a>, <a class="reference external" href="https://bitbucket.org/sqlalchemy/sqlalchemy/pull-request/41">pull request 41</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.10">
<h2>0.7.10<a class="headerlink" href="#change-0.7.10" title="Permalink to this headline">¶</a></h2>
Released: Thu Feb 7 2013<div class="section" id="change-0.7.10-orm">
<h3>orm<a class="headerlink" href="#change-0.7.10-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-0"><span class="target" id="change-db2025d4880044d4cbb1b4c52be875bb"><strong>[orm] [bug] </strong></span>Fixed potential memory leak which could occur if an
arbitrary number of <a class="reference internal" href="../orm/session.html#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><tt class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></tt></a> objects
were created.   The anonymous subclass created by
the sessionmaker, when dereferenced, would not be garbage
collected due to remaining class-level references from the
event package.  This issue also applies to any custom system
that made use of ad-hoc subclasses in conjunction with
an event dispatcher.<a class="changeset-link reference internal" href="#change-db2025d4880044d4cbb1b4c52be875bb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2650">#2650</a></p>
</p>
</li>
<li><p id="change-0.7.10-1"><span class="target" id="change-7067a9d674a48894b96003b25993413c"><strong>[orm] [bug] </strong></span><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><tt class="xref py py-meth docutils literal"><span class="pre">Query.merge_result()</span></tt></a> can now load rows from an outer join
where an entity may be <tt class="docutils literal"><span class="pre">None</span></tt> without throwing an error.<a class="changeset-link reference internal" href="#change-7067a9d674a48894b96003b25993413c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2640">#2640</a></p>
</p>
</li>
<li><p id="change-0.7.10-2"><span class="target" id="change-2ddfafd175eec1a2d9f2b88808c52919"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><tt class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></tt></a> type did not allow for the
<a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><tt class="xref py py-meth docutils literal"><span class="pre">MutableBase.coerce()</span></tt></a> method to be used, even though
the code seemed to indicate this intent, so this now works
and a brief example is added.  As a side-effect,
the mechanics of this event handler have been changed so that
new <a class="reference internal" href="../orm/extensions/mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><tt class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></tt></a> types no longer add per-type
global event handlers.  Also in 0.8.0b2.<a class="changeset-link reference internal" href="#change-2ddfafd175eec1a2d9f2b88808c52919">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2624">#2624</a></p>
</p>
</li>
<li><p id="change-0.7.10-3"><span class="target" id="change-9534301c57ebb1ebcccf0b9a29165daa"><strong>[orm] [bug] </strong></span>Fixed Session accounting bug whereby replacing
a deleted object in the identity map with another
object of the same primary key would raise a
&#8220;conflicting state&#8221; error on rollback(),
if the replaced primary key were established either
via non-unitofwork-established INSERT statement
or by primary key switch of another instance.<a class="changeset-link reference internal" href="#change-9534301c57ebb1ebcccf0b9a29165daa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2583">#2583</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.10-sql">
<h3>sql<a class="headerlink" href="#change-0.7.10-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-4"><span class="target" id="change-9c4c1ed9adc28c0f4580ffb99fe90993"><strong>[sql] [bug] </strong></span>Backported adjustment to <tt class="docutils literal"><span class="pre">__repr__</span></tt> for
<a class="reference internal" href="../core/types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><tt class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></tt></a> to 0.7, allows <a class="reference internal" href="../core/types.html#sqlalchemy.types.PickleType" title="sqlalchemy.types.PickleType"><tt class="xref py py-class docutils literal"><span class="pre">PickleType</span></tt></a>
to produce a clean <tt class="docutils literal"><span class="pre">repr()</span></tt> to help with Alembic.<a class="changeset-link reference internal" href="#change-9c4c1ed9adc28c0f4580ffb99fe90993">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2594">#2594</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2584">#2584</a></p>
</p>
</li>
<li><p id="change-0.7.10-5"><span class="target" id="change-8f574adb5328ea81c58038e0dc84e0f1"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><tt class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></tt></a> would fail if a
<a class="reference internal" href="../core/schema.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> had both a foreign key as well as an
alternate &#8221;.key&#8221; name for the column.<a class="changeset-link reference internal" href="#change-8f574adb5328ea81c58038e0dc84e0f1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2643">#2643</a></p>
</p>
</li>
<li><p id="change-0.7.10-6"><span class="target" id="change-ec0e00d90e249bad5a39a8d564525068"><strong>[sql] [bug] </strong></span>Fixed bug where using server_onupdate=&lt;FetchedValue|DefaultClause&gt;
without passing the &#8220;for_update=True&#8221; flag would apply the default
object to the server_default, blowing away whatever was there.
The explicit for_update=True argument shouldn&#8217;t be needed with this usage
(especially since the documentation shows an example without it being
used) so it is now arranged internally using a copy of the given default
object, if the flag isn&#8217;t set to what corresponds to that argument.<a class="changeset-link reference internal" href="#change-ec0e00d90e249bad5a39a8d564525068">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2631">#2631</a></p>
</p>
</li>
<li><p id="change-0.7.10-7"><span class="target" id="change-681094e6f3e1bffd849392f4ef50efd1"><strong>[sql] [gae] [mysql] </strong></span>Added a conditional import to the <tt class="docutils literal"><span class="pre">gaerdbms</span></tt> dialect which attempts
to import rdbms_apiproxy vs. rdbms_googleapi to work
on both dev and production platforms.  Also now honors the
<tt class="docutils literal"><span class="pre">instance</span></tt> attribute.  Courtesy Sean Lynch.  Also backported
enhancements to allow username/password as well as
fixing error code interpretation from 0.8.<a class="changeset-link reference internal" href="#change-681094e6f3e1bffd849392f4ef50efd1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2649">#2649</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.10-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.10-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-8"><span class="target" id="change-9bcc7f0ebf5e91716c978537334baec1"><strong>[mysql] [feature] </strong></span>Added &#8220;raise_on_warnings&#8221; flag to OurSQL
dialect.<a class="changeset-link reference internal" href="#change-9bcc7f0ebf5e91716c978537334baec1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2523">#2523</a></p>
</p>
</li>
<li><p id="change-0.7.10-9"><span class="target" id="change-da61da414d2d06ce1fe869fffadd047d"><strong>[mysql] [feature] </strong></span>Added &#8220;read_timeout&#8221; flag to MySQLdb
dialect.<a class="changeset-link reference internal" href="#change-da61da414d2d06ce1fe869fffadd047d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2554">#2554</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.10-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.10-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-10"><span class="target" id="change-9ff462ffd5c5507b484d835789aa8c2d"><strong>[sqlite] [bug] </strong></span>More adjustment to this SQLite related issue which was released in
0.7.9, to intercept legacy SQLite quoting characters when reflecting
foreign keys.  In addition to intercepting double quotes, other
quoting characters such as brackets, backticks, and single quotes
are now also intercepted.<a class="changeset-link reference internal" href="#change-9ff462ffd5c5507b484d835789aa8c2d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">#2568</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.10-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.10-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-11"><span class="target" id="change-6a9f365322c513e531df8e04398b73ed"><strong>[mssql] [bug] </strong></span>Added a Py3K conditional around unnecessary .decode()
call in mssql information schema, fixes reflection
in Py3k.<a class="changeset-link reference internal" href="#change-6a9f365322c513e531df8e04398b73ed">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2638">#2638</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.10-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.10-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.10-12"><span class="target" id="change-edf0bd57d1a082833b533bbae1afe691"><strong>[oracle] [bug] </strong></span>The Oracle LONG type, while an unbounded text type, does not appear
to use the cx_Oracle.LOB type when result rows are returned,
so the dialect has been repaired to exclude LONG from
having cx_Oracle.LOB filtering applied.<a class="changeset-link reference internal" href="#change-edf0bd57d1a082833b533bbae1afe691">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2620">#2620</a></p>
</p>
</li>
<li><p id="change-0.7.10-13"><span class="target" id="change-cbc0a0886495a3f69359e08b1582633f"><strong>[oracle] [bug] </strong></span>Repaired the usage of <tt class="docutils literal"><span class="pre">.prepare()</span></tt> in conjunction with
cx_Oracle so that a return value of <tt class="docutils literal"><span class="pre">False</span></tt> will result
in no call to <tt class="docutils literal"><span class="pre">connection.commit()</span></tt>, hence avoiding
&#8220;no transaction&#8221; errors.   Two-phase transactions have
now been shown to work in a rudimental fashion with
SQLAlchemy and cx_oracle, however are subject to caveats
observed with the driver; check the documentation
for details.<a class="changeset-link reference internal" href="#change-cbc0a0886495a3f69359e08b1582633f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">#2611</a></p>
</p>
</li>
<li><p id="change-0.7.10-14"><span class="target" id="change-56a98378c99586a41c5d39996c01b27e"><strong>[oracle] [bug] </strong></span>changed the list of cx_oracle types that are
excluded from the setinputsizes() step to only include
STRING and UNICODE; CLOB and NCLOB are removed.  This
is to work around cx_oracle behavior which is broken
for the executemany() call.  In 0.8, this same change
is applied however it is also configurable via the
exclude_setinputsizes argument.<a class="changeset-link reference internal" href="#change-56a98378c99586a41c5d39996c01b27e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2561">#2561</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.9">
<h2>0.7.9<a class="headerlink" href="#change-0.7.9" title="Permalink to this headline">¶</a></h2>
Released: Mon Oct 01 2012<div class="section" id="change-0.7.9-orm">
<h3>orm<a class="headerlink" href="#change-0.7.9-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-0"><span class="target" id="change-7ca09fd9ba363a768515fbe6b4bb8064"><strong>[orm] [bug] </strong></span>Fixed bug mostly local to new
AbstractConcreteBase helper where the &#8220;type&#8221;
attribute from the superclass would not
be overridden on the subclass to produce the
&#8220;reserved for base&#8221; error message, instead placing
a do-nothing attribute there.  This was inconsistent
vs. using ConcreteBase as well as all the behavior
of classical concrete mappings, where the &#8220;type&#8221;
column from the polymorphic base would be explicitly
disabled on subclasses, unless overridden
explicitly.<a class="changeset-link reference internal" href="#change-7ca09fd9ba363a768515fbe6b4bb8064">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.9-1"><span class="target" id="change-27c5a25c7b22fafc80e0458e6f02d61f"><strong>[orm] [bug] </strong></span>A warning is emitted when lazy=&#8217;dynamic&#8217;
is combined with uselist=False.  This is an
exception raise in 0.8.<a class="changeset-link reference internal" href="#change-27c5a25c7b22fafc80e0458e6f02d61f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.9-2"><span class="target" id="change-2cf1cdfdb883b1ac858fc99c3fd44c54"><strong>[orm] [bug] </strong></span>Fixed bug whereby user error in related-object
assignment could cause recursion overflow if the
assignment triggered a backref of the same name
as a bi-directional attribute on the incorrect
class to the same target.  An informative
error is raised now.<a class="changeset-link reference internal" href="#change-2cf1cdfdb883b1ac858fc99c3fd44c54">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.9-3"><span class="target" id="change-2e086c449ad8b7f942f441534d3a1099"><strong>[orm] [bug] </strong></span>Fixed bug where incorrect type information
would be passed when the ORM would bind the
&#8220;version&#8221; column, when using the &#8220;version&#8221; feature.
Tests courtesy Daniel Miller.<a class="changeset-link reference internal" href="#change-2e086c449ad8b7f942f441534d3a1099">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2539">#2539</a></p>
</p>
</li>
<li><p id="change-0.7.9-4"><span class="target" id="change-75a53327aac5791fe98ec087706a2821"><strong>[orm] [bug] </strong></span>Extra logic has been added to the &#8220;flush&#8221;
that occurs within Session.commit(), such that the
extra state added by an after_flush() or
after_flush_postexec() hook is also flushed in a
subsequent flush, before the &#8220;commit&#8221; completes.
Subsequent calls to flush() will continue until
the after_flush hooks stop adding new state.
An &#8220;overflow&#8221; counter of 100 is also in place,
in the event of a broken after_flush() hook
adding new content each time.<a class="changeset-link reference internal" href="#change-75a53327aac5791fe98ec087706a2821">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2566">#2566</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-engine">
<h3>engine<a class="headerlink" href="#change-0.7.9-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-5"><span class="target" id="change-1ea4b7b984950d31f63149e35daeabd8"><strong>[engine] [feature] </strong></span>Dramatic improvement in memory
usage of the event system; instance-level
collections are no longer created for a
particular type of event until
instance-level listeners are established
for that event.<a class="changeset-link reference internal" href="#change-1ea4b7b984950d31f63149e35daeabd8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2516">#2516</a></p>
</p>
</li>
<li><p id="change-0.7.9-6"><span class="target" id="change-fdcd7c2b744d1b0517dcd661225c5861"><strong>[engine] [bug] </strong></span>Fixed bug whereby
a disconnect detect + dispose that occurs
when the QueuePool has threads waiting
for connections would leave those
threads waiting for the duration of
the timeout on the old pool (or indefinitely
if timeout was disabled).  The fix
now notifies those waiters with a special
exception case and has them move onto
the new pool.<a class="changeset-link reference internal" href="#change-fdcd7c2b744d1b0517dcd661225c5861">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">#2522</a></p>
</p>
</li>
<li><p id="change-0.7.9-7"><span class="target" id="change-58d069563938eacae32bc49a7fa487a9"><strong>[engine] [bug] </strong></span>Added gaerdbms import to mysql/__init__.py,
the absense of which was preventing the new
GAE dialect from being loaded.<a class="changeset-link reference internal" href="#change-58d069563938eacae32bc49a7fa487a9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2529">#2529</a></p>
</p>
</li>
<li><p id="change-0.7.9-8"><span class="target" id="change-1611076226ee618bce70e17a998bb142"><strong>[engine] [bug] </strong></span>Fixed cextension bug whereby the
&#8220;ambiguous column error&#8221; would fail to
function properly if the given index were
a Column object and not a string.
Note there are still some column-targeting
issues here which are fixed in 0.8.<a class="changeset-link reference internal" href="#change-1611076226ee618bce70e17a998bb142">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2553">#2553</a></p>
</p>
</li>
<li><p id="change-0.7.9-9"><span class="target" id="change-7a5dc641918acd3079fdf695b99feac6"><strong>[engine] [bug] </strong></span>Fixed the repr() of Enum to include
the &#8220;name&#8221; and &#8220;native_enum&#8221; flags.  Helps
Alembic autogenerate.<a class="changeset-link reference internal" href="#change-7a5dc641918acd3079fdf695b99feac6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-sql">
<h3>sql<a class="headerlink" href="#change-0.7.9-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-10"><span class="target" id="change-4fa1e0b9d25273b768a3d9102cfc3964"><strong>[sql] [bug] </strong></span>Fixed the DropIndex construct to support
an Index associated with a Table in a remote
schema.<a class="changeset-link reference internal" href="#change-4fa1e0b9d25273b768a3d9102cfc3964">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2571">#2571</a></p>
</p>
</li>
<li><p id="change-0.7.9-11"><span class="target" id="change-de56e0073210255535e501662d7f096a"><strong>[sql] [bug] </strong></span>Fixed bug in over() construct whereby
passing an empty list for either partition_by
or order_by, as opposed to None, would fail
to generate correctly.
Courtesy Gunnlaugur Þór Briem.<a class="changeset-link reference internal" href="#change-de56e0073210255535e501662d7f096a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2574">#2574</a></p>
</p>
</li>
<li><p id="change-0.7.9-12"><span class="target" id="change-3f0696f49c0d0cc576c2925339fa8b33"><strong>[sql] [bug] </strong></span>Fixed CTE bug whereby positional
bound parameters present in the CTEs themselves
would corrupt the overall ordering of
bound parameters.  This primarily
affected SQL Server as the platform with
positional binds + CTE support.<a class="changeset-link reference internal" href="#change-3f0696f49c0d0cc576c2925339fa8b33">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2521">#2521</a></p>
</p>
</li>
<li><p id="change-0.7.9-13"><span class="target" id="change-99a68f579410131cd9c11d84022701d0"><strong>[sql] [bug] </strong></span>Fixed more un-intuitivenesses in CTEs
which prevented referring to a CTE in a union
of itself without it being aliased.
CTEs now render uniquely
on name, rendering the outermost CTE of a given
name only - all other references are rendered
just as the name.   This even includes other
CTE/SELECTs that refer to different versions
of the same CTE object, such as a SELECT
or a UNION ALL of that SELECT. We are
somewhat loosening the usual link between object
identity and lexical identity in this case.
A true name conflict between two unrelated
CTEs now raises an error.<a class="changeset-link reference internal" href="#change-99a68f579410131cd9c11d84022701d0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.9-14"><span class="target" id="change-2da6697c7fa6a82e5f84b769b2c8b627"><strong>[sql] [bug] </strong></span>quoting is applied to the column names
inside the WITH RECURSIVE clause of a
common table expression according to the
quoting rules for the originating Column.<a class="changeset-link reference internal" href="#change-2da6697c7fa6a82e5f84b769b2c8b627">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2512">#2512</a></p>
</p>
</li>
<li><p id="change-0.7.9-15"><span class="target" id="change-c1a4594a681dd605fd87e2250bf3279b"><strong>[sql] [bug] </strong></span>Fixed regression introduced in 0.7.6
whereby the FROM list of a SELECT statement
could be incorrect in certain &#8220;clone+replace&#8221;
scenarios.<a class="changeset-link reference internal" href="#change-c1a4594a681dd605fd87e2250bf3279b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2518">#2518</a></p>
</p>
</li>
<li><p id="change-0.7.9-16"><span class="target" id="change-040c1b57e6448664e4b95f7c38bde6b0"><strong>[sql] [bug] </strong></span>Fixed bug whereby usage of a UNION
or similar inside of an embedded subquery
would interfere with result-column targeting,
in the case that a result-column had the same
ultimate name as a name inside the embedded
UNION.<a class="changeset-link reference internal" href="#change-040c1b57e6448664e4b95f7c38bde6b0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2552">#2552</a></p>
</p>
</li>
<li><p id="change-0.7.9-17"><span class="target" id="change-b333e57b4e8138a52b594b9762773ecb"><strong>[sql] [bug] </strong></span>Fixed a regression since 0.6 regarding
result-row targeting.   It should be possible
to use a select() statement with string
based columns in it, that is
select([&#8216;id&#8217;, &#8216;name&#8217;]).select_from(&#8216;mytable&#8217;),
and have this statement be targetable by
Column objects with those names; this is the
mechanism by which
query(MyClass).from_statement(some_statement)
works.  At some point the specific case of
using select([&#8216;id&#8217;]), which is equivalent to
select([literal_column(&#8216;id&#8217;)]), stopped working
here, so this has been re-instated and of
course tested.<a class="changeset-link reference internal" href="#change-b333e57b4e8138a52b594b9762773ecb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2558">#2558</a></p>
</p>
</li>
<li><p id="change-0.7.9-18"><span class="target" id="change-c8cd2fe962e7e67b56bece706ecebf99"><strong>[sql] [bug] </strong></span>Added missing operators is_(), isnot()
to the ColumnOperators base, so that these long-available
operators are present as methods like all
the other operators.<a class="changeset-link reference internal" href="#change-c8cd2fe962e7e67b56bece706ecebf99">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2544">#2544</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.9-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-19"><span class="target" id="change-fc212ca64d8b904651fb2c76e5fa8961"><strong>[postgresql] [bug] </strong></span>Columns in reflected primary key constraint
are now returned in the order in which the constraint
itself defines them, rather than how the table
orders them.  Courtesy Gunnlaugur Þór Briem..<a class="changeset-link reference internal" href="#change-fc212ca64d8b904651fb2c76e5fa8961">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2531">#2531</a></p>
</p>
</li>
<li><p id="change-0.7.9-20"><span class="target" id="change-bb9b195b7b37981bc5a03b6ee00066fb"><strong>[postgresql] [bug] </strong></span>Added &#8216;terminating connection&#8217; to the list
of messages we use to detect a disconnect with PG, which
appears to be present in some versions when the server
is restarted.<a class="changeset-link reference internal" href="#change-bb9b195b7b37981bc5a03b6ee00066fb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2570">#2570</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.9-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-21"><span class="target" id="change-5e04bb001a3d1f81860ab0a3eb880c8c"><strong>[mysql] [bug] </strong></span>Updated mysqlconnector interface to use
updated &#8220;client flag&#8221; and &#8220;charset&#8221; APIs,
courtesy David McNelis.<a class="changeset-link reference internal" href="#change-5e04bb001a3d1f81860ab0a3eb880c8c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.9-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-22"><span class="target" id="change-8b6a9dd463218f41b6c8b796886f842d"><strong>[sqlite] [feature] </strong></span>Added support for the localtimestamp()
SQL function implemented in SQLite, courtesy
Richard Mitchell.<a class="changeset-link reference internal" href="#change-8b6a9dd463218f41b6c8b796886f842d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.9-23"><span class="target" id="change-8fdfac6e8169a77056e854ede3116b1d"><strong>[sqlite] [bug] </strong></span>Adjusted a very old bugfix which attempted
to work around a SQLite issue that itself was
&#8220;fixed&#8221; as of sqlite 3.6.14, regarding quotes
surrounding a table name when using
the &#8220;foreign_key_list&#8221; pragma.  The fix has been
adjusted to not interfere with quotes that
are <em>actually in the name</em> of a column or table,
to as much a degree as possible; sqlite still
doesn&#8217;t return the correct result for foreign_key_list()
if the target table actually has quotes surrounding
its name, as <em>part</em> of its name (i.e. &#8220;&#8221;&#8220;mytable&#8221;&#8220;&#8221;).<a class="changeset-link reference internal" href="#change-8fdfac6e8169a77056e854ede3116b1d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">#2568</a></p>
</p>
</li>
<li><p id="change-0.7.9-24"><span class="target" id="change-4f3a6c482d01e64bbcadcc806825c71f"><strong>[sqlite] [bug] </strong></span>Adjusted column default reflection code to
convert non-string values to string, to accommodate
old SQLite versions that don&#8217;t deliver
default info as a string.<a class="changeset-link reference internal" href="#change-4f3a6c482d01e64bbcadcc806825c71f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2265">#2265</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.9-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.9-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.9-25"><span class="target" id="change-06d018a274ae08d49296d57e04e26ec7"><strong>[mssql] [bug] </strong></span>Fixed compiler bug whereby using a correlated
subquery within an ORDER BY would fail to render correctly
if the stament also used LIMIT/OFFSET, due to mis-rendering
within the ROW_NUMBER() OVER clause.  Fix courtesy
sayap<a class="changeset-link reference internal" href="#change-06d018a274ae08d49296d57e04e26ec7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2538">#2538</a></p>
</p>
</li>
<li><p id="change-0.7.9-26"><span class="target" id="change-bd1df339b27f45dc5cda88f5736a4324"><strong>[mssql] [bug] </strong></span>Fixed compiler bug whereby a given
select() would be modified if it had an &#8220;offset&#8221;
attribute, causing the construct to not compile
correctly a second time.<a class="changeset-link reference internal" href="#change-bd1df339b27f45dc5cda88f5736a4324">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2545">#2545</a></p>
</p>
</li>
<li><p id="change-0.7.9-27"><span class="target" id="change-71245e957fd2b82f1ba3435287ea9f0d"><strong>[mssql] [bug] </strong></span>Fixed bug where reflection of primary key constraint
would double up columns if the same constraint/table
existed in multiple schemas.<a class="changeset-link reference internal" href="#change-71245e957fd2b82f1ba3435287ea9f0d">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.8">
<h2>0.7.8<a class="headerlink" href="#change-0.7.8" title="Permalink to this headline">¶</a></h2>
Released: Sat Jun 16 2012<div class="section" id="change-0.7.8-orm">
<h3>orm<a class="headerlink" href="#change-0.7.8-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-0"><span class="target" id="change-90a7ad18c89ef080942d51375dd30972"><strong>[orm] [feature] </strong></span>The &#8216;objects&#8217; argument to
flush() is no longer deprecated, as some
valid use cases have been identified.<a class="changeset-link reference internal" href="#change-90a7ad18c89ef080942d51375dd30972">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.8-1"><span class="target" id="change-cf3b8502914010cbf22dd36d53d49d41"><strong>[orm] [bug] </strong></span>Fixed bug whereby subqueryload() from
a polymorphic mapping to a target would incur
a new invocation of the query for each
distinct class encountered in the polymorphic
result.<a class="changeset-link reference internal" href="#change-cf3b8502914010cbf22dd36d53d49d41">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2480">#2480</a></p>
</p>
</li>
<li><p id="change-0.7.8-2"><span class="target" id="change-a32af8388995303eab427cf746d301ee"><strong>[orm] [bug] </strong></span>Fixed bug in declarative
whereby the precedence of columns
in a joined-table, composite
column (typically for id) would fail to
be correct if the columns contained
names distinct from their attribute
names.  This would cause things like
primaryjoin conditions made against the
entity attributes to be incorrect.  Related
to as this was supposed
to be part of that, this is.<a class="changeset-link reference internal" href="#change-a32af8388995303eab427cf746d301ee">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2491">#2491</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1892">#1892</a></p>
</p>
</li>
<li><p id="change-0.7.8-3"><span class="target" id="change-f98e8f725d059fea2dfc556d72b1b131"><strong>[orm] [bug] </strong></span>Fixed identity_key() function which
was not accepting a scalar argument
for the identity. .<a class="changeset-link reference internal" href="#change-f98e8f725d059fea2dfc556d72b1b131">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2508">#2508</a></p>
</p>
</li>
<li><p id="change-0.7.8-4"><span class="target" id="change-4a617743b2bf4279e53c14ee010bc346"><strong>[orm] [bug] </strong></span>Fixed bug whereby populate_existing
option would not propagate to subquery
eager loaders. .<a class="changeset-link reference internal" href="#change-4a617743b2bf4279e53c14ee010bc346">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2497">#2497</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.8-engine">
<h3>engine<a class="headerlink" href="#change-0.7.8-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-5"><span class="target" id="change-348d36798c980e7c202e6fdcc5850810"><strong>[engine] [bug] </strong></span>Fixed memory leak in C version of
result proxy whereby DBAPIs which don&#8217;t deliver
pure Python tuples for result rows would
fail to decrement refcounts correctly.
The most prominently affected DBAPI
is pyodbc.<a class="changeset-link reference internal" href="#change-348d36798c980e7c202e6fdcc5850810">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2489">#2489</a></p>
</p>
</li>
<li><p id="change-0.7.8-6"><span class="target" id="change-fd4bdaeacedad743b6f3bbcd200ef237"><strong>[engine] [bug] </strong></span>Fixed bug affecting Py3K whereby
string positional parameters passed to
engine/connection execute() would fail to be
interpreted correctly, due to __iter__
being present on Py3K string..<a class="changeset-link reference internal" href="#change-fd4bdaeacedad743b6f3bbcd200ef237">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2503">#2503</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.8-sql">
<h3>sql<a class="headerlink" href="#change-0.7.8-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-7"><span class="target" id="change-5c6ba9ce1ee5598442500138f0eea997"><strong>[sql] [bug] </strong></span>added BIGINT to types.__all__,
BIGINT, BINARY, VARBINARY to sqlalchemy
module namespace, plus test to ensure
this breakage doesn&#8217;t occur again.<a class="changeset-link reference internal" href="#change-5c6ba9ce1ee5598442500138f0eea997">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2499">#2499</a></p>
</p>
</li>
<li><p id="change-0.7.8-8"><span class="target" id="change-e2fe913b74611147fd04de969da717aa"><strong>[sql] [bug] </strong></span>Repaired common table expression
rendering to function correctly when the
SELECT statement contains UNION or other
compound expressions, courtesy btbuilder.<a class="changeset-link reference internal" href="#change-e2fe913b74611147fd04de969da717aa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2490">#2490</a></p>
</p>
</li>
<li><p id="change-0.7.8-9"><span class="target" id="change-82d5e8837ecd40049cc656f51882f9dd"><strong>[sql] [bug] </strong></span>Fixed bug whereby append_column()
wouldn&#8217;t function correctly on a cloned
select() construct, courtesy
Gunnlaugur Þór Briem.<a class="changeset-link reference internal" href="#change-82d5e8837ecd40049cc656f51882f9dd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2482">#2482</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.8-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.8-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-10"><span class="target" id="change-2b0b56fe92fecdf3f47b187723fac1d1"><strong>[postgresql] [bug] </strong></span>removed unnecessary table clause when
reflecting enums,.  Courtesy
Gunnlaugur Þór Briem.<a class="changeset-link reference internal" href="#change-2b0b56fe92fecdf3f47b187723fac1d1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2510">#2510</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.8-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.8-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-11"><span class="target" id="change-b9342db19c8d65b942f8bcb7638f0ad3"><strong>[mysql] [feature] </strong></span>Added a new dialect for Google App
Engine.  Courtesy Richie Foreman.<a class="changeset-link reference internal" href="#change-b9342db19c8d65b942f8bcb7638f0ad3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2484">#2484</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.8-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.8-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.8-12"><span class="target" id="change-ad8811c99ec2bf8fc5f2e8ff5e1b91a3"><strong>[oracle] [bug] </strong></span>Added ROWID to oracle.*.<a class="changeset-link reference internal" href="#change-ad8811c99ec2bf8fc5f2e8ff5e1b91a3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2483">#2483</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.7">
<h2>0.7.7<a class="headerlink" href="#change-0.7.7" title="Permalink to this headline">¶</a></h2>
Released: Sat May 05 2012<div class="section" id="change-0.7.7-orm">
<h3>orm<a class="headerlink" href="#change-0.7.7-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-0"><span class="target" id="change-25aac7662d89caf0fb5cbcd3d4145b73"><strong>[orm] [feature] </strong></span>Added prefix_with() method
to Query, calls upon select().prefix_with()
to allow placement of MySQL SELECT
directives in statements.  Courtesy
Diana Clarke<a class="changeset-link reference internal" href="#change-25aac7662d89caf0fb5cbcd3d4145b73">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2443">#2443</a></p>
</p>
</li>
<li><p id="change-0.7.7-1"><span class="target" id="change-9d753c51f57c3c616f604d0db83097d5"><strong>[orm] [feature] </strong></span>Added new flag to &#64;validates
include_removes.  When True, collection
remove and attribute del events
will also be sent to the validation function,
which accepts an additional argument
&#8220;is_remove&#8221; when this flag is used.<a class="changeset-link reference internal" href="#change-9d753c51f57c3c616f604d0db83097d5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-2"><span class="target" id="change-b8f58dbdb7f5047dc8fa39d59cb26288"><strong>[orm] [bug] </strong></span>Fixed issue in unit of work
whereby setting a non-None self-referential
many-to-one relationship to None
would fail to persist the change if the
former value was not already loaded..<a class="changeset-link reference internal" href="#change-b8f58dbdb7f5047dc8fa39d59cb26288">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2477">#2477</a></p>
</p>
</li>
<li><p id="change-0.7.7-3"><span class="target" id="change-f77cf934beb15ca7e09a931e3b100a1a"><strong>[orm] [bug] </strong></span>Fixed bug in 0.7.6 introduced by whereby column_mapped_collection
used against columns that were mapped as
joins or other indirect selectables
would fail to function.<a class="changeset-link reference internal" href="#change-f77cf934beb15ca7e09a931e3b100a1a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2409">#2409</a></p>
</p>
</li>
<li><p id="change-0.7.7-4"><span class="target" id="change-a152eaa87daaa0d2a342246bcb91e574"><strong>[orm] [bug] </strong></span>Fixed bug whereby polymorphic_on
column that&#8217;s not otherwise mapped on the
class would be incorrectly included
in a merge() operation, raising an error.<a class="changeset-link reference internal" href="#change-a152eaa87daaa0d2a342246bcb91e574">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2449">#2449</a></p>
</p>
</li>
<li><p id="change-0.7.7-5"><span class="target" id="change-abfe23b5d84195d02cbf3aae199c82cd"><strong>[orm] [bug] </strong></span>Fixed bug in expression annotation
mechanics which could lead to incorrect
rendering of SELECT statements with aliases
and joins, particularly when using
column_property().<a class="changeset-link reference internal" href="#change-abfe23b5d84195d02cbf3aae199c82cd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2453">#2453</a></p>
</p>
</li>
<li><p id="change-0.7.7-6"><span class="target" id="change-879e7b4c03a5046a0e6cc2aee6ab5036"><strong>[orm] [bug] </strong></span>Fixed bug which would prevent
OrderingList from being pickleable.  Courtesy Jeff Dairiki<a class="changeset-link reference internal" href="#change-879e7b4c03a5046a0e6cc2aee6ab5036">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2454">#2454</a></p>
</p>
</li>
<li><p id="change-0.7.7-7"><span class="target" id="change-a809abc1a2320cef2ddbf36f9823afac"><strong>[orm] [bug] </strong></span>Fixed bug in relationship comparisons
whereby calling unimplemented methods like
SomeClass.somerelationship.like() would
produce a recursion overflow, instead
of NotImplementedError.<a class="changeset-link reference internal" href="#change-a809abc1a2320cef2ddbf36f9823afac">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.7-sql">
<h3>sql<a class="headerlink" href="#change-0.7.7-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-8"><span class="target" id="change-60e0de8dbae77883685d68262a548cb0"><strong>[sql] [feature] </strong></span>Added new connection event
dbapi_error(). Is called for all DBAPI-level
errors passing the original DBAPI exception
before SQLAlchemy modifies the state
of the cursor.<a class="changeset-link reference internal" href="#change-60e0de8dbae77883685d68262a548cb0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-9"><span class="target" id="change-258642bfde7a22ef72f36f37450b99fa"><strong>[sql] [bug] </strong></span>Removed warning when Index is created
with no columns; while this might not be what
the user intended, it is a valid use case
as an Index could be a placeholder for just an
index of a certain name.<a class="changeset-link reference internal" href="#change-258642bfde7a22ef72f36f37450b99fa">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-10"><span class="target" id="change-ab71ae4387dd75bf6a53122b28ae899e"><strong>[sql] [bug] </strong></span>If conn.begin() fails when calling
&#8220;with engine.begin()&#8221;, the newly acquired
Connection is closed explicitly before
propagating the exception onward normally.<a class="changeset-link reference internal" href="#change-ab71ae4387dd75bf6a53122b28ae899e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-11"><span class="target" id="change-e3411e9d22bdbb5992f9e88d3dcaee90"><strong>[sql] [bug] </strong></span>Add BINARY, VARBINARY to types.__all__.<a class="changeset-link reference internal" href="#change-e3411e9d22bdbb5992f9e88d3dcaee90">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2474">#2474</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.7-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.7-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-12"><span class="target" id="change-60c3844adeb64d1db651beaee5017dbe"><strong>[postgresql] [feature] </strong></span>Added new for_update/with_lockmode()
options for Postgresql: for_update=&#8221;read&#8221;/
with_lockmode(&#8220;read&#8221;),
for_update=&#8221;read_nowait&#8221;/
with_lockmode(&#8220;read_nowait&#8221;).
These emit &#8220;FOR SHARE&#8221; and &#8220;FOR SHARE NOWAIT&#8221;,
respectively.  Courtesy Diana Clarke<a class="changeset-link reference internal" href="#change-60c3844adeb64d1db651beaee5017dbe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2445">#2445</a></p>
</p>
</li>
<li><p id="change-0.7.7-13"><span class="target" id="change-a0e768a991b47e8fdefbd505b05b3e17"><strong>[postgresql] [bug] </strong></span>removed unnecessary table clause
when reflecting domains.<a class="changeset-link reference internal" href="#change-a0e768a991b47e8fdefbd505b05b3e17">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2473">#2473</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.7-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.7-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-14"><span class="target" id="change-1be3a59937fd9dfcf596e919548e77b0"><strong>[mysql] [bug] </strong></span>Fixed bug whereby column name inside
of &#8220;KEY&#8221; clause for autoincrement composite
column with InnoDB would double quote a
name that&#8217;s a reserved word.  Courtesy Jeff
Dairiki.<a class="changeset-link reference internal" href="#change-1be3a59937fd9dfcf596e919548e77b0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2460">#2460</a></p>
</p>
</li>
<li><p id="change-0.7.7-15"><span class="target" id="change-d53f513885dabbbb9b7b9479dcc6c9fb"><strong>[mysql] [bug] </strong></span>Fixed bug whereby get_view_names() for
&#8220;information_schema&#8221; schema would fail
to retrieve views marked as &#8220;SYSTEM VIEW&#8221;.
courtesy Matthew Turland.<a class="changeset-link reference internal" href="#change-d53f513885dabbbb9b7b9479dcc6c9fb">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-16"><span class="target" id="change-665f633590992519d1a2afe8c40aa0b9"><strong>[mysql] [bug] </strong></span>Fixed bug whereby if cast() is used
on a SQL expression whose type is not supported
by cast() and therefore CAST isn&#8217;t rendered by
the dialect, the order of evaluation could change
if the casted expression required that it be
grouped; grouping is now applied to those
expressions.<a class="changeset-link reference internal" href="#change-665f633590992519d1a2afe8c40aa0b9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2467">#2467</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.7-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.7-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-17"><span class="target" id="change-4d3073c4d8020a0289ac68eed962eaa3"><strong>[sqlite] [feature] </strong></span>Added SQLite execution option
&#8220;sqlite_raw_colnames=True&#8221;, will bypass
attempts to remove &#8221;.&#8221; from column names
returned by SQLite cursor.description.<a class="changeset-link reference internal" href="#change-4d3073c4d8020a0289ac68eed962eaa3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2475">#2475</a></p>
</p>
</li>
<li><p id="change-0.7.7-18"><span class="target" id="change-8c57451af0004baeb28caf92d4ee90b8"><strong>[sqlite] [bug] </strong></span>When the primary key column of a Table
is replaced, such as via extend_existing,
the &#8220;auto increment&#8221; column used by insert()
constructs is reset.  Previously it would
remain referring to the previous primary
key column.<a class="changeset-link reference internal" href="#change-8c57451af0004baeb28caf92d4ee90b8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2525">#2525</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.7-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.7-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.7-19"><span class="target" id="change-5948b6fff685d80894bef6e58a19581d"><strong>[mssql] [feature] </strong></span>Added interim create_engine flag
supports_unicode_binds to PyODBC dialect,
to force whether or not the dialect
passes Python unicode literals to PyODBC
or not.<a class="changeset-link reference internal" href="#change-5948b6fff685d80894bef6e58a19581d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-20"><span class="target" id="change-f013930a1f1b98f461979f93285819df"><strong>[mssql] [bug] </strong></span>Repaired the use_scope_identity
create_engine() flag when using the pyodbc
dialect.  Previously this flag would be
ignored if set to False.  When set to False,
you&#8217;ll get &#8220;SELECT &#64;&#64;identity&#8221; after each
INSERT to get at the last inserted ID,
for those tables which have &#8220;implicit_returning&#8221;
set to False.<a class="changeset-link reference internal" href="#change-f013930a1f1b98f461979f93285819df">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.7-21"><span class="target" id="change-06067c1d141545a78a5e38fea15d3736"><strong>[mssql] [bug] </strong></span>UPDATE..FROM syntax with SQL Server
requires that the updated table be present
in the FROM clause when an alias of that
table is also present in the FROM clause.
The updated table is now always present
in the FROM, when FROM is present
in the first place.  Courtesy sayap.<a class="changeset-link reference internal" href="#change-06067c1d141545a78a5e38fea15d3736">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2468">#2468</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.6">
<h2>0.7.6<a class="headerlink" href="#change-0.7.6" title="Permalink to this headline">¶</a></h2>
Released: Wed Mar 14 2012<div class="section" id="change-0.7.6-orm">
<h3>orm<a class="headerlink" href="#change-0.7.6-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-0"><span class="target" id="change-da251880fd88fa1c37bfa0d587e41173"><strong>[orm] [feature] </strong></span>Added &#8220;no_autoflush&#8221; context
manager to Session, used with with:
will temporarily disable autoflush.<a class="changeset-link reference internal" href="#change-da251880fd88fa1c37bfa0d587e41173">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.6-1"><span class="target" id="change-3dd168b2f746fa1b43aa5a01897c7ef3"><strong>[orm] [feature] </strong></span>Added cte() method to Query,
invokes common table expression support
from the Core (see below).<a class="changeset-link reference internal" href="#change-3dd168b2f746fa1b43aa5a01897c7ef3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1859">#1859</a></p>
</p>
</li>
<li><p id="change-0.7.6-2"><span class="target" id="change-06c8bf2ebcd62bebb89b05351bf869c6"><strong>[orm] [feature] </strong></span>Added the ability to query for
Table-bound column names when using
query(sometable).filter_by(colname=value).<a class="changeset-link reference internal" href="#change-06c8bf2ebcd62bebb89b05351bf869c6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2400">#2400</a></p>
</p>
</li>
<li><p id="change-0.7.6-3"><span class="target" id="change-886ab67fd7fa03ee2c0d177071b3ded4"><strong>[orm] [bug] </strong></span>Fixed event registration bug
which would primarily show up as
events not being registered with
sessionmaker() instances created
after the event was associated
with the Session class.<a class="changeset-link reference internal" href="#change-886ab67fd7fa03ee2c0d177071b3ded4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2424">#2424</a></p>
</p>
</li>
<li><p id="change-0.7.6-4"><span class="target" id="change-d6df1da3c271d4360d60721dcd4d93cd"><strong>[orm] [bug] </strong></span>Fixed bug whereby a primaryjoin
condition with a &#8220;literal&#8221; in it would
raise an error on compile with certain
kinds of deeply nested expressions
which also needed to render the same
bound parameter name more than once.<a class="changeset-link reference internal" href="#change-d6df1da3c271d4360d60721dcd4d93cd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2425">#2425</a></p>
</p>
</li>
<li><p id="change-0.7.6-5"><span class="target" id="change-c963d79fbb48b092468b8df14fe08b03"><strong>[orm] [bug] </strong></span>Removed the check for number of
rows affected when doing a multi-delete
against mapped objects.   If an ON DELETE
CASCADE exists between two rows, we can&#8217;t
get an accurate rowcount from the DBAPI;
this particular count is not supported
on most DBAPIs in any case, MySQLdb
is the notable case where it is.<a class="changeset-link reference internal" href="#change-c963d79fbb48b092468b8df14fe08b03">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2403">#2403</a></p>
</p>
</li>
<li><p id="change-0.7.6-6"><span class="target" id="change-8ce7b5c1f9764f4be9a06bb9f69e52f2"><strong>[orm] [bug] </strong></span>Fixed bug whereby objects using
attribute_mapped_collection or
column_mapped_collection could not be
pickled.<a class="changeset-link reference internal" href="#change-8ce7b5c1f9764f4be9a06bb9f69e52f2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2409">#2409</a></p>
</p>
</li>
<li><p id="change-0.7.6-7"><span class="target" id="change-4139f8190200416937260afba0d0f8b1"><strong>[orm] [bug] </strong></span>Fixed bug whereby MappedCollection
would not get the appropriate collection
instrumentation if it were only used
in a custom subclass that used
&#64;collection.internally_instrumented.<a class="changeset-link reference internal" href="#change-4139f8190200416937260afba0d0f8b1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2406">#2406</a></p>
</p>
</li>
<li><p id="change-0.7.6-8"><span class="target" id="change-9e5cd50053bb474dbea526f38ba4e148"><strong>[orm] [bug] </strong></span>Fixed bug whereby SQL adaption mechanics
would fail in a very nested scenario involving
joined-inheritance, joinedload(), limit(), and a
derived function in the columns clause.<a class="changeset-link reference internal" href="#change-9e5cd50053bb474dbea526f38ba4e148">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2419">#2419</a></p>
</p>
</li>
<li><p id="change-0.7.6-9"><span class="target" id="change-f8031eba4bd7fcd731200ea774332cdf"><strong>[orm] [bug] </strong></span>Fixed the repr() for CascadeOptions to
include refresh-expire.  Also reworked
CascadeOptions to be a &lt;frozenset&gt;.<a class="changeset-link reference internal" href="#change-f8031eba4bd7fcd731200ea774332cdf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2417">#2417</a></p>
</p>
</li>
<li><p id="change-0.7.6-10"><span class="target" id="change-55aab50690b92c57e72f96dae94d9731"><strong>[orm] [bug] </strong></span>Improved the &#8220;declarative reflection&#8221;
example to support single-table inheritance,
multiple calls to prepare(), tables that
are present in alternate schemas,
establishing only a subset of classes
as reflected.<a class="changeset-link reference internal" href="#change-55aab50690b92c57e72f96dae94d9731">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.6-11"><span class="target" id="change-2bd80098953ad4f526aecbdbdb6c7a38"><strong>[orm] [bug] </strong></span>Scaled back the test applied within
flush() to check for UPDATE against partially
NULL PK within one table to only actually
happen if there&#8217;s really an UPDATE to occur.<a class="changeset-link reference internal" href="#change-2bd80098953ad4f526aecbdbdb6c7a38">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2390">#2390</a></p>
</p>
</li>
<li><p id="change-0.7.6-12"><span class="target" id="change-1c063ae66277f88058d137e25e63b77b"><strong>[orm] [bug] </strong></span>Fixed bug whereby if a method name
conflicted with a column name, a
TypeError would be raised when the mapper
tried to inspect the __get__() method
on the method object.<a class="changeset-link reference internal" href="#change-1c063ae66277f88058d137e25e63b77b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2352">#2352</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-engine">
<h3>engine<a class="headerlink" href="#change-0.7.6-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-13"><span class="target" id="change-2d7d75c321c420f13868c04f48c58024"><strong>[engine] [feature] </strong></span>Added &#8220;no_parameters=True&#8221; execution
option for connections.   If no parameters
are present, will pass the statement
as cursor.execute(statement), thereby invoking
the DBAPIs behavior when no parameter collection
is present; for psycopg2 and mysql-python, this
means not interpreting % signs in the string.
This only occurs with this option, and not
just if the param list is blank, as otherwise
this would produce inconsistent behavior
of SQL expressions that normally escape percent
signs (and while compiling, can&#8217;t know ahead of
time if parameters will be present in
some cases).<a class="changeset-link reference internal" href="#change-2d7d75c321c420f13868c04f48c58024">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2407">#2407</a></p>
</p>
</li>
<li><p id="change-0.7.6-14"><span class="target" id="change-48cbd41778bd9bf524befc7899045bd6"><strong>[engine] [feature] </strong></span>Added pool_reset_on_return argument
to create_engine, allows control over
&#8220;connection return&#8221; behavior.  Also added
new arguments &#8216;rollback&#8217;, &#8216;commit&#8217;, None
to pool.reset_on_return to allow more control
over connection return activity.<a class="changeset-link reference internal" href="#change-48cbd41778bd9bf524befc7899045bd6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2378">#2378</a></p>
</p>
</li>
<li><p id="change-0.7.6-15"><span class="target" id="change-f22f644c754519a55485cda58f78ade4"><strong>[engine] [feature] </strong></span>Added some decent context managers
to Engine, Connection:<blockquote>
<div><dl class="docutils">
<dt>with engine.begin() as conn:</dt>
<dd>&lt;work with conn in a transaction&gt;</dd>
</dl>
</div></blockquote>
<p>and:</p>
<blockquote>
<div><dl class="docutils">
<dt>with engine.connect() as conn:</dt>
<dd>&lt;work with conn&gt;</dd>
</dl>
</div></blockquote>
<p>Both close out the connection when done,
commit or rollback transaction with errors
on engine.begin().</p>
<a class="changeset-link reference internal" href="#change-f22f644c754519a55485cda58f78ade4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.6-16"><span class="target" id="change-1b194e4331b2ed3e8f8f778123152f56"><strong>[engine] [bug] </strong></span>Added execution_options() call to
MockConnection (i.e., that used with
strategy=&#8221;mock&#8221;) which acts as a pass through
for arguments.<a class="changeset-link reference internal" href="#change-1b194e4331b2ed3e8f8f778123152f56">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-sql">
<h3>sql<a class="headerlink" href="#change-0.7.6-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-17"><span class="target" id="change-1591463b72830324d33006ffd884fc18"><strong>[sql] [feature] </strong></span>Added support for SQL standard
common table expressions (CTE), allowing
SELECT objects as the CTE source (DML
not yet supported).  This is invoked via
the cte() method on any select() construct.<a class="changeset-link reference internal" href="#change-1591463b72830324d33006ffd884fc18">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1859">#1859</a></p>
</p>
</li>
<li><p id="change-0.7.6-18"><span class="target" id="change-08dbc44d75c1c124d995d5797c268220"><strong>[sql] [bug] </strong></span>Fixed memory leak in core which would
occur when C extensions were used with
particular types of result fetches,
in particular when orm query.count()
were called.<a class="changeset-link reference internal" href="#change-08dbc44d75c1c124d995d5797c268220">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2427">#2427</a></p>
</p>
</li>
<li><p id="change-0.7.6-19"><span class="target" id="change-d8df6d8759ad159ad56f547c506a3983"><strong>[sql] [bug] </strong></span>Fixed issue whereby attribute-based
column access on a row would raise
AttributeError with non-C version,
NoSuchColumnError with C version.  Now
raises AttributeError in both cases.<a class="changeset-link reference internal" href="#change-d8df6d8759ad159ad56f547c506a3983">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2398">#2398</a></p>
</p>
</li>
<li><p id="change-0.7.6-20"><span class="target" id="change-49687573edf51e35f6e2e138c9d97ed4"><strong>[sql] [bug] </strong></span>Added support for using the .key
of a Column as a string identifier in a
result set row.   The .key is currently
listed as an &#8220;alternate&#8221; name for a column,
and is superseded by the name of a column
which has that key value as its regular name.
For the next major release
of SQLAlchemy we may reverse this precedence
so that .key takes precedence, but this
is not decided on yet.<a class="changeset-link reference internal" href="#change-49687573edf51e35f6e2e138c9d97ed4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2392">#2392</a></p>
</p>
</li>
<li><p id="change-0.7.6-21"><span class="target" id="change-343f97bf51f98600f6e8fcd6d441ddbe"><strong>[sql] [bug] </strong></span>A warning is emitted when a not-present
column is stated in the values() clause
of an insert() or update() construct.
Will move to an exception in 0.8.<a class="changeset-link reference internal" href="#change-343f97bf51f98600f6e8fcd6d441ddbe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2413">#2413</a></p>
</p>
</li>
<li><p id="change-0.7.6-22"><span class="target" id="change-a77bfc79b387192867cd3cb1d2e792df"><strong>[sql] [bug] </strong></span>A significant change to how labeling
is applied to columns in SELECT statements
allows &#8220;truncated&#8221; labels, that is label names
that are generated in Python which exceed
the maximum identifier length (note this is
configurable via label_length on create_engine()),
to be properly referenced when rendered inside
of a subquery, as well as to be present
in a result set row using their original
in-Python names.<a class="changeset-link reference internal" href="#change-a77bfc79b387192867cd3cb1d2e792df">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2396">#2396</a></p>
</p>
</li>
<li><p id="change-0.7.6-23"><span class="target" id="change-c2121d614de6518b5a70afb2a6acc1a8"><strong>[sql] [bug] </strong></span>Fixed bug in new &#8220;autoload_replace&#8221; flag
which would fail to preserve the primary
key constraint of the reflected table.<a class="changeset-link reference internal" href="#change-c2121d614de6518b5a70afb2a6acc1a8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2402">#2402</a></p>
</p>
</li>
<li><p id="change-0.7.6-24"><span class="target" id="change-e13352b56336bb2ca6357a005becb329"><strong>[sql] [bug] </strong></span>Index will raise when arguments passed
cannot be interpreted as columns or expressions.
Will warn when Index is created
with no columns at all.<a class="changeset-link reference internal" href="#change-e13352b56336bb2ca6357a005becb329">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2380">#2380</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.6-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-25"><span class="target" id="change-36eb1e2c4794e72f98f0ed14abf5e65b"><strong>[mysql] [feature] </strong></span>Added support for MySQL index and
primary key constraint types
(i.e. USING) via new mysql_using parameter
to Index and PrimaryKeyConstraint,
courtesy Diana Clarke.<a class="changeset-link reference internal" href="#change-36eb1e2c4794e72f98f0ed14abf5e65b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2386">#2386</a></p>
</p>
</li>
<li><p id="change-0.7.6-26"><span class="target" id="change-3df61a1e9f44018504cf0be0185c2a7f"><strong>[mysql] [feature] </strong></span>Added support for the &#8220;isolation_level&#8221;
parameter to all MySQL dialects.  Thanks
to mu_mind for the patch here.<a class="changeset-link reference internal" href="#change-3df61a1e9f44018504cf0be0185c2a7f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2394">#2394</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.6-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-27"><span class="target" id="change-75ed46e3397d789de20c3c9699f6328d"><strong>[sqlite] [bug] </strong></span>Fixed bug in C extensions whereby
string format would not be applied to a
Numeric value returned as integer; this
affected primarily SQLite which does
not maintain numeric scale settings.<a class="changeset-link reference internal" href="#change-75ed46e3397d789de20c3c9699f6328d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2432">#2432</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.6-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-28"><span class="target" id="change-24dedd563345980d146ccf072345481c"><strong>[mssql] [feature] </strong></span>Added support for MSSQL INSERT,
UPDATE, and DELETE table hints, using
new with_hint() method on UpdateBase.<a class="changeset-link reference internal" href="#change-24dedd563345980d146ccf072345481c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2430">#2430</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.6-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-29"><span class="target" id="change-fb4460bd1ca1980817d3dedb89755c9d"><strong>[oracle] [feature] </strong></span>Added a new create_engine() flag
coerce_to_decimal=False, disables the precision
numeric handling which can add lots of overhead
by converting all numeric values to
Decimal.<a class="changeset-link reference internal" href="#change-fb4460bd1ca1980817d3dedb89755c9d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2399">#2399</a></p>
</p>
</li>
<li><p id="change-0.7.6-30"><span class="target" id="change-985364280fa865032dd045d68431f232"><strong>[oracle] [bug] </strong></span>Added missing compilation support for
LONG<a class="changeset-link reference internal" href="#change-985364280fa865032dd045d68431f232">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2401">#2401</a></p>
</p>
</li>
<li><p id="change-0.7.6-31"><span class="target" id="change-b1c0ae3b7d2775d911aaeeb8e3d3c872"><strong>[oracle] [bug] </strong></span>Added &#8216;LEVEL&#8217; to the list of reserved
words for Oracle.<a class="changeset-link reference internal" href="#change-b1c0ae3b7d2775d911aaeeb8e3d3c872">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2435">#2435</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.6-misc">
<h3>misc<a class="headerlink" href="#change-0.7.6-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.6-32"><span class="target" id="change-19dae4d37fac9733caba73475b99064b"><strong>[bug] [examples] </strong></span>Altered _params_from_query() function
in Beaker example to pull bindparams from the
fully compiled statement, as a quick means
to get everything including subqueries in the
columns clause, etc.<a class="changeset-link reference internal" href="#change-19dae4d37fac9733caba73475b99064b">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.5">
<h2>0.7.5<a class="headerlink" href="#change-0.7.5" title="Permalink to this headline">¶</a></h2>
Released: Sat Jan 28 2012<div class="section" id="change-0.7.5-orm">
<h3>orm<a class="headerlink" href="#change-0.7.5-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-0"><span class="target" id="change-3a102420811437e8993c20361a8d9534"><strong>[orm] [feature] </strong></span>Added &#8220;class_registry&#8221; argument to
declarative_base().  Allows two or more declarative
bases to share the same registry of class names.<a class="changeset-link reference internal" href="#change-3a102420811437e8993c20361a8d9534">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.5-1"><span class="target" id="change-0c9ac7ca68fc1ad2df5e31c3920b7fb3"><strong>[orm] [feature] </strong></span>query.filter() accepts multiple
criteria which will join via AND, i.e.
query.filter(x==y, z&gt;q, ...)<a class="changeset-link reference internal" href="#change-0c9ac7ca68fc1ad2df5e31c3920b7fb3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.5-2"><span class="target" id="change-57c1f10c52d34b2117be666480e44fdc"><strong>[orm] [feature] </strong></span>Added new capability to relationship
loader options to allow &#8220;default&#8221; loader strategies.
Pass &#8216;*&#8217; to any of joinedload(), lazyload(),
subqueryload(), or noload() and that becomes the
loader strategy used for all relationships,
except for those explicitly stated in the
Query.  Thanks to up-and-coming contributor
Kent Bower for an exhaustive and well
written test suite !<a class="changeset-link reference internal" href="#change-57c1f10c52d34b2117be666480e44fdc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2351">#2351</a></p>
</p>
</li>
<li><p id="change-0.7.5-3"><span class="target" id="change-97633f7e42b1537d18cbeea43b26bc27"><strong>[orm] [feature] </strong></span>New declarative reflection example
added, illustrates how best to mix table reflection
with declarative as well as uses some new features
from.<a class="changeset-link reference internal" href="#change-97633f7e42b1537d18cbeea43b26bc27">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">#2356</a></p>
</p>
</li>
<li><p id="change-0.7.5-4"><span class="target" id="change-55d8c1fff7aefe4a1f70319dec6adc6b"><strong>[orm] [bug] </strong></span>Fixed issue where modified session state
established after a failed flush would be committed
as part of the subsequent transaction that
begins automatically after manual call
to rollback().   The state of the session is
checked within rollback(), and if new state
is present, a warning is emitted and
restore_snapshot() is called a second time,
discarding those changes.<a class="changeset-link reference internal" href="#change-55d8c1fff7aefe4a1f70319dec6adc6b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2389">#2389</a></p>
</p>
</li>
<li><p id="change-0.7.5-5"><span class="target" id="change-b1e956782e806998b21c5c59c63196ea"><strong>[orm] [bug] </strong></span>Fixed regression from 0.7.4 whereby
using an already instrumented column from a
superclass as &#8220;polymorphic_on&#8221; failed to resolve
the underlying Column.<a class="changeset-link reference internal" href="#change-b1e956782e806998b21c5c59c63196ea">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2345">#2345</a></p>
</p>
</li>
<li><p id="change-0.7.5-6"><span class="target" id="change-8272906e502e3c17ceaf46c056dd61a7"><strong>[orm] [bug] </strong></span>Raise an exception if xyzload_all() is
used inappropriately with two non-connected
relationships.<a class="changeset-link reference internal" href="#change-8272906e502e3c17ceaf46c056dd61a7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2370">#2370</a></p>
</p>
</li>
<li><p id="change-0.7.5-7"><span class="target" id="change-6af3c2131d1f215bc47d9088abe62c4b"><strong>[orm] [bug] </strong></span>Fixed bug whereby event.listen(SomeClass)
forced an entirely unnecessary compile of the
mapper, making events very hard to set up
at module import time (nobody noticed this ??)<a class="changeset-link reference internal" href="#change-6af3c2131d1f215bc47d9088abe62c4b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2367">#2367</a></p>
</p>
</li>
<li><p id="change-0.7.5-8"><span class="target" id="change-d7b48db2025736b2d9643cb7b3a0e3c2"><strong>[orm] [bug] </strong></span>Fixed bug whereby hybrid_property didn&#8217;t
work as a kw arg in any(), has().<a class="changeset-link reference internal" href="#change-d7b48db2025736b2d9643cb7b3a0e3c2">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.5-9"><span class="target" id="change-b88bd4933dc47c44005e5fdc6794709a"><strong>[orm] [bug] </strong></span>ensure pickleability of all ORM exceptions
for multiprocessing compatibility.<a class="changeset-link reference internal" href="#change-b88bd4933dc47c44005e5fdc6794709a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2371">#2371</a></p>
</p>
</li>
<li><p id="change-0.7.5-10"><span class="target" id="change-a73cc2e518480d53268efadf9b8f7eb8"><strong>[orm] [bug] </strong></span>implemented standard &#8220;can&#8217;t set attribute&#8221; /
&#8220;can&#8217;t delete attribute&#8221; AttributeError when
setattr/delattr used on a hybrid that doesn&#8217;t
define fset or fdel.<a class="changeset-link reference internal" href="#change-a73cc2e518480d53268efadf9b8f7eb8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2353">#2353</a></p>
</p>
</li>
<li><p id="change-0.7.5-11"><span class="target" id="change-3551999284ff42f7dcdc41a5a7332711"><strong>[orm] [bug] </strong></span>Fixed bug where unpickled object didn&#8217;t
have enough of its state set up to work
correctly within the unpickle() event established
by the mutable object extension, if the object
needed ORM attribute access within
__eq__() or similar.<a class="changeset-link reference internal" href="#change-3551999284ff42f7dcdc41a5a7332711">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2362">#2362</a></p>
</p>
</li>
<li><p id="change-0.7.5-12"><span class="target" id="change-abf88e7bed26797a4f92f148de9b72cb"><strong>[orm] [bug] </strong></span>Fixed bug where &#8220;merge&#8221; cascade could
mis-interpret an unloaded attribute, if the
load_on_pending flag were used with
relationship().  Thanks to Kent Bower
for tests.<a class="changeset-link reference internal" href="#change-abf88e7bed26797a4f92f148de9b72cb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2374">#2374</a></p>
</p>
</li>
<li><p id="change-0.7.5-13"><span class="target" id="change-08885bc09f14b67a91d5920966baf2bc"><strong>[orm] </strong></span>Fixed regression from 0.6 whereby if
&#8220;load_on_pending&#8221; relationship() flag were used
where a non-&#8220;get()&#8221; lazy clause needed to be
emitted on a pending object, it would fail
to load.<a class="changeset-link reference internal" href="#change-08885bc09f14b67a91d5920966baf2bc">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-engine">
<h3>engine<a class="headerlink" href="#change-0.7.5-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-14"><span class="target" id="change-9ebe95491ecfb2edd5dc94384c92d141"><strong>[engine] [bug] </strong></span>Added __reduce__ to StatementError,
DBAPIError, column errors so that exceptions
are pickleable, as when using multiprocessing.
However, not
all DBAPIs support this yet, such as
psycopg2.<a class="changeset-link reference internal" href="#change-9ebe95491ecfb2edd5dc94384c92d141">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2371">#2371</a></p>
</p>
</li>
<li><p id="change-0.7.5-15"><span class="target" id="change-b6d472837686e1a147a08b7332fff398"><strong>[engine] [bug] </strong></span>Improved error messages when a non-string
or invalid string is passed to any of the
date/time processors used by SQLite, including
C and Python versions.<a class="changeset-link reference internal" href="#change-b6d472837686e1a147a08b7332fff398">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2382">#2382</a></p>
</p>
</li>
<li><p id="change-0.7.5-16"><span class="target" id="change-ead8712a877501eeed679427b22e44f1"><strong>[engine] [bug] </strong></span>Fixed bug whereby a table-bound Column
object named &#8220;&lt;a&gt;_&lt;b&gt;&#8221; which matched a column
labeled as &#8220;&lt;tablename&gt;_&lt;colname&gt;&#8221; could match
inappropriately when targeting in a result
set row.<a class="changeset-link reference internal" href="#change-ead8712a877501eeed679427b22e44f1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2377">#2377</a></p>
</p>
</li>
<li><p id="change-0.7.5-17"><span class="target" id="change-1d2bfe0a34b8c72c15a364316180688c"><strong>[engine] [bug] </strong></span>Fixed bug in &#8220;mock&#8221; strategy whereby
correct DDL visit method wasn&#8217;t called, resulting
in &#8220;CREATE/DROP SEQUENCE&#8221; statements being
duplicated<a class="changeset-link reference internal" href="#change-1d2bfe0a34b8c72c15a364316180688c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2384">#2384</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-sql">
<h3>sql<a class="headerlink" href="#change-0.7.5-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-18"><span class="target" id="change-c7de069c3fc21b68e50f220e6a0dffe4"><strong>[sql] [feature] </strong></span>New reflection feature &#8220;autoload_replace&#8221;;
when set to False on Table, the Table can be autoloaded
without existing columns being replaced.  Allows
more flexible chains of Table construction/reflection
to be constructed, including that it helps with
combining Declarative with table reflection.
See the new example on the wiki.<a class="changeset-link reference internal" href="#change-c7de069c3fc21b68e50f220e6a0dffe4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">#2356</a></p>
</p>
</li>
<li><p id="change-0.7.5-19"><span class="target" id="change-177b33e20d11306f6f5b91727ba15982"><strong>[sql] [feature] </strong></span>Added &#8220;false()&#8221; and &#8220;true()&#8221; expression
constructs to sqlalchemy.sql namespace, though
not part of __all__ as of yet.<a class="changeset-link reference internal" href="#change-177b33e20d11306f6f5b91727ba15982">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.5-20"><span class="target" id="change-9950833e232ffe337fde2eea3cc80c55"><strong>[sql] [feature] </strong></span>Dialect-specific compilers now raise
CompileException for all type/statement compilation
issues, instead of InvalidRequestError or ArgumentError.
The DDL for CREATE TABLE will re-raise
CompileExceptions to include table/column information
for the problematic column.<a class="changeset-link reference internal" href="#change-9950833e232ffe337fde2eea3cc80c55">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2361">#2361</a></p>
</p>
</li>
<li><p id="change-0.7.5-21"><span class="target" id="change-39d3b5ddb9f3dcbd42a74dc6df0c998a"><strong>[sql] [bug] </strong></span>Improved the API for add_column() such that
if the same column is added to its own table,
an error is not raised and the constraints
don&#8217;t get doubled up.  Also helps with some
reflection/declarative patterns.<a class="changeset-link reference internal" href="#change-39d3b5ddb9f3dcbd42a74dc6df0c998a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">#2356</a></p>
</p>
</li>
<li><p id="change-0.7.5-22"><span class="target" id="change-37eea1099c4c938a74f03792a2635704"><strong>[sql] [bug] </strong></span>Fixed issue where the &#8220;required&#8221; exception
would not be raised for bindparam() with required=True,
if the statement were given no parameters at all.<a class="changeset-link reference internal" href="#change-37eea1099c4c938a74f03792a2635704">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2381">#2381</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.5-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-23"><span class="target" id="change-f8751618b3a1220a24952e880d8d1ec0"><strong>[mysql] [bug] </strong></span>fixed regexp that filters out warnings
for non-reflected &#8220;PARTITION&#8221; directives,
thanks to George Reilly<a class="changeset-link reference internal" href="#change-f8751618b3a1220a24952e880d8d1ec0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2376">#2376</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.5-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-24"><span class="target" id="change-117c33e7b1627c5cc26eee90b4ffa6fd"><strong>[sqlite] [bug] </strong></span>the &#8220;name&#8221; of an FK constraint in SQLite
is reflected as &#8220;None&#8221;, not &#8220;0&#8221; or other
integer value.
SQLite does not appear to support constraint
naming in any case.<a class="changeset-link reference internal" href="#change-117c33e7b1627c5cc26eee90b4ffa6fd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2364">#2364</a></p>
</p>
</li>
<li><p id="change-0.7.5-25"><span class="target" id="change-54d9c20f63f1e057ffafe7cd4bff6569"><strong>[sqlite] [bug] </strong></span>sql.false() and sql.true() compile to
0 and 1, respectively in sqlite<a class="changeset-link reference internal" href="#change-54d9c20f63f1e057ffafe7cd4bff6569">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2368">#2368</a></p>
</p>
</li>
<li><p id="change-0.7.5-26"><span class="target" id="change-2bdd22a024225bc7479dc1df515c5a4c"><strong>[sqlite] [bug] </strong></span>removed an erroneous &#8220;raise&#8221; in the
SQLite dialect when getting table names
and view names, where logic is in place
to fall back to an older version of
SQLite that doesn&#8217;t have the
&#8220;sqlite_temp_master&#8221; table.<a class="changeset-link reference internal" href="#change-2bdd22a024225bc7479dc1df515c5a4c">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.5-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-27"><span class="target" id="change-cfa986a99df4132f7d3327a8948212a3"><strong>[mssql] [bug] </strong></span>Adjusted the regexp used in the
mssql.TIME type to ensure only six digits
are received for the &#8220;microseconds&#8221; portion
of the value, which is expected by
Python&#8217;s datetime.time().  Note that
support for sending microseconds doesn&#8217;t
seem to be possible yet with pyodbc
at least.<a class="changeset-link reference internal" href="#change-cfa986a99df4132f7d3327a8948212a3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2340">#2340</a></p>
</p>
</li>
<li><p id="change-0.7.5-28"><span class="target" id="change-65bbfc0cbf4ea706329108c2d0689758"><strong>[mssql] [bug] </strong></span>Dropped the &#8220;30 char&#8221; limit on pymssql,
based on reports that it&#8217;s doing things
better these days.  pymssql hasn&#8217;t been
well tested and as the DBAPI is in flux
it&#8217;s still not clear what the status
is on this driver and how SQLAlchemy&#8217;s
implementation should adapt.<a class="changeset-link reference internal" href="#change-65bbfc0cbf4ea706329108c2d0689758">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2347">#2347</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.5-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-29"><span class="target" id="change-b601d2076969dff424f84e83f7e23a3f"><strong>[oracle] [bug] </strong></span>Added ORA-03135 to the never ending
list of oracle &#8220;connection lost&#8221; errors<a class="changeset-link reference internal" href="#change-b601d2076969dff424f84e83f7e23a3f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2388">#2388</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.5-misc">
<h3>misc<a class="headerlink" href="#change-0.7.5-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.5-30"><span class="target" id="change-7ea101b9e5ac780313f4ec94a8e11e50"><strong>[feature] [examples] </strong></span>Simplified the versioning example
a bit to use a declarative mixin as well
as an event listener, instead of a metaclass +
SessionExtension.<a class="changeset-link reference internal" href="#change-7ea101b9e5ac780313f4ec94a8e11e50">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2313">#2313</a></p>
</p>
</li>
<li><p id="change-0.7.5-31"><span class="target" id="change-8d78c8ac914fdc73f0352b8d86340cc3"><strong>[bug] [core] </strong></span>Changed LRUCache, used by the mapper
to cache INSERT/UPDATE/DELETE statements,
to use an incrementing counter instead
of a timestamp to track entries, for greater
reliability versus using time.time(), which
can cause test failures on some platforms.<a class="changeset-link reference internal" href="#change-8d78c8ac914fdc73f0352b8d86340cc3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2379">#2379</a></p>
</p>
</li>
<li><p id="change-0.7.5-32"><span class="target" id="change-f11c1ccaa941a5a91a34b9ed4664bc49"><strong>[bug] [core] </strong></span>Added a boolean check for the &#8220;finalize&#8221;
function within the pool connection proxy&#8217;s
weakref callback before calling it, so that a
warning isn&#8217;t emitted that this function is None
when the application is exiting and gc has
removed the function from the module before the
weakref callback was invoked.<a class="changeset-link reference internal" href="#change-f11c1ccaa941a5a91a34b9ed4664bc49">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2383">#2383</a></p>
</p>
</li>
<li><p id="change-0.7.5-33"><span class="target" id="change-1556c377ef9bf08b1aa03c0a86a85045"><strong>[bug] [py3k] </strong></span>Fixed inappropriate usage of util.py3k
flag and renamed it to util.py3k_warning, since
this flag is intended to detect the -3 flag
series of import restrictions only.<a class="changeset-link reference internal" href="#change-1556c377ef9bf08b1aa03c0a86a85045">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2348">#2348</a></p>
</p>
</li>
<li><p id="change-0.7.5-34"><span class="target" id="change-6152f928a75eb13ceaee66f9f222b9f0"><strong>[bug] [examples] </strong></span>Fixed large_collection.py to close the
session before dropping tables.<a class="changeset-link reference internal" href="#change-6152f928a75eb13ceaee66f9f222b9f0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2346">#2346</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.4">
<h2>0.7.4<a class="headerlink" href="#change-0.7.4" title="Permalink to this headline">¶</a></h2>
Released: Fri Dec 09 2011<div class="section" id="change-0.7.4-orm">
<h3>orm<a class="headerlink" href="#change-0.7.4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-0"><span class="target" id="change-dc3aefb201de941ad86706e78e661813"><strong>[orm] [feature] </strong></span>polymorphic_on now accepts many
new kinds of values:<blockquote>
<div><ul>
<li>standalone expressions that aren&#8217;t
otherwise mapped</li>
<li>column_property() objects</li>
<li>string names of any column_property()
or attribute name of a mapped Column</li>
</ul>
</div></blockquote>
<p>The docs include an example using
the case() construct, which is likely to be
a common constructed used here. and part of</p>
<p>Standalone expressions in polymorphic_on
propagate to single-table inheritance
subclasses so that they are used in the
WHERE /JOIN clause to limit rows to that
subclass as is the usual behavior.</p>
<a class="changeset-link reference internal" href="#change-dc3aefb201de941ad86706e78e661813">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2345">#2345</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2238">#2238</a></p>
</p>
</li>
<li><p id="change-0.7.4-1"><span class="target" id="change-596c83c399ac6bb626dfd9b5aa932b9c"><strong>[orm] [feature] </strong></span>IdentitySet supports the - operator
as the same as difference(), handy when dealing
with Session.dirty etc.<a class="changeset-link reference internal" href="#change-596c83c399ac6bb626dfd9b5aa932b9c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2301">#2301</a></p>
</p>
</li>
<li><p id="change-0.7.4-2"><span class="target" id="change-5c8167d0e62819144052e2a38f39b9ce"><strong>[orm] [feature] </strong></span>Added new value for Column autoincrement
called &#8220;ignore_fk&#8221;, can be used to force autoincrement
on a column that&#8217;s still part of a ForeignKeyConstraint.
New example in the relationship docs illustrates
its use.<a class="changeset-link reference internal" href="#change-5c8167d0e62819144052e2a38f39b9ce">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-3"><span class="target" id="change-31707f56997df996d8e87251b442de49"><strong>[orm] [bug] </strong></span>Fixed backref behavior when &#8220;popping&#8221; the
value off of a many-to-one in response to
a removal from a stale one-to-many - the operation
is skipped, since the many-to-one has since
been updated.<a class="changeset-link reference internal" href="#change-31707f56997df996d8e87251b442de49">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2315">#2315</a></p>
</p>
</li>
<li><p id="change-0.7.4-4"><span class="target" id="change-0597b131afb6950c6095cc7b9d41a22b"><strong>[orm] [bug] </strong></span>After some years of not doing this, added
more granularity to the &#8220;is X a parent of Y&#8221;
functionality, which is used when determining
if the FK on &#8220;Y&#8221; needs to be &#8220;nulled out&#8221; as well
as if &#8220;Y&#8221; should be deleted with delete-orphan
cascade.   The test now takes into account the
Python identity of the parent as well its identity
key, to see if the last known parent of Y is
definitely X.   If a decision
can&#8217;t be made, a StaleDataError is raised.  The
conditions where this error is raised are fairly
rare, requiring that the previous parent was
garbage collected, and previously
could very well inappropriately update/delete
a record that&#8217;s since moved onto a new parent,
though there may be some cases where
&#8220;silent success&#8221; occurred previously that will now
raise in the face of ambiguity.
Expiring &#8220;Y&#8221; resets the &#8220;parent&#8221; tracker, meaning
X.remove(Y) could then end up deleting Y even
if X is stale, but this is the same behavior
as before; it&#8217;s advised to expire X also in that
case.<a class="changeset-link reference internal" href="#change-0597b131afb6950c6095cc7b9d41a22b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2264">#2264</a></p>
</p>
</li>
<li><p id="change-0.7.4-5"><span class="target" id="change-1c8ec65ea5e475b56844652263a2ae2a"><strong>[orm] [bug] </strong></span>fixed inappropriate evaluation of user-mapped
object in a boolean context within query.get().  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-1c8ec65ea5e475b56844652263a2ae2a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2310">#2310</a></p>
</p>
</li>
<li><p id="change-0.7.4-6"><span class="target" id="change-bd50a6ee2954d91d3f6baec72cde98d0"><strong>[orm] [bug] </strong></span>Added missing comma to PASSIVE_RETURN_NEVER_SET
symbol<a class="changeset-link reference internal" href="#change-bd50a6ee2954d91d3f6baec72cde98d0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2304">#2304</a></p>
</p>
</li>
<li><p id="change-0.7.4-7"><span class="target" id="change-4cdfabe6f7b63319f49ffe1859ae22ef"><strong>[orm] [bug] </strong></span>Cls.column.collate(&#8220;some collation&#8221;) now
works.   Also in 0.6.9<a class="changeset-link reference internal" href="#change-4cdfabe6f7b63319f49ffe1859ae22ef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1776">#1776</a></p>
</p>
</li>
<li><p id="change-0.7.4-8"><span class="target" id="change-7ef516d5f722bd65a4071a3c93af8dcf"><strong>[orm] [bug] </strong></span>the value of a composite attribute is now
expired after an insert or update operation, instead
of regenerated in place.  This ensures that a
column value which is expired within a flush
will be loaded first, before the composite
is regenerated using that value.<a class="changeset-link reference internal" href="#change-7ef516d5f722bd65a4071a3c93af8dcf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2309">#2309</a></p>
</p>
</li>
<li><p id="change-0.7.4-9"><span class="target" id="change-05249cc8e387c5a8a616aaae385531e3"><strong>[orm] [bug] </strong></span>The fix in also emits the
&#8220;refresh&#8221; event when the composite value is
loaded on access, even if all column
values were already present, as is appropriate.
This fixes the &#8220;mutable&#8221; extension which relies
upon the &#8220;load&#8221; event to ensure the _parents
dictionary is up to date, fixes.
Thanks to Scott Torborg for the test case here.<a class="changeset-link reference internal" href="#change-05249cc8e387c5a8a616aaae385531e3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2309">#2309</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2308">#2308</a></p>
</p>
</li>
<li><p id="change-0.7.4-10"><span class="target" id="change-609fe72c8353d6327b7563d3f1a83b71"><strong>[orm] [bug] </strong></span>Fixed bug whereby a subclass of a subclass
using concrete inheritance in conjunction with
the new ConcreteBase or AbstractConcreteBase
would fail to apply the subclasses deeper than
one level to the &#8220;polymorphic loader&#8221; of each
base<a class="changeset-link reference internal" href="#change-609fe72c8353d6327b7563d3f1a83b71">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2312">#2312</a></p>
</p>
</li>
<li><p id="change-0.7.4-11"><span class="target" id="change-8198da84adbc73e64b436c59dc6a16f3"><strong>[orm] [bug] </strong></span>Fixed bug whereby a subclass of a subclass
using the new AbstractConcreteBase would fail
to acquire the correct &#8220;base_mapper&#8221; attribute
when the &#8220;base&#8221; mapper was generated, thereby
causing failures later on.<a class="changeset-link reference internal" href="#change-8198da84adbc73e64b436c59dc6a16f3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2312">#2312</a></p>
</p>
</li>
<li><p id="change-0.7.4-12"><span class="target" id="change-3928c6de9c155292edc1adf1edecb9d3"><strong>[orm] [bug] </strong></span>Fixed bug whereby column_property() created
against ORM-level column could be treated as
a distinct entity when producing certain
kinds of joined-inh joins.<a class="changeset-link reference internal" href="#change-3928c6de9c155292edc1adf1edecb9d3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2316">#2316</a></p>
</p>
</li>
<li><p id="change-0.7.4-13"><span class="target" id="change-4a30fc1572fd8ad440dc0246b95e4424"><strong>[orm] [bug] </strong></span>Fixed the error formatting raised when
a tuple is inadvertently passed to session.query().  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-4a30fc1572fd8ad440dc0246b95e4424">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2297">#2297</a></p>
</p>
</li>
<li><p id="change-0.7.4-14"><span class="target" id="change-a33290eb16ea6f93b88fc619c1643bec"><strong>[orm] [bug] </strong></span>Calls to query.join() to a single-table
inheritance subclass are now tracked, and
are used to eliminate the additional WHERE..
IN criterion normally tacked on with single
table inheritance, since the join should
accommodate it.  This allows OUTER JOIN
to a single table subclass to produce
the correct results, and overall will produce
fewer WHERE criterion when dealing with
single table inheritance joins.<a class="changeset-link reference internal" href="#change-a33290eb16ea6f93b88fc619c1643bec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2328">#2328</a></p>
</p>
</li>
<li><p id="change-0.7.4-15"><span class="target" id="change-598ef96bfad7670cdec19b24aba4df59"><strong>[orm] [bug] </strong></span>__table_args__ can now be passed as
an empty tuple as well as an empty dict..  Thanks to Fayaz Yusuf Khan
for the patch.<a class="changeset-link reference internal" href="#change-598ef96bfad7670cdec19b24aba4df59">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2339">#2339</a></p>
</p>
</li>
<li><p id="change-0.7.4-16"><span class="target" id="change-66ff5c39136a31854eb15d8bb803cb68"><strong>[orm] [bug] </strong></span>Updated warning message when setting
delete-orphan without delete to no longer
refer to 0.6, as we never got around to
upgrading this to an exception.  Ideally
this might be better as an exception but
it&#8217;s not critical either way.<a class="changeset-link reference internal" href="#change-66ff5c39136a31854eb15d8bb803cb68">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2325">#2325</a></p>
</p>
</li>
<li><p id="change-0.7.4-17"><span class="target" id="change-e28cb51839fda175259aa581e046b920"><strong>[orm] [bug] </strong></span>Fixed bug in get_history() when referring
to a composite attribute that has no value;
added coverage for get_history() regarding
composites which is otherwise just a userland
function.<a class="changeset-link reference internal" href="#change-e28cb51839fda175259aa581e046b920">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-engine">
<h3>engine<a class="headerlink" href="#change-0.7.4-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-18"><span class="target" id="change-b0f112949f1f605e403ae19464fd0f72"><strong>[engine] [bug] </strong></span>Fixed bug whereby transaction.rollback()
would throw an error on an invalidated
connection if the transaction were a
two-phase or savepoint transaction.
For plain transactions, rollback() is a no-op
if the connection is invalidated, so while
it wasn&#8217;t 100% clear if it should be a no-op,
at least now the interface is consistent.<a class="changeset-link reference internal" href="#change-b0f112949f1f605e403ae19464fd0f72">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2317">#2317</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-sql">
<h3>sql<a class="headerlink" href="#change-0.7.4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-19"><span class="target" id="change-16a2053641572c412b6754e5dbf15b08"><strong>[sql] [feature] </strong></span>The update() construct can now accommodate
multiple tables in the WHERE clause, which will
render an &#8220;UPDATE..FROM&#8221; construct, recognized by
Postgresql and MSSQL.  When compiled on MySQL,
will instead generate &#8220;UPDATE t1, t2, ..&#8221;.  MySQL
additionally can render against multiple tables in the
SET clause, if Column objects are used as keys
in the &#8220;values&#8221; parameter or generative method.<a class="changeset-link reference internal" href="#change-16a2053641572c412b6754e5dbf15b08">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2166">#2166</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1944">#1944</a></p>
</p>
</li>
<li><p id="change-0.7.4-20"><span class="target" id="change-7b1b8704940a6df76cfdeaf3ebdaf8bf"><strong>[sql] [feature] </strong></span>Added accessor to types called &#8220;python_type&#8221;,
returns the rudimentary Python type object
for a particular TypeEngine instance, if known,
else raises NotImplementedError.<a class="changeset-link reference internal" href="#change-7b1b8704940a6df76cfdeaf3ebdaf8bf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/77">#77</a></p>
</p>
</li>
<li><p id="change-0.7.4-21"><span class="target" id="change-93f0d91f5bbe4c6452dfb872bf427219"><strong>[sql] [bug] </strong></span>related to, made some
adjustments to the change from
regarding the &#8220;from&#8221; list on a select(). The
_froms collection is no longer memoized, as this
simplifies various use cases and removes the
need for a &#8220;warning&#8221; if a column is attached
to a table after it was already used in an
expression - the select() construct will now
always produce the correct expression.
There&#8217;s probably no real-world
performance hit here; select() objects are
almost always made ad-hoc, and systems that
wish to optimize the re-use of a select()
would be using the &#8220;compiled_cache&#8221; feature.
A hit which would occur when calling select.bind
has been reduced, but the vast majority
of users shouldn&#8217;t be using &#8220;bound metadata&#8221;
anyway :).<a class="changeset-link reference internal" href="#change-93f0d91f5bbe4c6452dfb872bf427219">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2316">#2316</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">#2261</a></p>
</p>
</li>
<li><p id="change-0.7.4-22"><span class="target" id="change-980730aa57637cb4737a12677e711fb6"><strong>[sql] [bug] </strong></span>further tweak to the fix from,
so that generative methods work a bit better
off of cloned (this is almost a non-use case though).
In particular this allows with_only_columns()
to behave more consistently.   Added additional
documentation to with_only_columns() to clarify
expected behavior, which changed as a result
of.<a class="changeset-link reference internal" href="#change-980730aa57637cb4737a12677e711fb6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">#2261</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2319">#2319</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-schema">
<h3>schema<a class="headerlink" href="#change-0.7.4-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-23"><span class="target" id="change-30eeb63f3664807fb7da0abb1b45863d"><strong>[schema] [feature] </strong></span>Added new support for remote &#8220;schemas&#8221;:<a class="changeset-link reference internal" href="#change-30eeb63f3664807fb7da0abb1b45863d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-24"><span class="target" id="change-f8b27554125d172552f8afbb264be5ce"><strong>[schema] [feature] </strong></span>The &#8220;extend_existing&#8221; flag on Table
now allows for the reflection process to take
effect for a Table object that&#8217;s already been
defined; when autoload=True and extend_existing=True
are both set, the full set of columns will be
reflected from the Table which will then
<em>overwrite</em> those columns already present,
rather than no activity occurring.  Columns that
are present directly in the autoload run
will be used as always, however.<a class="changeset-link reference internal" href="#change-f8b27554125d172552f8afbb264be5ce">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1410">#1410</a></p>
</p>
</li>
<li><p id="change-0.7.4-25"><span class="target" id="change-740f1ca9e5f6d1013a43d2f2a3b62e46"><strong>[schema] [bug] </strong></span>Fixed bug whereby TypeDecorator would
return a stale value for _type_affinity, when
using a TypeDecorator that &#8220;switches&#8221; types,
like the CHAR/UUID type.<a class="changeset-link reference internal" href="#change-740f1ca9e5f6d1013a43d2f2a3b62e46">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-26"><span class="target" id="change-e6f81ac547b821c6e3284e266230443c"><strong>[schema] [bug] </strong></span>Fixed bug whereby &#8220;order_by=&#8217;foreign_key&#8217;&#8221;
option to Inspector.get_table_names
wasn&#8217;t implementing the sort properly, replaced
with the existing sort algorithm<a class="changeset-link reference internal" href="#change-e6f81ac547b821c6e3284e266230443c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-27"><span class="target" id="change-d16f46aeda4253c3b9b85c8bbacdeeef"><strong>[schema] [bug] </strong></span>the &#8220;name&#8221; of a column-level CHECK constraint,
if present, is now rendered in the CREATE TABLE
statement using &#8220;CONSTRAINT &lt;name&gt; CHECK &lt;expression&gt;&#8221;.<a class="changeset-link reference internal" href="#change-d16f46aeda4253c3b9b85c8bbacdeeef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2305">#2305</a></p>
</p>
</li>
<li><p id="change-0.7.4-28"><span class="target" id="change-82862f893ba8ec9c5f0ee21833ef35a4"><strong>[schema] </strong></span>MetaData() accepts &#8220;schema&#8221; and &#8220;quote_schema&#8221;
arguments, which will be applied to the same-named
arguments of a Table
or Sequence which leaves these at their default
of <tt class="docutils literal"><span class="pre">None</span></tt>.<a class="changeset-link reference internal" href="#change-82862f893ba8ec9c5f0ee21833ef35a4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-29"><span class="target" id="change-0ee589a6906f82d2282e3743c9ac4052"><strong>[schema] </strong></span>Sequence accepts &#8220;quote_schema&#8221; argument<a class="changeset-link reference internal" href="#change-0ee589a6906f82d2282e3743c9ac4052">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-30"><span class="target" id="change-b47c1358552d546535afa1ac13ce8cc1"><strong>[schema] </strong></span>tometadata() for Table will use the &#8220;schema&#8221;
of the incoming MetaData for the new Table
if the schema argument is explicitly &#8220;None&#8221;<a class="changeset-link reference internal" href="#change-b47c1358552d546535afa1ac13ce8cc1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-31"><span class="target" id="change-7fbdac893513ac9abb39e64255d2f8b4"><strong>[schema] </strong></span>Added CreateSchema and DropSchema DDL
constructs - these accept just the string
name of a schema and a &#8220;quote&#8221; flag.<a class="changeset-link reference internal" href="#change-7fbdac893513ac9abb39e64255d2f8b4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-32"><span class="target" id="change-efb9e7247339600fac23ba8079daedaa"><strong>[schema] </strong></span>When using default &#8220;schema&#8221; with MetaData,
ForeignKey will also assume the &#8220;default&#8221; schema
when locating remote table.  This allows the &#8220;schema&#8221;
argument on MetaData to be applied to any
set of Table objects that otherwise don&#8217;t have
a &#8220;schema&#8221;.<a class="changeset-link reference internal" href="#change-efb9e7247339600fac23ba8079daedaa">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-33"><span class="target" id="change-39c704a27e81d7f8e28e36b554c33fd0"><strong>[schema] </strong></span><dl class="docutils">
<dt>a &#8220;has_schema&#8221; method has been implemented</dt>
<dd>on dialect, but only works on Postgresql so far.</dd>
</dl>
<p>Courtesy Manlio Perillo.</p>
<a class="changeset-link reference internal" href="#change-39c704a27e81d7f8e28e36b554c33fd0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1679">#1679</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.4-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-34"><span class="target" id="change-240e42b2a45d8da58ef70d6352879aa0"><strong>[postgresql] [feature] </strong></span>Added create_type constructor argument
to pg.ENUM.  When False, no CREATE/DROP or
checking for the type will be performed as part
of a table create/drop event; only the
create()/drop)() methods called directly
will do this.  Helps with Alembic &#8220;offline&#8221;
scripts.<a class="changeset-link reference internal" href="#change-240e42b2a45d8da58ef70d6352879aa0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-35"><span class="target" id="change-fcdadfef6dc24e48c5801555aed80ea6"><strong>[postgresql] [bug] </strong></span>Postgresql dialect memoizes that an ENUM of a
particular name was processed
during a create/drop sequence.  This allows
a create/drop sequence to work without any
calls to &#8220;checkfirst&#8221;, and also means with
&#8220;checkfirst&#8221; turned on it only needs to
check for the ENUM once.<a class="changeset-link reference internal" href="#change-fcdadfef6dc24e48c5801555aed80ea6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2311">#2311</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.4-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-36"><span class="target" id="change-87f7d5afd8c8a0001858444e6cd3690a"><strong>[mysql] [bug] </strong></span>Unicode adjustments allow latest pymysql
(post 0.4) to pass 100% on Python 2.<a class="changeset-link reference internal" href="#change-87f7d5afd8c8a0001858444e6cd3690a">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.4-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-37"><span class="target" id="change-a87623bce57b04db403132f2fa33acb1"><strong>[mssql] [feature] </strong></span>lifted the restriction on SAVEPOINT
for SQL Server.  All tests pass using it,
it&#8217;s not known if there are deeper issues
however.<a class="changeset-link reference internal" href="#change-a87623bce57b04db403132f2fa33acb1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/822">#822</a></p>
</p>
</li>
<li><p id="change-0.7.4-38"><span class="target" id="change-8ce7ab418720d92012440e27a7609754"><strong>[mssql] [bug] </strong></span>repaired the with_hint() feature which
wasn&#8217;t implemented correctly on MSSQL -
usually used for the &#8220;WITH (NOLOCK)&#8221; hint
(which you shouldn&#8217;t be using anyway !
use snapshot isolation instead :) )<a class="changeset-link reference internal" href="#change-8ce7ab418720d92012440e27a7609754">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2336">#2336</a></p>
</p>
</li>
<li><p id="change-0.7.4-39"><span class="target" id="change-24887a76b4459a4583801f84bf9c9130"><strong>[mssql] [bug] </strong></span>use new pyodbc version detection for
_need_decimal_fix option.<a class="changeset-link reference internal" href="#change-24887a76b4459a4583801f84bf9c9130">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2318">#2318</a></p>
</p>
</li>
<li><p id="change-0.7.4-40"><span class="target" id="change-f7f5ed67d9b7d73a8f4cf6aaa054c0c6"><strong>[mssql] [bug] </strong></span>don&#8217;t cast &#8220;table name&#8221; as NVARCHAR
on SQL Server 2000.  Still mostly in the dark
what incantations are needed to make PyODBC
work fully with FreeTDS 0.91 here, however.<a class="changeset-link reference internal" href="#change-f7f5ed67d9b7d73a8f4cf6aaa054c0c6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2343">#2343</a></p>
</p>
</li>
<li><p id="change-0.7.4-41"><span class="target" id="change-426d539458da725fa9abfb7f28580ca7"><strong>[mssql] [bug] </strong></span>Decode incoming values when retrieving
list of index names and the names of columns
within those indexes.<a class="changeset-link reference internal" href="#change-426d539458da725fa9abfb7f28580ca7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2269">#2269</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.4-misc">
<h3>misc<a class="headerlink" href="#change-0.7.4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.4-42"><span class="target" id="change-079906bcdf912b0240d809ea2295ab7d"><strong>[feature] [ext] </strong></span>Added an example to the hybrid docs
of a &#8220;transformer&#8221; - a hybrid that returns a
query-transforming callable in combination
with a custom comparator.   Uses a new method
on Query called with_transformation().  The use
case here is fairly experimental, but only
adds one line of code to Query.<a class="changeset-link reference internal" href="#change-079906bcdf912b0240d809ea2295ab7d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-43"><span class="target" id="change-8903fbf1a6a4cb048375458cf67d2ee1"><strong>[bug] [pyodbc] </strong></span>pyodbc-based dialects now parse the
pyodbc accurately as far as observed
pyodbc strings, including such gems
as &#8220;py3-3.0.1-beta4&#8221;<a class="changeset-link reference internal" href="#change-8903fbf1a6a4cb048375458cf67d2ee1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2318">#2318</a></p>
</p>
</li>
<li><p id="change-0.7.4-44"><span class="target" id="change-1ed8ebcf5df5083fc07f342f18c03ac7"><strong>[bug] [ext] </strong></span>the &#64;compiles decorator raises an
informative error message when no &#8220;default&#8221;
compilation handler is present, rather
than KeyError.<a class="changeset-link reference internal" href="#change-1ed8ebcf5df5083fc07f342f18c03ac7">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.4-45"><span class="target" id="change-cfcfa2af9f30380f7d1dd29b4b8942c6"><strong>[bug] [examples] </strong></span>Fixed bug in history_meta.py example where
the &#8220;unique&#8221; flag was not removed from a
single-table-inheritance subclass which
generates columns to put up onto the base.<a class="changeset-link reference internal" href="#change-cfcfa2af9f30380f7d1dd29b4b8942c6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.3">
<h2>0.7.3<a class="headerlink" href="#change-0.7.3" title="Permalink to this headline">¶</a></h2>
Released: Sun Oct 16 2011<div class="section" id="change-0.7.3-general">
<h3>general<a class="headerlink" href="#change-0.7.3-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-0"><span class="target" id="change-29ab8f946c75b6324ab4623bb4dbe039"><strong>[general] </strong></span>Adjusted the &#8220;importlater&#8221; mechanism, which is
used internally to resolve import cycles,
such that the usage of __import__ is completed
when the import of sqlalchemy or sqlalchemy.orm
is done, thereby avoiding any usage of __import__
after the application starts new threads,
fixes.  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-29ab8f946c75b6324ab4623bb4dbe039">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2279">#2279</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-orm">
<h3>orm<a class="headerlink" href="#change-0.7.3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-1"><span class="target" id="change-ae5b4bf7f08f7c5c83775c1368dad41a"><strong>[orm] </strong></span>Improved query.join() such that the &#8220;left&#8221; side
can more flexibly be a non-ORM selectable,
such as a subquery.   A selectable placed
in select_from() will now be used as the left
side, favored over implicit usage
of a mapped entity.
If the join still fails based on lack of
foreign keys, the error message includes
this detail.  Thanks to brianrhude
on IRC for the test case.<a class="changeset-link reference internal" href="#change-ae5b4bf7f08f7c5c83775c1368dad41a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2298">#2298</a></p>
</p>
</li>
<li><p id="change-0.7.3-2"><span class="target" id="change-6c9416f183df27b183148e9bd94420a1"><strong>[orm] </strong></span>Added after_soft_rollback() Session event.  This
event fires unconditionally whenever rollback()
is called, regardless of if an actual DBAPI
level rollback occurred.  This event
is specifically designed to allow operations
with the Session to proceed after a rollback
when the Session.is_active is True.<a class="changeset-link reference internal" href="#change-6c9416f183df27b183148e9bd94420a1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2241">#2241</a></p>
</p>
</li>
<li><p id="change-0.7.3-3"><span class="target" id="change-8cc754ccc2adc294ad252d4bdeb370d0"><strong>[orm] </strong></span>added &#8220;adapt_on_names&#8221; boolean flag to orm.aliased()
construct.  Allows an aliased() construct
to link the ORM entity to a selectable that contains
aggregates or other derived forms of a particular
attribute, provided the name is the same as that
of the entity mapped column.<a class="changeset-link reference internal" href="#change-8cc754ccc2adc294ad252d4bdeb370d0">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-4"><span class="target" id="change-f10203ba4e7e846b2ba30301f2a94379"><strong>[orm] </strong></span>Added new flag expire_on_flush=False to column_property(),
marks those properties that would otherwise be considered
to be &#8220;readonly&#8221;, i.e. derived from SQL expressions,
to retain their value after a flush has occurred, including
if the parent object itself was involved in an update.<a class="changeset-link reference internal" href="#change-f10203ba4e7e846b2ba30301f2a94379">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-5"><span class="target" id="change-dabcd52c3c2100f50821b002f1e3a6a5"><strong>[orm] </strong></span>Enhanced the instrumentation in the ORM to support
Py3K&#8217;s new argument style of &#8220;required kw arguments&#8221;,
i.e. fn(a, b, <a href="#id1"><span class="problematic" id="id2">*</span></a>, c, d), fn(a, b, <a href="#id3"><span class="problematic" id="id4">*</span></a>args, c, d).
Argument signatures of mapped object&#8217;s __init__
method will be preserved, including required kw rules.<a class="changeset-link reference internal" href="#change-dabcd52c3c2100f50821b002f1e3a6a5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2237">#2237</a></p>
</p>
</li>
<li><p id="change-0.7.3-6"><span class="target" id="change-c4cedeedbd7be98f6ce67dac3e197919"><strong>[orm] </strong></span>Fixed bug in unit of work whereby detection of
&#8220;cycles&#8221; among classes in highly interlinked patterns
would not produce a deterministic
result; thereby sometimes missing some nodes that
should be considered cycles and causing further
issues down the road.  Note this bug is in 0.6
also; not backported at the moment.<a class="changeset-link reference internal" href="#change-c4cedeedbd7be98f6ce67dac3e197919">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2282">#2282</a></p>
</p>
</li>
<li><p id="change-0.7.3-7"><span class="target" id="change-01e3a7d2882ae99168675b1632b15b86"><strong>[orm] </strong></span>Fixed a variety of synonym()-related regressions
from 0.6:<blockquote>
<div><ul>
<li>making a synonym against a synonym now works.</li>
<li>synonyms made against a relationship() can
be passed to query.join(), options sent
to query.options(), passed by name
to query.with_parent().</li>
</ul>
</div></blockquote>
<a class="changeset-link reference internal" href="#change-01e3a7d2882ae99168675b1632b15b86">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-8"><span class="target" id="change-3376d1f0f8fd5692e18be45ec4f9df6d"><strong>[orm] </strong></span>Fixed bug whereby mapper.order_by attribute would
be ignored in the &#8220;inner&#8221; query within a
subquery eager load. .
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-3376d1f0f8fd5692e18be45ec4f9df6d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2287">#2287</a></p>
</p>
</li>
<li><p id="change-0.7.3-9"><span class="target" id="change-1eeda31b58b0498795c90858495711b1"><strong>[orm] </strong></span>Identity map .discard() uses dict.pop(,None)
internally instead of &#8220;del&#8221; to avoid KeyError/warning
during a non-determinate gc teardown<a class="changeset-link reference internal" href="#change-1eeda31b58b0498795c90858495711b1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2267">#2267</a></p>
</p>
</li>
<li><p id="change-0.7.3-10"><span class="target" id="change-b2a626fabeac396bf73fa7b10eaf0786"><strong>[orm] </strong></span>Fixed regression in new composite rewrite where
deferred=True option failed due to missing
import<a class="changeset-link reference internal" href="#change-b2a626fabeac396bf73fa7b10eaf0786">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2253">#2253</a></p>
</p>
</li>
<li><p id="change-0.7.3-11"><span class="target" id="change-1cfd554de6fd12bc9bbed36f51379b32"><strong>[orm] </strong></span>Reinstated &#8220;comparator_factory&#8221; argument to
composite(), removed when 0.7 was released.<a class="changeset-link reference internal" href="#change-1cfd554de6fd12bc9bbed36f51379b32">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2248">#2248</a></p>
</p>
</li>
<li><p id="change-0.7.3-12"><span class="target" id="change-ecfede670d6323fc4e0c9f2b4c2d4ffa"><strong>[orm] </strong></span>Fixed bug in query.join() which would occur
in a complex multiple-overlapping path scenario,
where the same table could be joined to
twice.  Thanks <em>much</em> to Dave Vitek
for the excellent fix here.<a class="changeset-link reference internal" href="#change-ecfede670d6323fc4e0c9f2b4c2d4ffa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2247">#2247</a></p>
</p>
</li>
<li><p id="change-0.7.3-13"><span class="target" id="change-ca7dab171c5b45294a127e6ae80ee565"><strong>[orm] </strong></span>Query will convert an OFFSET of zero when
slicing into None, so that needless OFFSET
clauses are not invoked.<a class="changeset-link reference internal" href="#change-ca7dab171c5b45294a127e6ae80ee565">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-14"><span class="target" id="change-bfefa86c53e4b97eb19697ef006bac6a"><strong>[orm] </strong></span>Repaired edge case where mapper would fail
to fully update internal state when a relationship
on a new mapper would establish a backref on the
first mapper.<a class="changeset-link reference internal" href="#change-bfefa86c53e4b97eb19697ef006bac6a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-15"><span class="target" id="change-35a916ff4e0cd3752176e3645b8e726c"><strong>[orm] </strong></span>Fixed bug whereby if __eq__() was
redefined, a relationship many-to-one lazyload
would hit the __eq__() and fail.
Does not apply to 0.6.9.<a class="changeset-link reference internal" href="#change-35a916ff4e0cd3752176e3645b8e726c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2260">#2260</a></p>
</p>
</li>
<li><p id="change-0.7.3-16"><span class="target" id="change-f3c15c1285778343f7424d1dd8d2dc23"><strong>[orm] </strong></span>Calling class_mapper() and passing in an object
that is not a &#8220;type&#8221; (i.e. a class that could
potentially be mapped) now raises an informative
ArgumentError, rather than UnmappedClassError.<a class="changeset-link reference internal" href="#change-f3c15c1285778343f7424d1dd8d2dc23">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2196">#2196</a></p>
</p>
</li>
<li><p id="change-0.7.3-17"><span class="target" id="change-f11c11a3ef0b67817b440a0b327c60a3"><strong>[orm] </strong></span>New event hook, MapperEvents.after_configured().
Called after a configure() step has completed and
mappers were in fact affected.   Theoretically this
event is called once per application, unless new mappings
are constructed after existing ones have been used
already.<a class="changeset-link reference internal" href="#change-f11c11a3ef0b67817b440a0b327c60a3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-18"><span class="target" id="change-5c6dee5ef6c553b074703bc9546027b3"><strong>[orm] </strong></span>When an open Session is garbage collected, the objects
within it which remain are considered detached again
when they are add()-ed to a new Session.
This is accomplished by an extra check that the previous
&#8220;session_key&#8221; doesn&#8217;t actually exist among the pool
of Sessions.<a class="changeset-link reference internal" href="#change-5c6dee5ef6c553b074703bc9546027b3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2281">#2281</a></p>
</p>
</li>
<li><p id="change-0.7.3-19"><span class="target" id="change-77db0e4014e12385c5bf5b7f63498293"><strong>[orm] </strong></span><dl class="docutils">
<dt>New declarative features:</dt>
<dd><ul class="first">
<li>__declare_last__() method, establishes an event</li>
</ul>
<p class="last">listener for the class method that will be called
when mappers are completed with the final &#8220;configure&#8221;
step.
- __abstract__ flag.   The class will not be mapped
at all when this flag is present on the class.
- New helper classes ConcreteBase, AbstractConcreteBase.
Allow concrete mappings using declarative which automatically
set up the &#8220;polymorphic_union&#8221; when the &#8220;configure&#8221;
mapper step is invoked.
- The mapper itself has semi-private methods that allow
the &#8220;with_polymorphic&#8221; selectable to be assigned
to the mapper after it has already been configured.</p>
</dd>
</dl>
<a class="changeset-link reference internal" href="#change-77db0e4014e12385c5bf5b7f63498293">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2239">#2239</a></p>
</p>
</li>
<li><p id="change-0.7.3-20"><span class="target" id="change-939714d3448edca7f9d13cce0b4ba5cb"><strong>[orm] </strong></span>Declarative will warn when a subclass&#8217; base uses
&#64;declared_attr for a regular column - this attribute
does not propagate to subclasses.<a class="changeset-link reference internal" href="#change-939714d3448edca7f9d13cce0b4ba5cb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2283">#2283</a></p>
</p>
</li>
<li><p id="change-0.7.3-21"><span class="target" id="change-a38f4b857777203b02c6fb8320f6ab56"><strong>[orm] </strong></span>The integer &#8220;id&#8221; used to link a mapped instance with
its owning Session is now generated by a sequence
generation function rather than id(Session), to
eliminate the possibility of recycled id() values
causing an incorrect result, no need to check that
object actually in the session.<a class="changeset-link reference internal" href="#change-a38f4b857777203b02c6fb8320f6ab56">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2280">#2280</a></p>
</p>
</li>
<li><p id="change-0.7.3-22"><span class="target" id="change-4e682b3609b1baadc8abcfc7bd1a9cfe"><strong>[orm] </strong></span>Behavioral improvement: empty
conjunctions such as and_() and or_() will be
flattened in the context of an enclosing conjunction,
i.e. and_(x, or_()) will produce &#8216;X&#8217; and not &#8216;X AND
()&#8217;..<a class="changeset-link reference internal" href="#change-4e682b3609b1baadc8abcfc7bd1a9cfe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2257">#2257</a></p>
</p>
</li>
<li><p id="change-0.7.3-23"><span class="target" id="change-9f535715e9461a8906aa9ad3b5766826"><strong>[orm] </strong></span>Fixed bug regarding calculation of &#8220;from&#8221; list
for a select() element.  The &#8220;from&#8221; calc is now
delayed, so that if the construct uses a Column
object that is not yet attached to a Table,
but is later associated with a Table, it generates
SQL using the table as a FROM.   This change
impacted fairly deeply the mechanics of how
the FROM list as well as the &#8220;correlates&#8221; collection
is calculated, as some &#8220;clause adaption&#8221; schemes
(these are used very heavily in the ORM)
were relying upon the fact that the &#8220;froms&#8221;
collection would typically be cached before the
adaption completed.   The rework allows it
such that the &#8220;froms&#8221; collection can be cleared
and re-generated at any time.<a class="changeset-link reference internal" href="#change-9f535715e9461a8906aa9ad3b5766826">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">#2261</a></p>
</p>
</li>
<li><p id="change-0.7.3-24"><span class="target" id="change-99995021df97bdd6d7230fd3bf0b14f7"><strong>[orm] </strong></span>Fixed bug whereby with_only_columns() method of
Select would fail if a selectable were passed..  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-99995021df97bdd6d7230fd3bf0b14f7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2270">#2270</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-engine">
<h3>engine<a class="headerlink" href="#change-0.7.3-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-25"><span class="target" id="change-fe03967391583f1af44b0523e58c6f32"><strong>[engine] </strong></span>The recreate() method in all pool classes uses
self.__class__ to get at the type of pool
to produce, in the case of subclassing.  Note
there&#8217;s no usual need to subclass pools.<a class="changeset-link reference internal" href="#change-fe03967391583f1af44b0523e58c6f32">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2254">#2254</a></p>
</p>
</li>
<li><p id="change-0.7.3-26"><span class="target" id="change-c8b58c6c69a06f1d1edd761f2c33f734"><strong>[engine] </strong></span>Improvement to multi-param statement logging,
long lists of bound parameter sets will be
compressed with an informative indicator
of the compression taking place.  Exception
messages use the same improved formatting.<a class="changeset-link reference internal" href="#change-c8b58c6c69a06f1d1edd761f2c33f734">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2243">#2243</a></p>
</p>
</li>
<li><p id="change-0.7.3-27"><span class="target" id="change-cb1dfd536798db442dde52ee6331cdd4"><strong>[engine] </strong></span>Added optional &#8220;sa_pool_key&#8221; argument to
pool.manage(dbapi).connect() so that serialization
of args is not necessary.<a class="changeset-link reference internal" href="#change-cb1dfd536798db442dde52ee6331cdd4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-28"><span class="target" id="change-81ebdbd8717e73506ce6b46e7f145f52"><strong>[engine] </strong></span>The entry point resolution supported by
create_engine() now supports resolution of
individual DBAPI drivers on top of a built-in
or entry point-resolved dialect, using the
standard &#8216;+&#8217; notation - it&#8217;s converted to
a &#8216;.&#8217; before being resolved as an entry
point.<a class="changeset-link reference internal" href="#change-81ebdbd8717e73506ce6b46e7f145f52">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2286">#2286</a></p>
</p>
</li>
<li><p id="change-0.7.3-29"><span class="target" id="change-d8e856413f2efc008bfbfc1c10a5421e"><strong>[engine] </strong></span>Added an exception catch + warning for the
&#8220;return unicode detection&#8221; step within connect,
allows databases that crash on NVARCHAR to
continue initializing, assuming no NVARCHAR
type implemented.<a class="changeset-link reference internal" href="#change-d8e856413f2efc008bfbfc1c10a5421e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2299">#2299</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-schema">
<h3>schema<a class="headerlink" href="#change-0.7.3-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-30"><span class="target" id="change-de8c32a6729c83da17177f6a13979717"><strong>[schema] </strong></span>Modified Column.copy() to use _constructor(),
which defaults to self.__class__, in order to
create the new object.  This allows easier support
of subclassing Column.<a class="changeset-link reference internal" href="#change-de8c32a6729c83da17177f6a13979717">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2284">#2284</a></p>
</p>
</li>
<li><p id="change-0.7.3-31"><span class="target" id="change-32308255f47669cee375f30b9c00fd93"><strong>[schema] </strong></span>Added a slightly nicer __repr__() to SchemaItem
classes.  Note the repr here can&#8217;t fully support
the &#8220;repr is the constructor&#8221; idea since schema
items can be very deeply nested/cyclical, have
late initialization of some things, etc.<a class="changeset-link reference internal" href="#change-32308255f47669cee375f30b9c00fd93">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2223">#2223</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-32"><span class="target" id="change-dfbbf7fcd27cee6a40162ad7712796a8"><strong>[postgresql] </strong></span>Added &#8220;postgresql_using&#8221; argument to Index(), produces
USING clause to specify index implementation for
PG. .  Thanks to Ryan P. Kelly for
the patch.<a class="changeset-link reference internal" href="#change-dfbbf7fcd27cee6a40162ad7712796a8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2290">#2290</a></p>
</p>
</li>
<li><p id="change-0.7.3-33"><span class="target" id="change-ce7825ce219e385bc6db449ec1a37fa4"><strong>[postgresql] </strong></span>Added client_encoding parameter to create_engine()
when the postgresql+psycopg2 dialect is used;
calls the psycopg2 set_client_encoding() method
with the value upon connect.<a class="changeset-link reference internal" href="#change-ce7825ce219e385bc6db449ec1a37fa4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1839">#1839</a></p>
</p>
</li>
<li><p id="change-0.7.3-34"><span class="target" id="change-1a2de32673fea06a4118fba7422b3b5e"><strong>[postgresql] </strong></span>Fixed bug related to whereby the
same modified index behavior in PG 9 affected
primary key reflection on a renamed column..  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-1a2de32673fea06a4118fba7422b3b5e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">#2291</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">#2141</a></p>
</p>
</li>
<li><p id="change-0.7.3-35"><span class="target" id="change-a5584939f5bbdeea7e400a4f8440ee72"><strong>[postgresql] </strong></span>Reflection functions for Table, Sequence no longer
case insensitive.  Names can be differ only in case
and will be correctly distinguished.<a class="changeset-link reference internal" href="#change-a5584939f5bbdeea7e400a4f8440ee72">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2256">#2256</a></p>
</p>
</li>
<li><p id="change-0.7.3-36"><span class="target" id="change-39b479d7d5d6b7bfce6b386c07e71086"><strong>[postgresql] </strong></span>Use an atomic counter as the &#8220;random number&#8221;
source for server side cursor names;
conflicts have been reported in rare cases.<a class="changeset-link reference internal" href="#change-39b479d7d5d6b7bfce6b386c07e71086">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.3-37"><span class="target" id="change-26fee7eb2a113690d6c965d0964e4638"><strong>[postgresql] </strong></span>Narrowed the assumption made when reflecting
a foreign-key referenced table with schema in
the current search path; an explicit schema will
be applied to the referenced table only if
it actually matches that of the referencing table,
which also has an explicit schema.   Previously
it was assumed that &#8220;current&#8221; schema was synonymous
with the full search_path.<a class="changeset-link reference internal" href="#change-26fee7eb2a113690d6c965d0964e4638">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2249">#2249</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.3-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-38"><span class="target" id="change-dd71574d14be141186b7bdcca5c9a7f8"><strong>[mysql] </strong></span>a CREATE TABLE will put the COLLATE option
after CHARSET, which appears to be part of
MySQL&#8217;s arbitrary rules regarding if it will actually
work or not.   Also in 0.6.9.<a class="changeset-link reference internal" href="#change-dd71574d14be141186b7bdcca5c9a7f8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2225">#2225</a></p>
</p>
</li>
<li><p id="change-0.7.3-39"><span class="target" id="change-34aeb67581ad7ffc3ae0f6881dd7c33a"><strong>[mysql] </strong></span>Added mysql_length parameter to Index construct,
specifies &#8220;length&#8221; for indexes.<a class="changeset-link reference internal" href="#change-34aeb67581ad7ffc3ae0f6881dd7c33a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2293">#2293</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.3-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-40"><span class="target" id="change-8baaec5ace78d532c085c871572559c6"><strong>[sqlite] </strong></span>Ensured that the same ValueError is raised for
illegal date/time/datetime string parsed from
the database regardless of whether C
extensions are in use or not.<a class="changeset-link reference internal" href="#change-8baaec5ace78d532c085c871572559c6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.3-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-41"><span class="target" id="change-36fa8324de82b137e203587ba0e82d17"><strong>[mssql] </strong></span>Changes to attempt support of FreeTDS 0.91 with
Pyodbc.  This includes that string binds are sent as
Python unicode objects when FreeTDS 0.91 is detected,
and a CAST(? AS NVARCHAR) is used when we detect
for a table.   However, I&#8217;d continue
to characterize Pyodbc + FreeTDS 0.91 behavior as
pretty crappy, there are still many queries such
as used in reflection which cause a core dump on
Linux, and it is not really usable at all
on OSX, MemoryErrors abound and just plain broken
unicode support.<a class="changeset-link reference internal" href="#change-36fa8324de82b137e203587ba0e82d17">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2273">#2273</a></p>
</p>
</li>
<li><p id="change-0.7.3-42"><span class="target" id="change-62130dcfba80f0c29915ea8aabfbe802"><strong>[mssql] </strong></span>The behavior of =/!= when comparing a scalar select
to a value will no longer produce IN/NOT IN as of 0.8;
this behavior is a little too heavy handed (use in_() if
you want to emit IN) and now emits a deprecation warning.
To get the 0.8 behavior immediately and remove the warning,
a compiler recipe is given at
<a class="reference external" href="http://www.sqlalchemy.org/docs/07/dialects/mssql.html#scalar-select-comparisons">http://www.sqlalchemy.org/docs/07/dialects/mssql.html#scalar-select-comparisons</a>
to override the behavior of visit_binary().<a class="changeset-link reference internal" href="#change-62130dcfba80f0c29915ea8aabfbe802">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2277">#2277</a></p>
</p>
</li>
<li><p id="change-0.7.3-43"><span class="target" id="change-b05f07d0da547e8ca3fdddde13481629"><strong>[mssql] </strong></span>&#8220;0&#8221; is accepted as an argument for limit() which
will produce &#8220;TOP 0&#8221;.<a class="changeset-link reference internal" href="#change-b05f07d0da547e8ca3fdddde13481629">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2222">#2222</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.3-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-44"><span class="target" id="change-a7c4980a1f5230b6dddb072ad74b1bcc"><strong>[oracle] </strong></span>Fixed ReturningResultProxy for zxjdbc dialect..  Regression from 0.6.<a class="changeset-link reference internal" href="#change-a7c4980a1f5230b6dddb072ad74b1bcc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2272">#2272</a></p>
</p>
</li>
<li><p id="change-0.7.3-45"><span class="target" id="change-100c2e0f9af568f915d40868c86cd363"><strong>[oracle] </strong></span>The String type now generates VARCHAR2 on Oracle
which is recommended as the default VARCHAR.
Added an explicit VARCHAR2 and NVARCHAR2 to the Oracle
dialect as well.   Using NVARCHAR still generates
&#8220;NVARCHAR2&#8221; - there is no &#8220;NVARCHAR&#8221; on Oracle -
this remains a slight breakage of the &#8220;uppercase types
always give exactly that&#8221; policy.  VARCHAR still
generates &#8220;VARCHAR&#8221;, keeping with the policy.   If
Oracle were to ever define &#8220;VARCHAR&#8221; as something
different as they claim (IMHO this will never happen),
the type would be available.<a class="changeset-link reference internal" href="#change-100c2e0f9af568f915d40868c86cd363">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2252">#2252</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.3-misc">
<h3>misc<a class="headerlink" href="#change-0.7.3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.3-46"><span class="target" id="change-b651e9bd5d27c58a581a88d5ae871614"><strong>[types] </strong></span>Extra keyword arguments to the base Float
type beyond &#8220;precision&#8221; and &#8220;asdecimal&#8221; are ignored;
added a deprecation warning here and additional
docs, related to<a class="changeset-link reference internal" href="#change-b651e9bd5d27c58a581a88d5ae871614">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2258">#2258</a></p>
</p>
</li>
<li><p id="change-0.7.3-47"><span class="target" id="change-94592809a49fc2de7c8eb955f55e91c9"><strong>[ext] </strong></span>SQLSoup will not be included in version 0.8
of SQLAlchemy; while useful, we would like to
keep SQLAlchemy itself focused on one ORM
usage paradigm.  SQLSoup will hopefully
soon be superseded by a third party
project.<a class="changeset-link reference internal" href="#change-94592809a49fc2de7c8eb955f55e91c9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2262">#2262</a></p>
</p>
</li>
<li><p id="change-0.7.3-48"><span class="target" id="change-0ea049fd6f98a49f4675f411731db74b"><strong>[ext] </strong></span>Added local_attr, remote_attr, attr accessors
to AssociationProxy, providing quick access
to the proxied attributes at the class
level.<a class="changeset-link reference internal" href="#change-0ea049fd6f98a49f4675f411731db74b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2236">#2236</a></p>
</p>
</li>
<li><p id="change-0.7.3-49"><span class="target" id="change-5c74d8048c22d34b8f6e3fea82e57ea5"><strong>[ext] </strong></span>Changed the update() method on association proxy
dictionary to use a duck typing approach, i.e.
checks for &#8220;keys&#8221;, to discern between update({})
and update((a, b)).   Previously, passing a
dictionary that had tuples as keys would be misinterpreted
as a sequence.<a class="changeset-link reference internal" href="#change-5c74d8048c22d34b8f6e3fea82e57ea5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2275">#2275</a></p>
</p>
</li>
<li><p id="change-0.7.3-50"><span class="target" id="change-6c08f21fbfe0067678dc79a3a4fe76ff"><strong>[examples] </strong></span>Adjusted dictlike-polymorphic.py example
to apply the CAST such that it works on
PG, other databases.
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-6c08f21fbfe0067678dc79a3a4fe76ff">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2266">#2266</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.2">
<h2>0.7.2<a class="headerlink" href="#change-0.7.2" title="Permalink to this headline">¶</a></h2>
Released: Sun Jul 31 2011<div class="section" id="change-0.7.2-orm">
<h3>orm<a class="headerlink" href="#change-0.7.2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-0"><span class="target" id="change-1739a61f4e8cd25f6b8ab125e4dc5127"><strong>[orm] </strong></span>Feature enhancement: joined and subquery
loading will now traverse already-present related
objects and collections in search of unpopulated
attributes throughout the scope of the eager load
being defined, so that the eager loading that is
specified via mappings or query options
unconditionally takes place for the full depth,
populating whatever is not already populated.
Previously, this traversal would stop if a related
object or collection were already present leading
to inconsistent behavior (though would save on
loads/cycles for an already-loaded graph). For a
subqueryload, this means that the additional
SELECT statements emitted by subqueryload will
invoke unconditionally, no matter how much of the
existing graph is already present (hence the
controversy). The previous behavior of &#8220;stopping&#8221;
is still in effect when a query is the result of
an attribute-initiated lazyload, as otherwise an
&#8220;N+1&#8221; style of collection iteration can become
needlessly expensive when the same related object
is encountered repeatedly. There&#8217;s also an
as-yet-not-public generative Query method
_with_invoke_all_eagers()
which selects old/new behavior<a class="changeset-link reference internal" href="#change-1739a61f4e8cd25f6b8ab125e4dc5127">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2213">#2213</a></p>
</p>
</li>
<li><p id="change-0.7.2-1"><span class="target" id="change-a051536230c394b7aa1762379e347b73"><strong>[orm] </strong></span>A rework of &#8220;replacement traversal&#8221; within
the ORM as it alters selectables to be against
aliases of things (i.e. clause adaption) includes
a fix for multiply-nested any()/has() constructs
against a joined table structure.<a class="changeset-link reference internal" href="#change-a051536230c394b7aa1762379e347b73">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2195">#2195</a></p>
</p>
</li>
<li><p id="change-0.7.2-2"><span class="target" id="change-7cfc8ca67b366824479efed798d288b6"><strong>[orm] </strong></span>Fixed bug where query.join() + aliased=True
from a joined-inh structure to itself on
relationship() with join condition on the child
table would convert the lead entity into the
joined one inappropriately.
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-7cfc8ca67b366824479efed798d288b6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2234">#2234</a></p>
</p>
</li>
<li><p id="change-0.7.2-3"><span class="target" id="change-1a864fa03e54fc13755917c5f8b9e4b5"><strong>[orm] </strong></span>Fixed regression from 0.6 where Session.add()
against an object which contained None in a
collection would raise an internal exception.
Reverted this to 0.6&#8217;s behavior which is to
accept the None but obviously nothing is
persisted.  Ideally, collections with None
present or on append() should at least emit a
warning, which is being considered for 0.8.<a class="changeset-link reference internal" href="#change-1a864fa03e54fc13755917c5f8b9e4b5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2205">#2205</a></p>
</p>
</li>
<li><p id="change-0.7.2-4"><span class="target" id="change-1bc8115fca741ab8a339a7f655aa525d"><strong>[orm] </strong></span>Load of a deferred() attribute on an object
where row can&#8217;t be located raises
ObjectDeletedError instead of failing later
on; improved the message in ObjectDeletedError
to include other conditions besides a simple
&#8220;delete&#8221;.<a class="changeset-link reference internal" href="#change-1bc8115fca741ab8a339a7f655aa525d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2191">#2191</a></p>
</p>
</li>
<li><p id="change-0.7.2-5"><span class="target" id="change-f36e6273d56268c70ed5e545bf51c45f"><strong>[orm] </strong></span>Fixed regression from 0.6 where a get history
operation on some relationship() based attributes
would fail when a lazyload would emit; this could
trigger within a flush() under certain conditions.  Thanks to the user who submitted
the great test for this.<a class="changeset-link reference internal" href="#change-f36e6273d56268c70ed5e545bf51c45f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2224">#2224</a></p>
</p>
</li>
<li><p id="change-0.7.2-6"><span class="target" id="change-792cce3e71360b029edf5d3c50c4df50"><strong>[orm] </strong></span>Fixed bug apparent only in Python 3 whereby
sorting of persistent + pending objects during
flush would produce an illegal comparison,
if the persistent object primary key
is not a single integer.
Also in 0.6.9<a class="changeset-link reference internal" href="#change-792cce3e71360b029edf5d3c50c4df50">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2228">#2228</a></p>
</p>
</li>
<li><p id="change-0.7.2-7"><span class="target" id="change-2e9b266bc9d8a064d8e2df64b691f537"><strong>[orm] </strong></span>Fixed bug whereby the source clause
used by query.join() would be inconsistent
if against a column expression that combined
multiple entities together.
Also in 0.6.9<a class="changeset-link reference internal" href="#change-2e9b266bc9d8a064d8e2df64b691f537">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2197">#2197</a></p>
</p>
</li>
<li><p id="change-0.7.2-8"><span class="target" id="change-3d44518370e682ece5ea85b6520a24c4"><strong>[orm] </strong></span>Fixed bug whereby if a mapped class
redefined __hash__() or __eq__() to something
non-standard, which is a supported use case
as SQLA should never consult these,
the methods would be consulted if the class
was part of a &#8220;composite&#8221; (i.e. non-single-entity)
result set.
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-3d44518370e682ece5ea85b6520a24c4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2215">#2215</a></p>
</p>
</li>
<li><p id="change-0.7.2-9"><span class="target" id="change-a3fdfb9e75c58eafef3f473a85141949"><strong>[orm] </strong></span>Added public attribute &#8221;.validators&#8221; to
Mapper, an immutable dictionary view of
all attributes that have been decorated
with the &#64;validates decorator. courtesy Stefano Fontanelli<a class="changeset-link reference internal" href="#change-a3fdfb9e75c58eafef3f473a85141949">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2240">#2240</a></p>
</p>
</li>
<li><p id="change-0.7.2-10"><span class="target" id="change-c7799003ae3c4017f6c50d5b4174048e"><strong>[orm] </strong></span>Fixed subtle bug that caused SQL to blow
up if: column_property() against subquery +
joinedload + LIMIT + order by the column
property() occurred. .
Also in 0.6.9<a class="changeset-link reference internal" href="#change-c7799003ae3c4017f6c50d5b4174048e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">#2188</a></p>
</p>
</li>
<li><p id="change-0.7.2-11"><span class="target" id="change-a26c4de8b069bb0f1d742ca954b24a5a"><strong>[orm] </strong></span>The join condition produced by with_parent
as well as when using a &#8220;dynamic&#8221; relationship
against a parent will generate unique
bindparams, rather than incorrectly repeating
the same bindparam. .
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-a26c4de8b069bb0f1d742ca954b24a5a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2207">#2207</a></p>
</p>
</li>
<li><p id="change-0.7.2-12"><span class="target" id="change-6676824fef13b5c985a65ce599197318"><strong>[orm] </strong></span>Added the same &#8220;columns-only&#8221; check to
mapper.polymorphic_on as used when
receiving user arguments to
relationship.order_by, foreign_keys,
remote_side, etc.<a class="changeset-link reference internal" href="#change-6676824fef13b5c985a65ce599197318">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-13"><span class="target" id="change-13c7fbc21f418ab14248949e4feca96c"><strong>[orm] </strong></span>Fixed bug whereby comparison of column
expression to a Query() would not call
as_scalar() on the underlying SELECT
statement to produce a scalar subquery,
in the way that occurs if you called
it on Query().subquery().<a class="changeset-link reference internal" href="#change-13c7fbc21f418ab14248949e4feca96c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2190">#2190</a></p>
</p>
</li>
<li><p id="change-0.7.2-14"><span class="target" id="change-86ea39be50d19682a75bf6d8b6a9d38d"><strong>[orm] </strong></span>Fixed declarative bug where a class inheriting
from a superclass of the same name would fail
due to an unnecessary lookup of the name
in the _decl_class_registry.<a class="changeset-link reference internal" href="#change-86ea39be50d19682a75bf6d8b6a9d38d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2194">#2194</a></p>
</p>
</li>
<li><p id="change-0.7.2-15"><span class="target" id="change-59cf1b12fed65cf8fec6dc9e7c376536"><strong>[orm] </strong></span>Repaired the &#8220;no statement condition&#8221;
assertion in Query which would attempt
to raise if a generative method were called
after from_statement() were called..  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-59cf1b12fed65cf8fec6dc9e7c376536">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2199">#2199</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-engine">
<h3>engine<a class="headerlink" href="#change-0.7.2-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-16"><span class="target" id="change-0385e1ab6c61e95bc73e698999b3a9d3"><strong>[engine] </strong></span>Context manager provided by Connection.begin()
will issue rollback() if the commit() fails,
not just if an exception occurs.<a class="changeset-link reference internal" href="#change-0385e1ab6c61e95bc73e698999b3a9d3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-17"><span class="target" id="change-f04f77f2075dff4e599f01387a3ac100"><strong>[engine] </strong></span>Use urllib.parse_qsl() in Python 2.6 and above,
no deprecation warning about cgi.parse_qsl()<a class="changeset-link reference internal" href="#change-f04f77f2075dff4e599f01387a3ac100">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1682">#1682</a></p>
</p>
</li>
<li><p id="change-0.7.2-18"><span class="target" id="change-12f69061ac63135f31122ccd030e4137"><strong>[engine] </strong></span>Added mixin class sqlalchemy.ext.DontWrapMixin.
User-defined exceptions of this type are never
wrapped in StatementException when they
occur in the context of a statement
execution.<a class="changeset-link reference internal" href="#change-12f69061ac63135f31122ccd030e4137">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-19"><span class="target" id="change-810ad51bfbb5ba21fc145768df376ec8"><strong>[engine] </strong></span>StatementException wrapping will display the
original exception class in the message.<a class="changeset-link reference internal" href="#change-810ad51bfbb5ba21fc145768df376ec8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-20"><span class="target" id="change-93add98c10eed840d3b7c907476d4f1c"><strong>[engine] </strong></span>Failures on connect which raise dbapi.Error
will forward the error to dialect.is_disconnect()
and set the &#8220;connection_invalidated&#8221; flag if
the dialect knows this to be a potentially
&#8220;retryable&#8221; condition.  Only Oracle ORA-01033
implemented for now.<a class="changeset-link reference internal" href="#change-93add98c10eed840d3b7c907476d4f1c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2201">#2201</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-sql">
<h3>sql<a class="headerlink" href="#change-0.7.2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-21"><span class="target" id="change-b8a57863c962b6e42184a303176122b6"><strong>[sql] </strong></span>Fixed two subtle bugs involving column
correspondence in a selectable,
one with the same labeled subquery repeated, the other
when the label has been &#8220;grouped&#8221; and
loses itself.  Affects.<a class="changeset-link reference internal" href="#change-b8a57863c962b6e42184a303176122b6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">#2188</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-schema">
<h3>schema<a class="headerlink" href="#change-0.7.2-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-22"><span class="target" id="change-401b949c0225e6348b817f4bb541d046"><strong>[schema] </strong></span>New feature: with_variant() method on
all types.  Produces an instance of Variant(),
a special TypeDecorator which will select
the usage of a different type based on the
dialect in use.<a class="changeset-link reference internal" href="#change-401b949c0225e6348b817f4bb541d046">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2187">#2187</a></p>
</p>
</li>
<li><p id="change-0.7.2-23"><span class="target" id="change-9bddb9db3d02fbbbb602dbc2e0a8bcad"><strong>[schema] </strong></span>Added an informative error message when
ForeignKeyConstraint refers to a column name in
the parent that is not found.  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-9bddb9db3d02fbbbb602dbc2e0a8bcad">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-24"><span class="target" id="change-06dbefd27437e2191f179bd78b3510e2"><strong>[schema] </strong></span>Fixed bug whereby adaptation of old append_ddl_listener()
function was passing unexpected <a href="#id5"><span class="problematic" id="id6">**</span></a>kw through
to the Table event.   Table gets no kws, the MetaData
event in 0.6 would get &#8220;tables=somecollection&#8221;,
this behavior is preserved.<a class="changeset-link reference internal" href="#change-06dbefd27437e2191f179bd78b3510e2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2206">#2206</a></p>
</p>
</li>
<li><p id="change-0.7.2-25"><span class="target" id="change-25b1468fb18fd0faf9c058f6fb1f0f70"><strong>[schema] </strong></span>Fixed bug where &#8220;autoincrement&#8221; detection on
Table would fail if the type had no &#8220;affinity&#8221;
value, in particular this would occur when using
the UUID example on the site that uses TypeEngine
as the &#8220;impl&#8221;.<a class="changeset-link reference internal" href="#change-25b1468fb18fd0faf9c058f6fb1f0f70">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-26"><span class="target" id="change-1380c32b42b8ac54c0c0cf0fb67c3e94"><strong>[schema] </strong></span>Added an improved repr() to TypeEngine objects
that will only display constructor args which
are positional or kwargs that deviate
from the default.<a class="changeset-link reference internal" href="#change-1380c32b42b8ac54c0c0cf0fb67c3e94">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2209">#2209</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-27"><span class="target" id="change-5e7fbb67c30f10c299ecf5f079610643"><strong>[postgresql] </strong></span>Added new &#8220;postgresql_ops&#8221; argument to
Index, allows specification of PostgreSQL
operator classes for indexed columns.  Courtesy Filip Zyzniewski.<a class="changeset-link reference internal" href="#change-5e7fbb67c30f10c299ecf5f079610643">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2198">#2198</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.2-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-28"><span class="target" id="change-89bd952e65c8b1c1dd5f09e71b858a1a"><strong>[mysql] </strong></span>Fixed OurSQL dialect to use ansi-neutral
quote symbol &#8220;&#8217;&#8221; for XA commands instead
of &#8216;&#8221;&#8217;. .  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-89bd952e65c8b1c1dd5f09e71b858a1a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2186">#2186</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.2-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-29"><span class="target" id="change-a76d1c5d7fb5742f5907e331f3e060b5"><strong>[sqlite] </strong></span>SQLite dialect no longer strips quotes
off of reflected default value, allowing
a round trip CREATE TABLE to work.
This is consistent with other dialects
that also maintain the exact form of
the default.<a class="changeset-link reference internal" href="#change-a76d1c5d7fb5742f5907e331f3e060b5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2189">#2189</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.2-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-30"><span class="target" id="change-600cd2aaea617df4bcb0c1cc8219406a"><strong>[mssql] </strong></span>Adjusted the pyodbc dialect such that bound
values are passed as bytes and not unicode
if the &#8220;Easysoft&#8221; unix drivers are detected.
This is the same behavior as occurs with
FreeTDS.  Easysoft appears to segfault
if Python unicodes are passed under
certain circumstances.<a class="changeset-link reference internal" href="#change-600cd2aaea617df4bcb0c1cc8219406a">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.2-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-31"><span class="target" id="change-160a70a653da208a38ffb9040ea5726d"><strong>[oracle] </strong></span>Added ORA-00028 to disconnect codes, use
cx_oracle _Error.code to get at the code,.  Also in 0.6.9.<a class="changeset-link reference internal" href="#change-160a70a653da208a38ffb9040ea5726d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2200">#2200</a></p>
</p>
</li>
<li><p id="change-0.7.2-32"><span class="target" id="change-6c87e4c4b4093629e3ba1f02bdf3ab64"><strong>[oracle] </strong></span>Added ORA-01033 to disconnect codes, which
can be caught during a connection
event.<a class="changeset-link reference internal" href="#change-6c87e4c4b4093629e3ba1f02bdf3ab64">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2201">#2201</a></p>
</p>
</li>
<li><p id="change-0.7.2-33"><span class="target" id="change-03bd66691ff42c3c20f33e7bab730cd1"><strong>[oracle] </strong></span>repaired the oracle.RAW type which did not
generate the correct DDL.
Also in 0.6.9.<a class="changeset-link reference internal" href="#change-03bd66691ff42c3c20f33e7bab730cd1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2220">#2220</a></p>
</p>
</li>
<li><p id="change-0.7.2-34"><span class="target" id="change-a7992f3b1ebcc0afe915f2e5b81059dc"><strong>[oracle] </strong></span>added CURRENT to reserved word list. Also in 0.6.9.<a class="changeset-link reference internal" href="#change-a7992f3b1ebcc0afe915f2e5b81059dc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2212">#2212</a></p>
</p>
</li>
<li><p id="change-0.7.2-35"><span class="target" id="change-c1007ad607ff9e6ef6af1e934d877593"><strong>[oracle] </strong></span>Fixed bug in the mutable extension whereby
if the same type were used twice in one
mapping, the attributes beyond the first
would not get instrumented.<a class="changeset-link reference internal" href="#change-c1007ad607ff9e6ef6af1e934d877593">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-36"><span class="target" id="change-dc447cba87916cdbf0e26b9026b3a710"><strong>[oracle] </strong></span>Fixed bug in the mutable extension whereby
if None or a non-corresponding type were set,
an error would be raised.  None is now accepted
which assigns None to all attributes,
illegal values raise ValueError.<a class="changeset-link reference internal" href="#change-dc447cba87916cdbf0e26b9026b3a710">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.2-misc">
<h3>misc<a class="headerlink" href="#change-0.7.2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.2-37"><span class="target" id="change-4d1214f86691d7af90b6aec2a6000b50"><strong>[examples] </strong></span>Repaired the examples/versioning test runner
to not rely upon SQLAlchemy test libs,
nosetests must be run from within
examples/versioning to get around setup.cfg
breaking it.<a class="changeset-link reference internal" href="#change-4d1214f86691d7af90b6aec2a6000b50">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-38"><span class="target" id="change-167aac7d99e8dbb5b0ddd7ea0e5ab0d4"><strong>[examples] </strong></span>Tweak to examples/versioning to pick the
correct foreign key in a multi-level
inheritance situation.<a class="changeset-link reference internal" href="#change-167aac7d99e8dbb5b0ddd7ea0e5ab0d4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.2-39"><span class="target" id="change-e68d0bc608be6e8845d4b5a7d44194b6"><strong>[examples] </strong></span>Fixed the attribute shard example to check
for bind param callable correctly in 0.7
style.<a class="changeset-link reference internal" href="#change-e68d0bc608be6e8845d4b5a7d44194b6">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.1">
<h2>0.7.1<a class="headerlink" href="#change-0.7.1" title="Permalink to this headline">¶</a></h2>
Released: Sun Jun 05 2011<div class="section" id="change-0.7.1-general">
<h3>general<a class="headerlink" href="#change-0.7.1-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-0"><span class="target" id="change-d964cd2a33f222066a35562de86fea5c"><strong>[general] </strong></span>Added a workaround for Python bug 7511 where
failure of C extension build does not
raise an appropriate exception on Windows 64
bit + VC express<a class="changeset-link reference internal" href="#change-d964cd2a33f222066a35562de86fea5c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2184">#2184</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-orm">
<h3>orm<a class="headerlink" href="#change-0.7.1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-1"><span class="target" id="change-17de5b36d8997caf117a46a3670a3f8a"><strong>[orm] </strong></span>&#8220;delete-orphan&#8221; cascade is now allowed on
self-referential relationships - this since
SQLA 0.7 no longer enforces &#8220;parent with no
child&#8221; at the ORM level; this check is left
up to foreign key nullability.
Related to<a class="changeset-link reference internal" href="#change-17de5b36d8997caf117a46a3670a3f8a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1912">#1912</a></p>
</p>
</li>
<li><p id="change-0.7.1-2"><span class="target" id="change-92b2af9262983ea532c0f658bfb17f2c"><strong>[orm] </strong></span>Repaired new &#8220;mutable&#8221; extension to propagate
events to subclasses correctly; don&#8217;t
create multiple event listeners for
subclasses either.<a class="changeset-link reference internal" href="#change-92b2af9262983ea532c0f658bfb17f2c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2180">#2180</a></p>
</p>
</li>
<li><p id="change-0.7.1-3"><span class="target" id="change-c8d8913620eed4ee345ac9d7820ae1a4"><strong>[orm] </strong></span>Modify the text of the message which occurs
when the &#8220;identity&#8221; key isn&#8217;t detected on
flush, to include the common cause that
the Column isn&#8217;t set up to detect
auto-increment correctly;.
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-c8d8913620eed4ee345ac9d7820ae1a4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2170">#2170</a></p>
</p>
</li>
<li><p id="change-0.7.1-4"><span class="target" id="change-83414e0c5ba2231873ec5e6f1f09e4a2"><strong>[orm] </strong></span>Fixed bug where transaction-level &#8220;deleted&#8221;
collection wouldn&#8217;t be cleared of expunged
states, raising an error if they later
became transient.
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-83414e0c5ba2231873ec5e6f1f09e4a2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2182">#2182</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-engine">
<h3>engine<a class="headerlink" href="#change-0.7.1-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-5"><span class="target" id="change-efd707a33500efe6db9ee55b32d39216"><strong>[engine] </strong></span>Deprecate schema/SQL-oriented methods on
Connection/Engine that were never well known
and are redundant:  reflecttable(), create(),
drop(), text(), engine.func<a class="changeset-link reference internal" href="#change-efd707a33500efe6db9ee55b32d39216">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.1-6"><span class="target" id="change-78e7d60238ce4141107a00fcad3d7fec"><strong>[engine] </strong></span>Adjusted the __contains__() method of
a RowProxy result row such that no exception
throw is generated internally;
NoSuchColumnError() also will generate its
message regardless of whether or not the column
construct can be coerced to a string..  Also in 0.6.8.<a class="changeset-link reference internal" href="#change-78e7d60238ce4141107a00fcad3d7fec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2178">#2178</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-sql">
<h3>sql<a class="headerlink" href="#change-0.7.1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-7"><span class="target" id="change-a536533da35533b9d8846e5ccde035ba"><strong>[sql] </strong></span>Fixed bug whereby metadata.reflect(bind)
would close a Connection passed as a
bind argument.  Regression from 0.6.<a class="changeset-link reference internal" href="#change-a536533da35533b9d8846e5ccde035ba">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.1-8"><span class="target" id="change-0472409901f89659a6eca1d563c9e26b"><strong>[sql] </strong></span>Streamlined the process by which a Select
determines what&#8217;s in it&#8217;s &#8216;.c&#8217; collection.
Behaves identically, except that a
raw ClauseList() passed to select([])
(which is not a documented case anyway) will
now be expanded into its individual column
elements instead of being ignored.<a class="changeset-link reference internal" href="#change-0472409901f89659a6eca1d563c9e26b">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-9"><span class="target" id="change-036a468c7e481fd6d26a23d398c7209b"><strong>[postgresql] </strong></span>Some unit test fixes regarding numeric arrays,
MATCH operator.   A potential floating-point
inaccuracy issue was fixed, and certain tests
of the MATCH operator only execute within an
EN-oriented locale for now. .
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-036a468c7e481fd6d26a23d398c7209b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2175">#2175</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-10"><span class="target" id="change-0cf81608466b1ee490d9df9f2e4eb80c"><strong>[mysql] </strong></span>Unit tests pass 100% on MySQL installed
on windows.<a class="changeset-link reference internal" href="#change-0cf81608466b1ee490d9df9f2e4eb80c">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.1-11"><span class="target" id="change-766d1ca6ed7112502e017193c6a681e6"><strong>[mysql] </strong></span>Removed the &#8220;adjust casing&#8221; step that would
fail when reflecting a table on MySQL
on windows with a mixed case name.  After some
experimenting with a windows MySQL server, it&#8217;s
been determined that this step wasn&#8217;t really
helping the situation much; MySQL does not return
FK names with proper casing on non-windows
platforms either, and removing the step at
least allows the reflection to act more like
it does on other OSes.   A warning here
has been considered but its difficult to
determine under what conditions such a warning
can be raised, so punted on that for now -
added some docs instead.<a class="changeset-link reference internal" href="#change-766d1ca6ed7112502e017193c6a681e6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2181">#2181</a></p>
</p>
</li>
<li><p id="change-0.7.1-12"><span class="target" id="change-b9b78f2fe96924ca3f08b9d15350b202"><strong>[mysql] </strong></span>supports_sane_rowcount will be set to False
if using MySQLdb and the DBAPI doesn&#8217;t provide
the constants.CLIENT module.<a class="changeset-link reference internal" href="#change-b9b78f2fe96924ca3f08b9d15350b202">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.1-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.1-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.1-13"><span class="target" id="change-8eee0e021de144283ef4bee007693646"><strong>[sqlite] </strong></span>Accept None from cursor.fetchone() when
&#8220;PRAGMA read_uncommitted&#8221; is called to determine
current isolation mode at connect time and
default to SERIALIZABLE; this to support SQLite
versions pre-3.3.0 that did not have this
feature.<a class="changeset-link reference internal" href="#change-8eee0e021de144283ef4bee007693646">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2173">#2173</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.0">
<h2>0.7.0<a class="headerlink" href="#change-0.7.0" title="Permalink to this headline">¶</a></h2>
Released: Fri May 20 2011<div class="section" id="change-0.7.0-orm">
<h3>orm<a class="headerlink" href="#change-0.7.0-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0-0"><span class="target" id="change-dd788f403779ce46f1b284caf86744f1"><strong>[orm] </strong></span>Fixed regression introduced in 0.7b4 (!) whereby
query.options(someoption(&#8220;nonexistent name&#8221;)) would
fail to raise an error.  Also added additional
error catching for cases where the option would
try to build off a column-based element, further
fixed up some of the error messages tailored
in<a class="changeset-link reference internal" href="#change-dd788f403779ce46f1b284caf86744f1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2069">#2069</a></p>
</p>
</li>
<li><p id="change-0.7.0-1"><span class="target" id="change-d4667c0cd130250d8c628298a590a146"><strong>[orm] </strong></span>query.count() emits &#8220;count(*)&#8221; instead of
&#8220;count(1)&#8221;.<a class="changeset-link reference internal" href="#change-d4667c0cd130250d8c628298a590a146">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2162">#2162</a></p>
</p>
</li>
<li><p id="change-0.7.0-2"><span class="target" id="change-eb378c4f08449233f13c8d8f9b93740c"><strong>[orm] </strong></span>Fine tuning of Query clause adaptation when
from_self(), union(), or other &#8220;select from
myself&#8221; operation, such that plain SQL expression
elements added to filter(), order_by() etc.
which are present in the nested &#8220;from myself&#8221;
query <em>will</em> be adapted in the same way an ORM
expression element will, since these
elements are otherwise not easily accessible.<a class="changeset-link reference internal" href="#change-eb378c4f08449233f13c8d8f9b93740c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2155">#2155</a></p>
</p>
</li>
<li><p id="change-0.7.0-3"><span class="target" id="change-137910b827fa5951d6eaaddedb4ee0fb"><strong>[orm] </strong></span>Fixed bug where determination of &#8220;self referential&#8221;
relationship would fail with no workaround
for joined-inh subclass related to itself,
or joined-inh subclass related to a subclass
of that with no cols in the sub-sub class
in the join condition.
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-137910b827fa5951d6eaaddedb4ee0fb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2149">#2149</a></p>
</p>
</li>
<li><p id="change-0.7.0-4"><span class="target" id="change-c391bd5e3f88944f1c0807d34fb45f2b"><strong>[orm] </strong></span>mapper() will ignore non-configured foreign keys
to unrelated tables when determining inherit
condition between parent and child class,
but will raise as usual for unresolved
columns and table names regarding the inherited
table.  This is an enhanced generalization of
behavior that was already applied to declarative
previously.    0.6.8 has a more
conservative version of this which doesn&#8217;t
fundamentally alter how join conditions
are determined.<a class="changeset-link reference internal" href="#change-c391bd5e3f88944f1c0807d34fb45f2b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2153">#2153</a></p>
</p>
</li>
<li><p id="change-0.7.0-5"><span class="target" id="change-1fd991ce05becf2f02fe6b7626ed5533"><strong>[orm] </strong></span>It is an error to call query.get() when the
given entity is not a single, full class
entity or mapper (i.e. a column).  This is
a deprecation warning in 0.6.8.<a class="changeset-link reference internal" href="#change-1fd991ce05becf2f02fe6b7626ed5533">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2144">#2144</a></p>
</p>
</li>
<li><p id="change-0.7.0-6"><span class="target" id="change-71cf0b71941a427e86274e502d705578"><strong>[orm] </strong></span>Fixed a potential KeyError which under some
circumstances could occur with the identity
map, part of<a class="changeset-link reference internal" href="#change-71cf0b71941a427e86274e502d705578">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2148">#2148</a></p>
</p>
</li>
<li><p id="change-0.7.0-7"><span class="target" id="change-5dbf57f6a88bfe6de8fb836ee68bc8b5"><strong>[orm] </strong></span>added Query.with_session() method, switches
Query to use a different session.<a class="changeset-link reference internal" href="#change-5dbf57f6a88bfe6de8fb836ee68bc8b5">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-8"><span class="target" id="change-faa9884008b31420f7bb380d6ff9fc64"><strong>[orm] </strong></span>horizontal shard query should use execution
options per connection as per<a class="changeset-link reference internal" href="#change-faa9884008b31420f7bb380d6ff9fc64">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">#2131</a></p>
</p>
</li>
<li><p id="change-0.7.0-9"><span class="target" id="change-b653622696e0f575c1fd2451854ac4cd"><strong>[orm] </strong></span>a non_primary mapper will inherit the _identity_class
of the primary mapper.  This so that a non_primary
established against a class that&#8217;s normally in an
inheritance mapping will produce results that are
identity-map compatible with that of the primary
mapper (also in 0.6.8)<a class="changeset-link reference internal" href="#change-b653622696e0f575c1fd2451854ac4cd">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2151">#2151</a></p>
</p>
</li>
<li><p id="change-0.7.0-10"><span class="target" id="change-4030bddfa4958646441435b3e8495e02"><strong>[orm] </strong></span>Fixed the error message emitted for &#8220;can&#8217;t
execute syncrule for destination column &#8216;q&#8217;;
mapper &#8216;X&#8217; does not map this column&#8221; to
reference the correct mapper. .
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-4030bddfa4958646441435b3e8495e02">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2163">#2163</a></p>
</p>
</li>
<li><p id="change-0.7.0-11"><span class="target" id="change-74b159ca3a99bc5fe6f663d021fbc89e"><strong>[orm] </strong></span>polymorphic_union() gets a &#8220;cast_nulls&#8221; option,
disables the usage of CAST when it renders
the labeled NULL columns.<a class="changeset-link reference internal" href="#change-74b159ca3a99bc5fe6f663d021fbc89e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1502">#1502</a></p>
</p>
</li>
<li><p id="change-0.7.0-12"><span class="target" id="change-3eb3b816c40c15eed9d6821d323c425a"><strong>[orm] </strong></span>polymorphic_union() renders the columns in their
original table order, as according to the first
table/selectable in the list of polymorphic
unions in which they appear.  (which is itself
an unordered mapping unless you pass an OrderedDict).<a class="changeset-link reference internal" href="#change-3eb3b816c40c15eed9d6821d323c425a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-13"><span class="target" id="change-9e05f5299c14ba88437debe75cd6021d"><strong>[orm] </strong></span>Fixed bug whereby mapper mapped to an anonymous
alias would fail if logging were used, due to
unescaped % sign in the alias name.
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-9e05f5299c14ba88437debe75cd6021d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2171">#2171</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0-sql">
<h3>sql<a class="headerlink" href="#change-0.7.0-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0-14"><span class="target" id="change-6969c79eaa9adb98a299ca808a96ba99"><strong>[sql] </strong></span>Fixed bug whereby nesting a label of a select()
with another label in it would produce incorrect
exported columns.   Among other things this would
break an ORM column_property() mapping against
another column_property(). .
Also in 0.6.8<a class="changeset-link reference internal" href="#change-6969c79eaa9adb98a299ca808a96ba99">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2167">#2167</a></p>
</p>
</li>
<li><p id="change-0.7.0-15"><span class="target" id="change-7b39659e3a5787183e7b9f5455b1bf98"><strong>[sql] </strong></span>Changed the handling in determination of join
conditions such that foreign key errors are
only considered between the two given tables.
That is, t1.join(t2) will report FK errors
that involve &#8216;t1&#8217; or &#8216;t2&#8217;, but anything
involving &#8216;t3&#8217; will be skipped.   This affects
join(), as well as ORM relationship and
inherit condition logic.<a class="changeset-link reference internal" href="#change-7b39659e3a5787183e7b9f5455b1bf98">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-16"><span class="target" id="change-1abc44fe4928d1fb7b67de993024c975"><strong>[sql] </strong></span>Some improvements to error handling inside
of the execute procedure to ensure auto-close
connections are really closed when very
unusual DBAPI errors occur.<a class="changeset-link reference internal" href="#change-1abc44fe4928d1fb7b67de993024c975">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-17"><span class="target" id="change-402e6ed8f3da378e37a1813c62700551"><strong>[sql] </strong></span>metadata.reflect() and reflection.Inspector()
had some reliance on GC to close connections
which were internally procured, fixed this.<a class="changeset-link reference internal" href="#change-402e6ed8f3da378e37a1813c62700551">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-18"><span class="target" id="change-a4aa1f5d35bf43355add704f191f639a"><strong>[sql] </strong></span>Added explicit check for when Column .name
is assigned as blank string<a class="changeset-link reference internal" href="#change-a4aa1f5d35bf43355add704f191f639a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2140">#2140</a></p>
</p>
</li>
<li><p id="change-0.7.0-19"><span class="target" id="change-adefc09b01691db8adf07315e9824db6"><strong>[sql] </strong></span>Fixed bug whereby if FetchedValue was passed
to column server_onupdate, it would not
have its parent &#8220;column&#8221; assigned, added
test coverage for all column default assignment
patterns.   also in 0.6.8<a class="changeset-link reference internal" href="#change-adefc09b01691db8adf07315e9824db6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2147">#2147</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.0-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0-20"><span class="target" id="change-14212188e4f0bd379551e87f9b85174b"><strong>[postgresql] </strong></span>Fixed the psycopg2_version parsing in the
psycopg2 dialect.<a class="changeset-link reference internal" href="#change-14212188e4f0bd379551e87f9b85174b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-21"><span class="target" id="change-5388cff58c8560a78aca381e346a28c8"><strong>[postgresql] </strong></span>Fixed bug affecting PG 9 whereby index reflection
would fail if against a column whose name
had changed. .  Also in 0.6.8.<a class="changeset-link reference internal" href="#change-5388cff58c8560a78aca381e346a28c8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">#2141</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.0-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0-22"><span class="target" id="change-54f2c1f5f537415c50f6115da435a07d"><strong>[mssql] </strong></span>Fixed bug in MSSQL dialect whereby the aliasing
applied to a schema-qualified table would leak
into enclosing select statements.
Also in 0.6.8.<a class="changeset-link reference internal" href="#change-54f2c1f5f537415c50f6115da435a07d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2169">#2169</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0-misc">
<h3>misc<a class="headerlink" href="#change-0.7.0-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0-23"><span class="target" id="change-1d93ec65d8ccdfeddf18f3d0748d91cd"></span>This section documents those changes from 0.7b4
to 0.7.0.  For an overview of what&#8217;s new in
SQLAlchemy 0.7, see
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/07Migration">http://www.sqlalchemy.org/trac/wiki/07Migration</a><a class="changeset-link reference internal" href="#change-1d93ec65d8ccdfeddf18f3d0748d91cd">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-24"><span class="target" id="change-1b8c150a713fcfe2bfa9be75de0808d9"><strong>[documentation] </strong></span>Removed the usage of the &#8220;collections.MutableMapping&#8221;
abc from the ext.mutable docs as it was being used
incorrectly and makes the example more difficult
to understand in any case.<a class="changeset-link reference internal" href="#change-1b8c150a713fcfe2bfa9be75de0808d9">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2152">#2152</a></p>
</p>
</li>
<li><p id="change-0.7.0-25"><span class="target" id="change-5caeaaa0861dc6502cd2388eece068e4"><strong>[examples] </strong></span>removed the ancient &#8220;polymorphic association&#8221;
examples and replaced with an updated set of
examples that use declarative mixins,
&#8220;generic_associations&#8221;.   Each presents an alternative
table layout.<a class="changeset-link reference internal" href="#change-5caeaaa0861dc6502cd2388eece068e4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0-26"><span class="target" id="change-8cd79396a14e3d4871c28ac127541834"><strong>[ext] </strong></span>Fixed bugs in sqlalchemy.ext.mutable extension where
<cite>None</cite> was not appropriately handled, replacement
events were not appropriately handled.<a class="changeset-link reference internal" href="#change-8cd79396a14e3d4871c28ac127541834">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2143">#2143</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.0b4">
<h2>0.7.0b4<a class="headerlink" href="#change-0.7.0b4" title="Permalink to this headline">¶</a></h2>
Released: Sun Apr 17 2011<div class="section" id="change-0.7.0b4-general">
<h3>general<a class="headerlink" href="#change-0.7.0b4-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-0"><span class="target" id="change-c10e330a6fb6868b79d2f8ea4ca8f2f4"><strong>[general] </strong></span>Changes to the format of CHANGES, this file.
The format changes have been applied to
the 0.7 releases.<a class="changeset-link reference internal" href="#change-c10e330a6fb6868b79d2f8ea4ca8f2f4">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-1"><span class="target" id="change-568f4ce9f54eaab769ed2bd7d8e4521e"><strong>[general] </strong></span>The &#8220;-declarative&#8221; changes will now be listed
directly under the &#8220;-orm&#8221; section, as these
are closely related.<a class="changeset-link reference internal" href="#change-568f4ce9f54eaab769ed2bd7d8e4521e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-2"><span class="target" id="change-33020374149ff987953b51cc27c1d41b"><strong>[general] </strong></span>The 0.5 series changes have been moved to
the file CHANGES_PRE_06 which replaces
CHANGES_PRE_05.<a class="changeset-link reference internal" href="#change-33020374149ff987953b51cc27c1d41b">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-3"><span class="target" id="change-4b59da9baea961eaaf0893565f87e4a7"><strong>[general] </strong></span>The changelog for 0.6.7 and subsequent within
the 0.6 series is now listed only in the
CHANGES file within the 0.6 branch.
In the 0.7 CHANGES file (i.e. this file), all the
0.6 changes are listed inline within the 0.7
section in which they were also applied
(since all 0.6 changes are in 0.7 as well).
Changes that apply to an 0.6 version here
are noted as are if any differences in
implementation/behavior are present.<a class="changeset-link reference internal" href="#change-4b59da9baea961eaaf0893565f87e4a7">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-orm">
<h3>orm<a class="headerlink" href="#change-0.7.0b4-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-4"><span class="target" id="change-84e0db491f22f74ff25a2aca83ba496d"><strong>[orm] </strong></span>Some fixes to &#8220;evaulate&#8221; and &#8220;fetch&#8221; evaluation
when query.update(), query.delete() are called.
The retrieval of records is done after autoflush
in all cases, and before update/delete is
emitted, guarding against unflushed data present
as well as expired objects failing during
the evaluation.<a class="changeset-link reference internal" href="#change-84e0db491f22f74ff25a2aca83ba496d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2122">#2122</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-5"><span class="target" id="change-af8e701eaf7ec13322ab104bb650aecb"><strong>[orm] </strong></span>Reworded the exception raised when a flush
is attempted of a subclass that is not polymorphic
against the supertype.<a class="changeset-link reference internal" href="#change-af8e701eaf7ec13322ab104bb650aecb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2063">#2063</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-6"><span class="target" id="change-1fc825ca38aa549debb3965be29f975a"><strong>[orm] </strong></span>Still more wording adjustments when a query option
can&#8217;t find the target entity.  Explain that the
path must be from one of the root entities.<a class="changeset-link reference internal" href="#change-1fc825ca38aa549debb3965be29f975a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-7"><span class="target" id="change-1a848298d843da4ca6e3bbb41d8ae1c6"><strong>[orm] </strong></span>Some fixes to the state handling regarding
backrefs, typically when autoflush=False, where
the back-referenced collection wouldn&#8217;t
properly handle add/removes with no net
change.  Thanks to Richard Murri for the
test case + patch.
(also in 0.6.7).<a class="changeset-link reference internal" href="#change-1a848298d843da4ca6e3bbb41d8ae1c6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2123">#2123</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-8"><span class="target" id="change-bde26159f4aa960b057cc47bd3c0e866"><strong>[orm] </strong></span>Added checks inside the UOW to detect the unusual
condition of being asked to UPDATE or DELETE
on a primary key value that contains NULL
in it.<a class="changeset-link reference internal" href="#change-bde26159f4aa960b057cc47bd3c0e866">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2127">#2127</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-9"><span class="target" id="change-c257d9a6b362baee9ac13f47aada6784"><strong>[orm] </strong></span>Some refinements to attribute history.  More
changes are pending possibly in 0.8, but
for now history has been modified such that
scalar history doesn&#8217;t have a &#8220;side effect&#8221;
of populating None for a non-present value.
This allows a slightly better ability to
distinguish between a None set and no actual
change, affects as well.<a class="changeset-link reference internal" href="#change-c257d9a6b362baee9ac13f47aada6784">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2127">#2127</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-10"><span class="target" id="change-99eb10573ae36fd1d9fff5e087a4cfd2"><strong>[orm] </strong></span>a &#8220;having&#8221; clause would be copied from the
inside to the outside query if from_self()
were used; in particular this would break
an 0.7 style count() query.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-99eb10573ae36fd1d9fff5e087a4cfd2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2130">#2130</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-11"><span class="target" id="change-beca9e44abdcdfcfd9daa8cf2d849cf8"><strong>[orm] </strong></span>the Query.execution_options() method now passes
those options to the Connection rather than
the SELECT statement, so that all available
options including isolation level and
compiled cache may be used.<a class="changeset-link reference internal" href="#change-beca9e44abdcdfcfd9daa8cf2d849cf8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">#2131</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-engine">
<h3>engine<a class="headerlink" href="#change-0.7.0b4-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-12"><span class="target" id="change-ab06f7b93d81343ab8080f5e4b808885"><strong>[engine] </strong></span>The C extension is now enabled by default on CPython
2.x with a fallback to pure python if it fails to
compile.<a class="changeset-link reference internal" href="#change-ab06f7b93d81343ab8080f5e4b808885">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2129">#2129</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-sql">
<h3>sql<a class="headerlink" href="#change-0.7.0b4-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-13"><span class="target" id="change-e8fcd9c241670c115a04b0c0a16536b2"><strong>[sql] </strong></span>The &#8220;compiled_cache&#8221; execution option now raises
an error when passed to a SELECT statement
rather than a Connection.  Previously it was
being ignored entirely.   We may look into
having this option work on a per-statement
level at some point.<a class="changeset-link reference internal" href="#change-e8fcd9c241670c115a04b0c0a16536b2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">#2131</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-14"><span class="target" id="change-489c8fdbf96ab63bb53f2a1a861bba4e"><strong>[sql] </strong></span>Restored the &#8220;catchall&#8221; constructor on the base
TypeEngine class, with a deprecation warning.
This so that code which does something like
Integer(11) still succeeds.<a class="changeset-link reference internal" href="#change-489c8fdbf96ab63bb53f2a1a861bba4e">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-15"><span class="target" id="change-f00374d634cfacde67965712e5aff348"><strong>[sql] </strong></span>Fixed regression whereby MetaData() coming
back from unpickling did not keep track of
new things it keeps track of now, i.e.
collection of Sequence objects, list
of schema names.<a class="changeset-link reference internal" href="#change-f00374d634cfacde67965712e5aff348">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2104">#2104</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-16"><span class="target" id="change-82ab067a38871b8fab4a70169e0ed7ef"><strong>[sql] </strong></span>The limit/offset keywords to select() as well
as the value passed to select.limit()/offset()
will be coerced to integer.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-82ab067a38871b8fab4a70169e0ed7ef">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">#2116</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-17"><span class="target" id="change-6cf3eb37879e278dcebe3d7eca622bd3"><strong>[sql] </strong></span>fixed bug where &#8220;from&#8221; clause gathering from an
over() clause would be an itertools.chain() and
not a list, causing &#8220;can only concatenate list&#8221;
TypeError when combined with other clauses.<a class="changeset-link reference internal" href="#change-6cf3eb37879e278dcebe3d7eca622bd3">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-18"><span class="target" id="change-94181c686d44776e147c618e176fecbb"><strong>[sql] </strong></span>Fixed incorrect usage of &#8221;,&#8221; in over() clause
being placed between the &#8220;partition&#8221; and &#8220;order by&#8221;
clauses.<a class="changeset-link reference internal" href="#change-94181c686d44776e147c618e176fecbb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2134">#2134</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-19"><span class="target" id="change-d51ca5e1b2cfb62e5942a810d58354f7"><strong>[sql] </strong></span>Before/after attach events for PrimaryKeyConstraint
now function, tests added for before/after events
on all constraint types.<a class="changeset-link reference internal" href="#change-d51ca5e1b2cfb62e5942a810d58354f7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2105">#2105</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-20"><span class="target" id="change-42aaa6dc1625418edc7375d7ad85c837"><strong>[sql] </strong></span>Added explicit true()/false() constructs to expression
lib - coercion rules will intercept &#8220;False&#8221;/&#8221;True&#8221;
into these constructs.  In 0.6, the constructs were
typically converted straight to string, which was
no longer accepted in 0.7.<a class="changeset-link reference internal" href="#change-42aaa6dc1625418edc7375d7ad85c837">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2117">#2117</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-schema">
<h3>schema<a class="headerlink" href="#change-0.7.0b4-schema" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-21"><span class="target" id="change-c21ca29b46c77aac3bf501eb8a9b8a14"><strong>[schema] </strong></span>The &#8216;useexisting&#8217; flag on Table has been superceded
by a new pair of flags &#8216;keep_existing&#8217; and
&#8216;extend_existing&#8217;.   &#8216;extend_existing&#8217; is equivalent
to &#8216;useexisting&#8217; - the existing Table is returned,
and additional constructor elements are added.
With &#8216;keep_existing&#8217;, the existing Table is returned,
but additional constructor elements are not added -
these elements are only applied when the Table
is newly created.<a class="changeset-link reference internal" href="#change-c21ca29b46c77aac3bf501eb8a9b8a14">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2109">#2109</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.0b4-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-22"><span class="target" id="change-0441092a868aeb0b91d8d24e59c41d75"><strong>[postgresql] </strong></span>Psycopg2 for Python 3 is now supported.<a class="changeset-link reference internal" href="#change-0441092a868aeb0b91d8d24e59c41d75">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-23"><span class="target" id="change-a8605dec5f8e63d728bc927ef61cf975"><strong>[postgresql] </strong></span>Fixed support for precision numerics when using
pg8000.<a class="changeset-link reference internal" href="#change-a8605dec5f8e63d728bc927ef61cf975">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2132">#2132</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-sqlite">
<h3>sqlite<a class="headerlink" href="#change-0.7.0b4-sqlite" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-24"><span class="target" id="change-3d3d5c73e15d038b45b311224716fa7b"><strong>[sqlite] </strong></span>Fixed bug where reflection of foreign key
created as &#8220;REFERENCES &lt;tablename&gt;&#8221; without
col name would fail.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-3d3d5c73e15d038b45b311224716fa7b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2115">#2115</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-oracle">
<h3>oracle<a class="headerlink" href="#change-0.7.0b4-oracle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-25"><span class="target" id="change-a04f9e54c60f2a5d5a0591e7e0b563e2"><strong>[oracle] </strong></span>Using column names that would require quotes
for the column itself or for a name-generated
bind parameter, such as names with special
characters, underscores, non-ascii characters,
now properly translate bind parameter keys when
talking to cx_oracle.   (Also
in 0.6.7)<a class="changeset-link reference internal" href="#change-a04f9e54c60f2a5d5a0591e7e0b563e2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2100">#2100</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-26"><span class="target" id="change-b3b1ce9d18a4f1b765507ed4c82f7f4d"><strong>[oracle] </strong></span>Oracle dialect adds use_binds_for_limits=False
create_engine() flag, will render the LIMIT/OFFSET
values inline instead of as binds, reported to
modify the execution plan used by Oracle. (Also in 0.6.7)<a class="changeset-link reference internal" href="#change-b3b1ce9d18a4f1b765507ed4c82f7f4d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">#2116</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b4-misc">
<h3>misc<a class="headerlink" href="#change-0.7.0b4-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b4-27"><span class="target" id="change-57e3cb1dc539a3540bd8469dd0663039"><strong>[types] </strong></span>REAL has been added to the core types.  Supported
by Postgresql, SQL Server, MySQL, SQLite.  Note
that the SQL Server and MySQL versions, which
add extra arguments, are also still available
from those dialects.<a class="changeset-link reference internal" href="#change-57e3cb1dc539a3540bd8469dd0663039">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2081">#2081</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-28"><span class="target" id="change-d497389785db3672fe86a6119a68b1ab"><strong>[types] </strong></span>Added &#64;event.listens_for() decorator, given
target + event name, applies the decorated
function as a listener.<a class="changeset-link reference internal" href="#change-d497389785db3672fe86a6119a68b1ab">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2106">#2106</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-29"><span class="target" id="change-af3a34c122e1b93c7637b389b5c8dca8"><strong>[pool] </strong></span>AssertionPool now stores the traceback indicating
where the currently checked out connection was
acquired; this traceback is reported within
the assertion raised upon a second concurrent
checkout; courtesy Gunnlaugur Briem<a class="changeset-link reference internal" href="#change-af3a34c122e1b93c7637b389b5c8dca8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2103">#2103</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-30"><span class="target" id="change-0babcdca864d1007baf6c858bdf0377f"><strong>[pool] </strong></span>The &#8220;pool.manage&#8221; feature doesn&#8217;t use pickle
anymore to hash the arguments for each pool.<a class="changeset-link reference internal" href="#change-0babcdca864d1007baf6c858bdf0377f">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b4-31"><span class="target" id="change-846e0f46d0f5a9d667fe57b1d7c73355"><strong>[documentation] </strong></span>Documented SQLite DATE/TIME/DATETIME types. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-846e0f46d0f5a9d667fe57b1d7c73355">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2029">#2029</a></p>
</p>
</li>
<li><p id="change-0.7.0b4-32"><span class="target" id="change-f0da43d53108c83663cf5c8421677f79"><strong>[documentation] </strong></span>Fixed mutable extension docs to show the
correct type-association methods.<a class="changeset-link reference internal" href="#change-f0da43d53108c83663cf5c8421677f79">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2118">#2118</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.0b3">
<h2>0.7.0b3<a class="headerlink" href="#change-0.7.0b3" title="Permalink to this headline">¶</a></h2>
Released: Sun Mar 20 2011<div class="section" id="change-0.7.0b3-general">
<h3>general<a class="headerlink" href="#change-0.7.0b3-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-0"><span class="target" id="change-5612722a30cc5802a707b0c00967f91f"><strong>[general] </strong></span>Lots of fixes to unit tests when run under Pypy
(courtesy Alex Gaynor).<a class="changeset-link reference internal" href="#change-5612722a30cc5802a707b0c00967f91f">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-orm">
<h3>orm<a class="headerlink" href="#change-0.7.0b3-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-1"><span class="target" id="change-b00ce7472b8519195eaddc530dcd0f9e"><strong>[orm] </strong></span>Changed the underlying approach to query.count().
query.count() is now in all cases exactly:<blockquote>
<div><dl class="docutils">
<dt>query.</dt>
<dd>from_self(func.count(literal_column(&#8216;1&#8217;))).
scalar()</dd>
</dl>
</div></blockquote>
<p>That is, &#8220;select count(1) from (&lt;full query&gt;)&#8221;.
This produces a subquery in all cases, but
vastly simplifies all the guessing count()
tried to do previously, which would still
fail in many scenarios particularly when
joined table inheritance and other joins
were involved.  If the subquery produced
for an otherwise very simple count is really
an issue, use query(func.count()) as an
optimization.</p>
<a class="changeset-link reference internal" href="#change-b00ce7472b8519195eaddc530dcd0f9e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2093">#2093</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-2"><span class="target" id="change-7d31abf822a2e7e64b102f9796997f9b"><strong>[orm] </strong></span>some changes to the identity map regarding
rare weakref callbacks during iterations.
The mutex has been removed as it apparently
can cause a reentrant (i.e. in one thread) deadlock,
perhaps when gc collects objects at the point of
iteration in order to gain more memory.  It is hoped
that &#8220;dictionary changed during iteration&#8221; will
be exceedingly rare as iteration methods internally
acquire the full list of objects in a single values()
call. Note 0.6.7 has a more conservative fix here
which still keeps the mutex in place.<a class="changeset-link reference internal" href="#change-7d31abf822a2e7e64b102f9796997f9b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2087">#2087</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-3"><span class="target" id="change-bfed6815f260e8ac2239597807031e35"><strong>[orm] </strong></span>A tweak to the unit of work causes it to order
the flush along relationship() dependencies even if
the given objects don&#8217;t have any inter-attribute
references in memory, which was the behavior in
0.5 and earlier, so a flush of Parent/Child with
only foreign key/primary key set will succeed.
This while still maintaining 0.6 and above&#8217;s not
generating a ton of useless internal dependency
structures within the flush that don&#8217;t correspond
to state actually within the current flush.<a class="changeset-link reference internal" href="#change-bfed6815f260e8ac2239597807031e35">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2082">#2082</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-4"><span class="target" id="change-f888621663e752a17e10e531c6e70078"><strong>[orm] </strong></span>Improvements to the error messages emitted when
querying against column-only entities in conjunction
with (typically incorrectly) using loader options,
where the parent entity is not fully present.<a class="changeset-link reference internal" href="#change-f888621663e752a17e10e531c6e70078">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2069">#2069</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-5"><span class="target" id="change-691e4dcace5092b3faa9e88301875a19"><strong>[orm] </strong></span>Fixed bug in query.options() whereby a path
applied to a lazyload using string keys could
overlap a same named attribute on the wrong
entity.  Note 0.6.7 has a more conservative fix
to this.<a class="changeset-link reference internal" href="#change-691e4dcace5092b3faa9e88301875a19">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2098">#2098</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.7.0b3-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-6"><span class="target" id="change-f2aa1ca45ecfe557dbce711ee18b7414"><strong>[declarative] [orm] </strong></span>Arguments in __mapper_args__ that aren&#8217;t &#8220;hashable&#8221;
aren&#8217;t mistaken for always-hashable, possibly-column
arguments.  (also in 0.6.7)<a class="changeset-link reference internal" href="#change-f2aa1ca45ecfe557dbce711ee18b7414">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2091">#2091</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-engine">
<h3>engine<a class="headerlink" href="#change-0.7.0b3-engine" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-7"><span class="target" id="change-4687c720a53db425d7516c3325af024b"><strong>[engine] </strong></span>Fixed AssertionPool regression bug.<a class="changeset-link reference internal" href="#change-4687c720a53db425d7516c3325af024b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2097">#2097</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-8"><span class="target" id="change-dabd057d91cbbc1025be172472b16366"><strong>[engine] </strong></span>Changed exception raised to ArgumentError when an
invalid dialect is specified.<a class="changeset-link reference internal" href="#change-dabd057d91cbbc1025be172472b16366">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2060">#2060</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-sql">
<h3>sql<a class="headerlink" href="#change-0.7.0b3-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-9"><span class="target" id="change-887e7334d6776bfb4ec1c01f6fb67d4d"><strong>[sql] </strong></span>Added a fully descriptive error message for the
case where Column is subclassed and _make_proxy()
fails to make a copy due to TypeError on the
constructor.   The method _constructor should
be implemented in this case.<a class="changeset-link reference internal" href="#change-887e7334d6776bfb4ec1c01f6fb67d4d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b3-10"><span class="target" id="change-8a8960a5ec68a2f3af6208fc1b25f4ec"><strong>[sql] </strong></span>Added new event &#8220;column_reflect&#8221; for Table objects.
Receives the info dictionary about a Column before
the object is generated within reflection, and allows
modification to the dictionary for control over
most aspects of the resulting Column including
key, name, type, info dictionary.<a class="changeset-link reference internal" href="#change-8a8960a5ec68a2f3af6208fc1b25f4ec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2095">#2095</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-11"><span class="target" id="change-506927bdc1d6192b785d5111a36c591a"><strong>[sql] </strong></span>To help with the &#8220;column_reflect&#8221; event being used
with specific Table objects instead of all instances
of Table, listeners can be added to a Table object
inline with its construction using a new argument
&#8220;listeners&#8221;, a list of tuples of the form
(&lt;eventname&gt;, &lt;fn&gt;), which are applied to the Table
before the reflection process begins.<a class="changeset-link reference internal" href="#change-506927bdc1d6192b785d5111a36c591a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b3-12"><span class="target" id="change-fc859aa865a01a4d305dee5ee7edc1ce"><strong>[sql] </strong></span>Added new generic function &#8220;next_value()&#8221;, accepts
a Sequence object as its argument and renders the
appropriate &#8220;next value&#8221; generation string on the
target platform, if supported.  Also provides
&#8221;.next_value()&#8221; method on Sequence itself.<a class="changeset-link reference internal" href="#change-fc859aa865a01a4d305dee5ee7edc1ce">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2085">#2085</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-13"><span class="target" id="change-c53fe13321aabe9b1255beeab83db25c"><strong>[sql] </strong></span>func.next_value() or other SQL expression can
be embedded directly into an insert() construct,
and if implicit or explicit &#8220;returning&#8221; is used
in conjunction with a primary key column,
the newly generated value will be present in
result.inserted_primary_key.<a class="changeset-link reference internal" href="#change-c53fe13321aabe9b1255beeab83db25c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2084">#2084</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-14"><span class="target" id="change-5dcae35a30548ea7a895134981194320"><strong>[sql] </strong></span>Added accessors to ResultProxy &#8220;returns_rows&#8221;,
&#8220;is_insert&#8221; (also in 0.6.7)<a class="changeset-link reference internal" href="#change-5dcae35a30548ea7a895134981194320">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2089">#2089</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.0b3-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-15"><span class="target" id="change-68e0e1286435ce3f342c12f928e020cb"><strong>[postgresql] </strong></span>Added RESERVED_WORDS for postgresql dialect.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-68e0e1286435ce3f342c12f928e020cb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">#2092</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-16"><span class="target" id="change-d2a17779006167796e2a05814a64b40d"><strong>[postgresql] </strong></span>Fixed the BIT type to allow a &#8220;length&#8221; parameter, &#8220;varying&#8221;
parameter.  Reflection also fixed.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-d2a17779006167796e2a05814a64b40d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2073">#2073</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.0b3-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-17"><span class="target" id="change-1310d3a0d8b578fd7875434f5ccac9b5"><strong>[mssql] </strong></span>Rewrote the query used to get the definition of a view,
typically when using the Inspector interface, to
use sys.sql_modules instead of the information schema,
thereby allowing views definitions longer than 4000
characters to be fully returned.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-1310d3a0d8b578fd7875434f5ccac9b5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2071">#2071</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-firebird">
<h3>firebird<a class="headerlink" href="#change-0.7.0b3-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-18"><span class="target" id="change-71fef9ae2d4a3fee911550e2dd3956b5"><strong>[firebird] </strong></span>The &#8220;implicit_returning&#8221; flag on create_engine() is
honored if set to False.  (also in 0.6.7)<a class="changeset-link reference internal" href="#change-71fef9ae2d4a3fee911550e2dd3956b5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2083">#2083</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b3-misc">
<h3>misc<a class="headerlink" href="#change-0.7.0b3-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b3-19"><span class="target" id="change-048e59b99152e03dc94aece7d4a58bc5"><strong>[informix] </strong></span>Added RESERVED_WORDS informix dialect.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-048e59b99152e03dc94aece7d4a58bc5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">#2092</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-20"><span class="target" id="change-0c37ff1205a5698e49e1cd702b6f6aab"><strong>[ext] </strong></span>The horizontal_shard ShardedSession class accepts the common
Session argument &#8220;query_cls&#8221; as a constructor argument,
to enable further subclassing of ShardedQuery. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-0c37ff1205a5698e49e1cd702b6f6aab">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">#2090</a></p>
</p>
</li>
<li><p id="change-0.7.0b3-21"><span class="target" id="change-c9056c5a1b48170ebc2ddf8226ec46b9"><strong>[examples] </strong></span>Updated the association, association proxy examples
to use declarative, added a new example
dict_of_sets_with_default.py, a &#8220;pushing the envelope&#8221;
example of association proxy.<a class="changeset-link reference internal" href="#change-c9056c5a1b48170ebc2ddf8226ec46b9">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b3-22"><span class="target" id="change-50d97717471ad817c432c80cce080947"><strong>[examples] </strong></span>The Beaker caching example allows a &#8220;query_cls&#8221; argument
to the query_callable() function.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-50d97717471ad817c432c80cce080947">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">#2090</a></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.0b2">
<h2>0.7.0b2<a class="headerlink" href="#change-0.7.0b2" title="Permalink to this headline">¶</a></h2>
Released: Sat Feb 19 2011<div class="section" id="change-0.7.0b2-orm">
<h3>orm<a class="headerlink" href="#change-0.7.0b2-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b2-0"><span class="target" id="change-b274fba360c2b009eb105c6c3e69931c"><strong>[orm] </strong></span>Fixed bug whereby Session.merge() would call the
load() event with one too few arguments.<a class="changeset-link reference internal" href="#change-b274fba360c2b009eb105c6c3e69931c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2053">#2053</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-1"><span class="target" id="change-5f74d0b93a75d1a035e5774a2f3efe4a"><strong>[orm] </strong></span>Added logic which prevents the generation of
events from a MapperExtension or SessionExtension
from generating do-nothing events for all the methods
not overridden.<a class="changeset-link reference internal" href="#change-5f74d0b93a75d1a035e5774a2f3efe4a">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2052">#2052</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b2-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.7.0b2-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b2-2"><span class="target" id="change-c38fe2e3d383ffe42f0caca46aa19754"><strong>[declarative] [orm] </strong></span>Fixed regression whereby composite() with
Column objects placed inline would fail
to initialize.  The Column objects can now
be inline with the composite() or external
and pulled in via name or object ref.<a class="changeset-link reference internal" href="#change-c38fe2e3d383ffe42f0caca46aa19754">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2058">#2058</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-3"><span class="target" id="change-868f6a352dcb3c48154087013ea5446d"><strong>[declarative] [orm] </strong></span>Fix error message referencing old &#64;classproperty
name to reference &#64;declared_attr
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-868f6a352dcb3c48154087013ea5446d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2061">#2061</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-4"><span class="target" id="change-74177071c6a10f9bfc0211cbd13fd13b"><strong>[declarative] [orm] </strong></span>the dictionary at the end of the __table_args__
tuple is now optional.<a class="changeset-link reference internal" href="#change-74177071c6a10f9bfc0211cbd13fd13b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1468">#1468</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b2-sql">
<h3>sql<a class="headerlink" href="#change-0.7.0b2-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b2-5"><span class="target" id="change-dc2cf4dea9f417e9de9e08875f99a6e2"><strong>[sql] </strong></span>Renamed the EngineEvents event class to
ConnectionEvents.  As these classes are never
accessed directly by end-user code, this strictly
is a documentation change for end users.  Also
simplified how events get linked to engines
and connections internally.<a class="changeset-link reference internal" href="#change-dc2cf4dea9f417e9de9e08875f99a6e2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2059">#2059</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-6"><span class="target" id="change-7299f4b7dbf53dbcd7da7f65a3155088"><strong>[sql] </strong></span>The Sequence() construct, when passed a MetaData()
object via its &#8216;metadata&#8217; argument, will be
included in CREATE/DROP statements within
metadata.create_all() and metadata.drop_all(),
including &#8220;checkfirst&#8221; logic.<a class="changeset-link reference internal" href="#change-7299f4b7dbf53dbcd7da7f65a3155088">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2055">#2055</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-7"><span class="target" id="change-226a1b45c1480947ae9cd710a9ea6b17"><strong>[sql] </strong></span>The Column.references() method now returns True
if it has a foreign key referencing the
given column exactly, not just it&#8217;s parent
table.<a class="changeset-link reference internal" href="#change-226a1b45c1480947ae9cd710a9ea6b17">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2064">#2064</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b2-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.0b2-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b2-8"><span class="target" id="change-4b228a39709839285af0e98dcc00a2e5"><strong>[postgresql] </strong></span>Fixed regression from 0.6 where SMALLINT and
BIGINT types would both generate SERIAL
on an integer PK column, instead of
SMALLINT and BIGSERIAL<a class="changeset-link reference internal" href="#change-4b228a39709839285af0e98dcc00a2e5">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2065">#2065</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b2-misc">
<h3>misc<a class="headerlink" href="#change-0.7.0b2-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b2-9"><span class="target" id="change-fbab34328d4fe6cc71b895aa96f6e969"><strong>[ext] </strong></span>Association proxy now has correct behavior for
any(), has(), and contains() when proxying
a many-to-one scalar attribute to a one-to-many
collection (i.e. the reverse of the &#8216;typical&#8217;
association proxy use case)<a class="changeset-link reference internal" href="#change-fbab34328d4fe6cc71b895aa96f6e969">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2054">#2054</a></p>
</p>
</li>
<li><p id="change-0.7.0b2-10"><span class="target" id="change-5f4e8c1c67082ea05fef1c10cf1f5591"><strong>[examples] </strong></span>Beaker example now takes into account &#8216;limit&#8217;
and &#8216;offset&#8217;, bind params within embedded
FROM clauses (like when you use union() or
from_self()) when generating a cache key.<a class="changeset-link reference internal" href="#change-5f4e8c1c67082ea05fef1c10cf1f5591">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
<div class="section" id="change-0.7.0b1">
<h2>0.7.0b1<a class="headerlink" href="#change-0.7.0b1" title="Permalink to this headline">¶</a></h2>
Released: Sat Feb 12 2011<div class="section" id="change-0.7.0b1-general">
<h3>general<a class="headerlink" href="#change-0.7.0b1-general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-0"><span class="target" id="change-ab2b52a570ddf34b07ed43a60bbd3b4e"><strong>[general] </strong></span>New event system, supercedes all extensions, listeners,
etc.<a class="changeset-link reference internal" href="#change-ab2b52a570ddf34b07ed43a60bbd3b4e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1902">#1902</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-1"><span class="target" id="change-945982ae61324c2ad8e97d0b27c94438"><strong>[general] </strong></span>Logging enhancements<a class="changeset-link reference internal" href="#change-945982ae61324c2ad8e97d0b27c94438">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1926">#1926</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-2"><span class="target" id="change-f6989c0ecdc122204dd55da78db6a998"><strong>[general] </strong></span>Setup no longer installs a Nose plugin<a class="changeset-link reference internal" href="#change-f6989c0ecdc122204dd55da78db6a998">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1949">#1949</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-3"><span class="target" id="change-8789fcdc9fc591ffd61cdf382b03f1bf"><strong>[general] </strong></span>The &#8220;sqlalchemy.exceptions&#8221; alias in sys.modules
has been removed.   Base SQLA exceptions are
available via &#8220;from sqlalchemy import exc&#8221;.
The &#8220;exceptions&#8221; alias for &#8220;exc&#8221; remains in
&#8220;sqlalchemy&#8221; for now, it&#8217;s just not patched into
sys.modules.<a class="changeset-link reference internal" href="#change-8789fcdc9fc591ffd61cdf382b03f1bf">(link)</a><p></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-orm">
<h3>orm<a class="headerlink" href="#change-0.7.0b1-orm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-4"><span class="target" id="change-e2528c2304f18c2ce5f5394b38fd2415"><strong>[orm] </strong></span>More succinct form of query.join(target, onclause)<a class="changeset-link reference internal" href="#change-e2528c2304f18c2ce5f5394b38fd2415">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1923">#1923</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-5"><span class="target" id="change-be4b2e0874f24a29212a2dc7e0670d11"><strong>[orm] </strong></span>Hybrid Attributes, implements/supercedes synonym()<a class="changeset-link reference internal" href="#change-be4b2e0874f24a29212a2dc7e0670d11">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1903">#1903</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-6"><span class="target" id="change-5ff099f70239c548b3bc388c7870d61d"><strong>[orm] </strong></span>Rewrite of composites<a class="changeset-link reference internal" href="#change-5ff099f70239c548b3bc388c7870d61d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2008">#2008</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-7"><span class="target" id="change-3d190295967ea8183ef9f1e6664f8c47"><strong>[orm] </strong></span>Mutation Event Extension, supercedes &#8220;mutable=True&#8221;<a class="changeset-link reference internal" href="#change-3d190295967ea8183ef9f1e6664f8c47">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-8"><span class="target" id="change-452cd1cadc41336c00209963c1a0efec"><strong>[orm] </strong></span>PickleType and ARRAY mutability turned off by default<a class="changeset-link reference internal" href="#change-452cd1cadc41336c00209963c1a0efec">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1980">#1980</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-9"><span class="target" id="change-fa249f9f1f872acaf7380e30c7058dfb"><strong>[orm] </strong></span>Simplified polymorphic_on assignment<a class="changeset-link reference internal" href="#change-fa249f9f1f872acaf7380e30c7058dfb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1895">#1895</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-10"><span class="target" id="change-65fcae8bce879fde267e5bc2176105d2"><strong>[orm] </strong></span>Flushing of Orphans that have no parent is allowed<a class="changeset-link reference internal" href="#change-65fcae8bce879fde267e5bc2176105d2">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1912">#1912</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-11"><span class="target" id="change-dd6608b232dab23abed7950caa675c94"><strong>[orm] </strong></span>Adjusted flush accounting step to occur before
the commit in the case of autocommit=True.  This allows
autocommit=True to work appropriately with
expire_on_commit=True, and also allows post-flush session
hooks to operate in the same transactional context
as when autocommit=False.<a class="changeset-link reference internal" href="#change-dd6608b232dab23abed7950caa675c94">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2041">#2041</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-12"><span class="target" id="change-586a512ca20f542fb0b3dc90624687c0"><strong>[orm] </strong></span>Warnings generated when collection members, scalar referents
not part of the flush<a class="changeset-link reference internal" href="#change-586a512ca20f542fb0b3dc90624687c0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1973">#1973</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-13"><span class="target" id="change-de6d90bab81e4535b80a9aaec843aae3"><strong>[orm] </strong></span>Non-<cite>Table</cite>-derived constructs can be mapped<a class="changeset-link reference internal" href="#change-de6d90bab81e4535b80a9aaec843aae3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1876">#1876</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-14"><span class="target" id="change-9f98e54eee44096194e20016e063a63f"><strong>[orm] </strong></span>Tuple label names in Query Improved<a class="changeset-link reference internal" href="#change-9f98e54eee44096194e20016e063a63f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1942">#1942</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-15"><span class="target" id="change-d7e002896ff0028a50064856662321b7"><strong>[orm] </strong></span>Mapped column attributes reference the most specific
column first<a class="changeset-link reference internal" href="#change-d7e002896ff0028a50064856662321b7">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1892">#1892</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-16"><span class="target" id="change-f59d4965cb5e9d7d9ba76a7bae137d5d"><strong>[orm] </strong></span>Mapping to joins with two or more same-named columns
requires explicit declaration<a class="changeset-link reference internal" href="#change-f59d4965cb5e9d7d9ba76a7bae137d5d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">#1896</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-17"><span class="target" id="change-13e4c4103063e6adbaaedc9649f9c1fe"><strong>[orm] </strong></span>Mapper requires that polymorphic_on column be present
in the mapped selectable<a class="changeset-link reference internal" href="#change-13e4c4103063e6adbaaedc9649f9c1fe">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1875">#1875</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-18"><span class="target" id="change-2dabcc2d64dee7e464a3d9ff742f95b4"><strong>[orm] </strong></span>compile_mappers() renamed configure_mappers(), simplified
configuration internals<a class="changeset-link reference internal" href="#change-2dabcc2d64dee7e464a3d9ff742f95b4">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1966">#1966</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-19"><span class="target" id="change-60d1bd5cee4037cb48cb3ee6c86a3435"><strong>[orm] </strong></span>the aliased() function, if passed a SQL FromClause element
(i.e. not a mapped class), will return element.alias()
instead of raising an error on AliasedClass.<a class="changeset-link reference internal" href="#change-60d1bd5cee4037cb48cb3ee6c86a3435">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2018">#2018</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-20"><span class="target" id="change-dc30e7fb7d7d28808f8ca91367130826"><strong>[orm] </strong></span>Session.merge() will check the version id of the incoming
state against that of the database, assuming the mapping
uses version ids and incoming state has a version_id
assigned, and raise StaleDataError if they don&#8217;t
match.<a class="changeset-link reference internal" href="#change-dc30e7fb7d7d28808f8ca91367130826">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2027">#2027</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-21"><span class="target" id="change-191d0bb9d2c5b9df0b3ca39410d088ea"><strong>[orm] </strong></span>Session.connection(), Session.execute() accept &#8216;bind&#8217;,
to allow execute/connection operations to participate
in the open transaction of an engine explicitly.<a class="changeset-link reference internal" href="#change-191d0bb9d2c5b9df0b3ca39410d088ea">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1996">#1996</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-22"><span class="target" id="change-ed301a804b81ba5c8f397eed63b643a8"><strong>[orm] </strong></span>Query.join(), Query.outerjoin(), eagerload(),
eagerload_all(), others no longer allow lists
of attributes as arguments (i.e. option([x, y, z])
form, deprecated since 0.5)<a class="changeset-link reference internal" href="#change-ed301a804b81ba5c8f397eed63b643a8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-23"><span class="target" id="change-74d839b75f6ed3070bb2089114ec518d"><strong>[orm] </strong></span>ScopedSession.mapper is removed (deprecated since 0.5).<a class="changeset-link reference internal" href="#change-74d839b75f6ed3070bb2089114ec518d">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-24"><span class="target" id="change-220a91af357bdbb12a4ddac587ad3bc6"><strong>[orm] </strong></span>Horizontal shard query places &#8216;shard_id&#8217; in
context.attributes where it&#8217;s accessible by the
&#8220;load()&#8221; event.<a class="changeset-link reference internal" href="#change-220a91af357bdbb12a4ddac587ad3bc6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2031">#2031</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-25"><span class="target" id="change-1d6862171baa025c434e161124856982"><strong>[orm] </strong></span>A single contains_eager() call across
multiple entities will indicate all collections
along that path should load, instead of requiring
distinct contains_eager() calls for each endpoint
(which was never correctly documented).<a class="changeset-link reference internal" href="#change-1d6862171baa025c434e161124856982">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2032">#2032</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-26"><span class="target" id="change-eb3d1a3aeabd2864f9d545834fcd8608"><strong>[orm] </strong></span>The &#8220;name&#8221; field used in orm.aliased() now renders
in the resulting SQL statement.<a class="changeset-link reference internal" href="#change-eb3d1a3aeabd2864f9d545834fcd8608">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-27"><span class="target" id="change-0cf6ed342d196434add59c6825ec0e14"><strong>[orm] </strong></span>Session weak_instance_dict=False is deprecated.<a class="changeset-link reference internal" href="#change-0cf6ed342d196434add59c6825ec0e14">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1473">#1473</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-28"><span class="target" id="change-1ee59f0d4bd130bb4f4e3b46008c4f81"><strong>[orm] </strong></span>An exception is raised in the unusual case that an
append or similar event on a collection occurs after
the parent object has been dereferenced, which
prevents the parent from being marked as &#8220;dirty&#8221;
in the session.  Was a warning in 0.6.6.<a class="changeset-link reference internal" href="#change-1ee59f0d4bd130bb4f4e3b46008c4f81">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">#2046</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-29"><span class="target" id="change-0441351e3f35ced69e9bca95245b59b8"><strong>[orm] </strong></span>Query.distinct() now accepts column expressions
as <a href="#id7"><span class="problematic" id="id8">*</span></a>args, interpreted by the Postgresql dialect
as DISTINCT ON (&lt;expr&gt;).<a class="changeset-link reference internal" href="#change-0441351e3f35ced69e9bca95245b59b8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1069">#1069</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-30"><span class="target" id="change-38da3ba0231e5a2247b5a85e512c64af"><strong>[orm] </strong></span>Additional tuning to &#8220;many-to-one&#8221; relationship
loads during a flush().   A change in version 0.6.6
([ticket:2002]) required that more &#8220;unnecessary&#8221; m2o
loads during a flush could occur.   Extra loading modes have
been added so that the SQL emitted in this
specific use case is trimmed back, while still
retrieving the information the flush needs in order
to not miss anything.<a class="changeset-link reference internal" href="#change-38da3ba0231e5a2247b5a85e512c64af">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2049">#2049</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-31"><span class="target" id="change-cd5eacd2ab6529a6aced3f60d15768f1"><strong>[orm] </strong></span>the value of &#8220;passive&#8221; as passed to
attributes.get_history() should be one of the
constants defined in the attributes package.  Sending
True or False is deprecated.<a class="changeset-link reference internal" href="#change-cd5eacd2ab6529a6aced3f60d15768f1">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-32"><span class="target" id="change-06edae870b218a7c13eae46fc5fef29d"><strong>[orm] </strong></span>Added a <cite>name</cite> argument to <cite>Query.subquery()</cite>, to allow
a fixed name to be assigned to the alias object. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-06edae870b218a7c13eae46fc5fef29d">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2030">#2030</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-33"><span class="target" id="change-95089bbf3908e1e43535422631fcd73c"><strong>[orm] </strong></span>A warning is emitted when a joined-table inheriting mapper
has no primary keys on the locally mapped table
(but has pks on the superclass table).
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-95089bbf3908e1e43535422631fcd73c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2019">#2019</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-34"><span class="target" id="change-92bbd3ad95fb22126cc39a64783f97a8"><strong>[orm] </strong></span>Fixed bug where &#8220;middle&#8221; class in a polymorphic hierarchy
would have no &#8216;polymorphic_on&#8217; column if it didn&#8217;t also
specify a &#8216;polymorphic_identity&#8217;, leading to strange
errors upon refresh, wrong class loaded when querying
from that target. Also emits the correct WHERE criterion
when using single table inheritance.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-92bbd3ad95fb22126cc39a64783f97a8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2038">#2038</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-35"><span class="target" id="change-0734871e34b4de0cfa57a987165f3e25"><strong>[orm] </strong></span>Fixed bug where a column with a SQL or server side default
that was excluded from a mapping with include_properties
or exclude_properties would result in UnmappedColumnError. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-0734871e34b4de0cfa57a987165f3e25">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1995">#1995</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-36"><span class="target" id="change-c0ff4c4fbb4211eee4b16aa8804e09e1"><strong>[orm] </strong></span>A warning is emitted in the unusual case that an
append or similar event on a collection occurs after
the parent object has been dereferenced, which
prevents the parent from being marked as &#8220;dirty&#8221;
in the session.  This will be an exception in 0.7. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-c0ff4c4fbb4211eee4b16aa8804e09e1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">#2046</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-orm-declarative">
<h3>orm declarative<a class="headerlink" href="#change-0.7.0b1-orm-declarative" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-37"><span class="target" id="change-f4bd4cade780402e38c5ce23e28051cb"><strong>[declarative] [orm] </strong></span>Added an explicit check for the case that the name
&#8216;metadata&#8217; is used for a column attribute on a
declarative class. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-f4bd4cade780402e38c5ce23e28051cb">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2050">#2050</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-sql">
<h3>sql<a class="headerlink" href="#change-0.7.0b1-sql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-38"><span class="target" id="change-4eb7f2aa59933bfc4c2322c448c1238f"><strong>[sql] </strong></span>Added over() function, method to FunctionElement
classes, produces the _Over() construct which
in turn generates &#8220;window functions&#8221;, i.e.
&#8220;&lt;window function&gt; OVER (PARTITION BY &lt;partition by&gt;,
ORDER BY &lt;order by&gt;)&#8221;.<a class="changeset-link reference internal" href="#change-4eb7f2aa59933bfc4c2322c448c1238f">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1844">#1844</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-39"><span class="target" id="change-008af6797c834ccbbd51f2ae2c7fba1b"><strong>[sql] </strong></span>LIMIT/OFFSET clauses now use bind parameters<a class="changeset-link reference internal" href="#change-008af6797c834ccbbd51f2ae2c7fba1b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/805">#805</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-40"><span class="target" id="change-e59a066a470d2a315f1a10b3fecc1024"><strong>[sql] </strong></span>select.distinct() now accepts column expressions
as <a href="#id9"><span class="problematic" id="id10">*</span></a>args, interpreted by the Postgresql dialect
as DISTINCT ON (&lt;expr&gt;).  Note this was already
available via passing a list to the <cite>distinct</cite>
keyword argument to select().<a class="changeset-link reference internal" href="#change-e59a066a470d2a315f1a10b3fecc1024">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1069">#1069</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-41"><span class="target" id="change-74b84516f82a8a30a03f704d6ec1d920"><strong>[sql] </strong></span>select.prefix_with() accepts multiple expressions
(i.e. <a href="#id11"><span class="problematic" id="id12">*</span></a>expr), &#8216;prefix&#8217; keyword argument to select()
accepts a list or tuple.<a class="changeset-link reference internal" href="#change-74b84516f82a8a30a03f704d6ec1d920">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-42"><span class="target" id="change-df9bfaf8018c8b1539a0b4c8a07550c8"><strong>[sql] </strong></span>Passing a string to the <cite>distinct</cite> keyword argument
of <cite>select()</cite> for the purpose of emitting special
MySQL keywords (DISTINCTROW etc.) is deprecated -
use <cite>prefix_with()</cite> for this.<a class="changeset-link reference internal" href="#change-df9bfaf8018c8b1539a0b4c8a07550c8">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-43"><span class="target" id="change-9112c97367c753c162923d518d541ed0"><strong>[sql] </strong></span>TypeDecorator works with primary key columns<a class="changeset-link reference internal" href="#change-9112c97367c753c162923d518d541ed0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2006">#2006</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2005">#2005</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-44"><span class="target" id="change-fc71ca433aef5e4ec0d6b0d752fd6b2e"><strong>[sql] </strong></span>DDL() constructs now escape percent signs<a class="changeset-link reference internal" href="#change-fc71ca433aef5e4ec0d6b0d752fd6b2e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1897">#1897</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-45"><span class="target" id="change-f3cb599e9c46745a4bf2b2b7201214bf"><strong>[sql] </strong></span>Table.c / MetaData.tables refined a bit, don&#8217;t allow direct
mutation<a class="changeset-link reference internal" href="#change-f3cb599e9c46745a4bf2b2b7201214bf">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1917">#1917</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1893">#1893</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-46"><span class="target" id="change-9b51a25af44112e886144cd60fa90f62"><strong>[sql] </strong></span>Callables passed to <cite>bindparam()</cite> don&#8217;t get evaluated<a class="changeset-link reference internal" href="#change-9b51a25af44112e886144cd60fa90f62">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1950">#1950</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-47"><span class="target" id="change-d22c8592021bf7d745621ed05d7429f1"><strong>[sql] </strong></span>types.type_map is now private, types._type_map<a class="changeset-link reference internal" href="#change-d22c8592021bf7d745621ed05d7429f1">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1870">#1870</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-48"><span class="target" id="change-1c2d3bb55bfa7910f19563447af291d6"><strong>[sql] </strong></span>Non-public Pool methods underscored<a class="changeset-link reference internal" href="#change-1c2d3bb55bfa7910f19563447af291d6">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1982">#1982</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-49"><span class="target" id="change-192c99cfcb4e50b3886277fbd4c9a212"><strong>[sql] </strong></span>Added NULLS FIRST and NULLS LAST support. It&#8217;s implemented
as an extension to the asc() and desc() operators, called
nullsfirst() and nullslast().<a class="changeset-link reference internal" href="#change-192c99cfcb4e50b3886277fbd4c9a212">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/723">#723</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-50"><span class="target" id="change-8a34b5293403955387df1c3e2d0a0a41"><strong>[sql] </strong></span>The Index() construct can be created inline with a Table
definition, using strings as column names, as an alternative
to the creation of the index outside of the Table.<a class="changeset-link reference internal" href="#change-8a34b5293403955387df1c3e2d0a0a41">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-51"><span class="target" id="change-62c7aacfaee859d90d792e30c31ac9bc"><strong>[sql] </strong></span>execution_options() on Connection accepts
&#8220;isolation_level&#8221; argument, sets transaction isolation
level for that connection only until returned to the
connection pool, for thsoe backends which support it
(SQLite, Postgresql)<a class="changeset-link reference internal" href="#change-62c7aacfaee859d90d792e30c31ac9bc">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2001">#2001</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-52"><span class="target" id="change-f93d9cab78c0153cf9fb0a71c0ea0259"><strong>[sql] </strong></span>A TypeDecorator of Integer can be used with a primary key
column, and the &#8220;autoincrement&#8221; feature of various dialects
as well as the &#8220;sqlite_autoincrement&#8221; flag will honor
the underlying database type as being Integer-based.<a class="changeset-link reference internal" href="#change-f93d9cab78c0153cf9fb0a71c0ea0259">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2005">#2005</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-53"><span class="target" id="change-4913415ba5d037bab37eccc00e534daa"><strong>[sql] </strong></span>Established consistency when server_default is present
on an Integer PK column.  SQLA doesn&#8217;t pre-fetch these,
nor do they come back in cursor.lastrowid (DBAPI).
Ensured all backends consistently return None
in result.inserted_primary_key for these. Regarding
reflection for this case, reflection of an int PK col
with a server_default sets the &#8220;autoincrement&#8221; flag to False,
except in the case of a PG SERIAL col where we detected a
sequence default.<a class="changeset-link reference internal" href="#change-4913415ba5d037bab37eccc00e534daa">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2020">#2020</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2021">#2021</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-54"><span class="target" id="change-523eaa86a6fb8bbbe523f6ff4320e065"><strong>[sql] </strong></span>Result-row processors are applied to pre-executed SQL
defaults, as well as cursor.lastrowid, when determining
the contents of result.inserted_primary_key.<a class="changeset-link reference internal" href="#change-523eaa86a6fb8bbbe523f6ff4320e065">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2006">#2006</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-55"><span class="target" id="change-64b01c67299868c1e98b5a3c2f0c472a"><strong>[sql] </strong></span>Bind parameters present in the &#8220;columns clause&#8221; of a select
are now auto-labeled like other &#8220;anonymous&#8221; clauses,
which among other things allows their &#8220;type&#8221; to be meaningful
when the row is fetched, as in result row processors.<a class="changeset-link reference internal" href="#change-64b01c67299868c1e98b5a3c2f0c472a">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-56"><span class="target" id="change-ecc90be10a16dfffd1ad51bf80e0de25"><strong>[sql] </strong></span>TypeDecorator is present in the &#8220;sqlalchemy&#8221; import space.<a class="changeset-link reference internal" href="#change-ecc90be10a16dfffd1ad51bf80e0de25">(link)</a><p></p>
</p>
</li>
<li><p id="change-0.7.0b1-57"><span class="target" id="change-fb26558eb829e86d5464e9c8f060232b"><strong>[sql] </strong></span>Non-DBAPI errors which occur in the scope of an <cite>execute()</cite>
call are now wrapped in sqlalchemy.exc.StatementError,
and the text of the SQL statement and repr() of params
is included.  This makes it easier to identify statement
executions which fail before the DBAPI becomes
involved.<a class="changeset-link reference internal" href="#change-fb26558eb829e86d5464e9c8f060232b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2015">#2015</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-58"><span class="target" id="change-a66b20fca49c0f8524e0f9b13450df30"><strong>[sql] </strong></span>The concept of associating a &#8221;.bind&#8221; directly with a
ClauseElement has been explicitly moved to Executable,
i.e. the mixin that describes ClauseElements which represent
engine-executable constructs.  This change is an improvement
to internal organization and is unlikely to affect any
real-world usage.<a class="changeset-link reference internal" href="#change-a66b20fca49c0f8524e0f9b13450df30">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2048">#2048</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-59"><span class="target" id="change-a466de1bb8545241b6aa4e22314db722"><strong>[sql] </strong></span>Column.copy(), as used in table.tometadata(), copies the
&#8216;doc&#8217; attribute.  (also in 0.6.7)<a class="changeset-link reference internal" href="#change-a466de1bb8545241b6aa4e22314db722">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2028">#2028</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-60"><span class="target" id="change-e01bc44c0b8683e725b54e07f17b3db8"><strong>[sql] </strong></span>Added some defs to the resultproxy.c extension so that
the extension compiles and runs on Python 2.4. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-e01bc44c0b8683e725b54e07f17b3db8">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2023">#2023</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-61"><span class="target" id="change-eb2cc6cfb9f8870e2eec8d687b2b5f2c"><strong>[sql] </strong></span>The compiler extension now supports overriding the default
compilation of expression._BindParamClause including that
the auto-generated binds within the VALUES/SET clause
of an insert()/update() statement will also use the new
compilation rules. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-eb2cc6cfb9f8870e2eec8d687b2b5f2c">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2042">#2042</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-62"><span class="target" id="change-4664bca0e88c4aa7baf8649d823fa11e"><strong>[sql] </strong></span>SQLite dialect now uses <cite>NullPool</cite> for file-based databases<a class="changeset-link reference internal" href="#change-4664bca0e88c4aa7baf8649d823fa11e">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1921">#1921</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-63"><span class="target" id="change-4afa9ef114e44f1d7f2ee4ab49ea60b0"><strong>[sql] </strong></span>The path given as the location of a sqlite database is now
normalized via os.path.abspath(), so that directory changes
within the process don&#8217;t affect the ultimate location
of a relative file path.<a class="changeset-link reference internal" href="#change-4afa9ef114e44f1d7f2ee4ab49ea60b0">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2036">#2036</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-postgresql">
<h3>postgresql<a class="headerlink" href="#change-0.7.0b1-postgresql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-64"><span class="target" id="change-b5ada6099a9b9ba39ca6d8b0c0827b92"><strong>[postgresql] </strong></span>When explicit sequence execution derives the name
of the auto-generated sequence of a SERIAL column,
which currently only occurs if implicit_returning=False,
now accommodates if the table + column name is greater
than 63 characters using the same logic Postgresql uses. (also in 0.6.7)<a class="changeset-link reference internal" href="#change-b5ada6099a9b9ba39ca6d8b0c0827b92">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1083">#1083</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-65"><span class="target" id="change-05134b7490c95da9c06e6ec525e05543"><strong>[postgresql] </strong></span>Added an additional libpq message to the list of &#8220;disconnect&#8221;
exceptions, &#8220;could not receive data from server&#8221; (also in 0.6.7)<a class="changeset-link reference internal" href="#change-05134b7490c95da9c06e6ec525e05543">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2044">#2044</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-mysql">
<h3>mysql<a class="headerlink" href="#change-0.7.0b1-mysql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-66"><span class="target" id="change-7d80eda9ae55c5d7135bf452c7420586"><strong>[mysql] </strong></span>New DBAPI support for pymysql, a pure Python port
of MySQL-python.<a class="changeset-link reference internal" href="#change-7d80eda9ae55c5d7135bf452c7420586">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1991">#1991</a></p>
</p>
</li>
<li><p id="change-0.7.0b1-67"><span class="target" id="change-b7f58cb72e13cc5af0d1da04d82b64d3"><strong>[mysql] </strong></span>oursql dialect accepts the same &#8220;ssl&#8221; arguments in
create_engine() as that of MySQLdb.
(also in 0.6.7)<a class="changeset-link reference internal" href="#change-b7f58cb72e13cc5af0d1da04d82b64d3">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2047">#2047</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-mssql">
<h3>mssql<a class="headerlink" href="#change-0.7.0b1-mssql" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-68"><span class="target" id="change-63bd4273775d5a53a36af9dd8ee5b79b"><strong>[mssql] </strong></span>the String/Unicode types, and their counterparts VARCHAR/
NVARCHAR, emit &#8220;max&#8221; as the length when no length is
specified, so that the default length, normally &#8216;1&#8217;
as per SQL server documentation, is instead
&#8216;unbounded&#8217;.  This also occurs for the VARBINARY type..<p>This behavior makes these types more closely compatible
with Postgresql&#8217;s VARCHAR type which is similarly unbounded
when no length is specified.</p>
<a class="changeset-link reference internal" href="#change-63bd4273775d5a53a36af9dd8ee5b79b">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1833">#1833</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-firebird">
<h3>firebird<a class="headerlink" href="#change-0.7.0b1-firebird" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-69"><span class="target" id="change-432e2525c02e26b7c7853622f71b1123"><strong>[firebird] </strong></span>Some adjustments so that Interbase is supported as well.
FB/Interbase version idents are parsed into a structure
such as (8, 1, 1, &#8216;interbase&#8217;) or (2, 1, 588, &#8216;firebird&#8217;)
so they can be distinguished.<a class="changeset-link reference internal" href="#change-432e2525c02e26b7c7853622f71b1123">(link)</a><p> <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1885">#1885</a></p>
</p>
</li>
</ul>
</div>
<div class="section" id="change-0.7.0b1-misc">
<h3>misc<a class="headerlink" href="#change-0.7.0b1-misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p id="change-0.7.0b1-70"><span class="target" id="change-d347d88fe254c05459e964fb7a9d3005"></span>Detailed descriptions of each change below are
described at:
<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/07Migration">http://www.sqlalchemy.org/trac/wiki/07Migration</a><a class="changeset-link reference internal" href="#change-d347d88fe254c05459e964fb7a9d3005">(link)</a><p></p>
</p>
</li>
</ul>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links">
        Previous:
        <a href="changelog_08.html" title="previous chapter">0.8 Changelog</a>
        Next:
        <a href="changelog_06.html" title="next chapter">0.6 Changelog</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2013, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
</div>

</div>

        
    </body>
</html>


